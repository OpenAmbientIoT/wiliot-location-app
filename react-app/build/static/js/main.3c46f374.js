/*! For license information please see main.3c46f374.js.LICENSE.txt */
(()=>{var e={3361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function x(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function k(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function E(){return u(w,y)}function C(){return y}function I(e,t){return d(w,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return m=g=1,v=h(w=e),y=0,[]}function P(e){return w="",e}function N(e){return a(I(y-1,O(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(b=E())&&b<33;)k();return T(e)>2||T(b)>3?"":" "}function D(e,t){for(;--t&&k()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return I(e,C()+(t<6&&32==E()&&32==k()))}function O(e){for(;k();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&O(b);break;case 40:41===e&&O(e);break;case 92:k()}return y}function M(e,t){for(;k()&&e+b!==57&&(e+b!==84||47!==E()););return"/*"+I(t,y-1)+"*"+o(47===e?e:k())}function L(e){for(;!T(E());)k();return I(e,y)}var F="-ms-",z="-moz-",j="-webkit-",Z="comm",U="rule",B="decl",V="@keyframes";function q(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case Z:return"";case V:return e.return=e.value+"{"+q(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return P(G("",null,null,null,[""],e=R(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,y=0,b=0,w=0,_=1,x=1,I=1,T=0,R="",P=i,O=s,F=r,z=R;x;)switch(w=T,T=k()){case 40:if(108!=w&&58==u(z,v-1)){-1!=c(z+=l(N(T),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:z+=N(T);break;case 9:case 10:case 13:case 32:z+=A(w);break;case 92:z+=D(C()-1,7);continue;case 47:switch(E()){case 42:case 47:p(Q(M(k(),C()),t,n),f);break;default:z+="/"}break;case 123*_:d[m++]=h(z)*I;case 125*_:case 59:case 0:switch(T){case 0:case 125:x=0;case 59+g:-1==I&&(z=l(z,/\f/g,"")),b>0&&h(z)-v&&p(b>32?$(z+";",r,n,v-1):$(l(z," ","")+";",r,n,v-2),f);break;case 59:z+=";";default:if(p(F=K(z,t,n,m,g,i,d,R,P=[],O=[],v),s),123===T)if(0===g)G(z,t,F,F,P,s,v,d,O);else switch(99===y&&110===u(z,3)?100:y){case 100:case 108:case 109:case 115:G(e,F,F,r&&p(K(e,F,F,0,0,i,d,R,i,P=[],v),O),i,O,v,d,r?P:O);break;default:G(z,F,F,F,[""],O,0,d,O)}}m=g=b=0,_=I=1,R=z="",v=a;break;case 58:v=1+h(z),b=w;default:if(_<1)if(123==T)--_;else if(125==T&&0==_++&&125==S())continue;switch(z+=o(T),T*_){case 38:I=g>0?1:(z+="\f",-1);break;case 44:d[m++]=(h(z)-1)*I,I=1;break;case 64:45===E()&&(z+=N(k())),y=E(),g=v=h(R=z+=L(C())),T++;break;case 45:45===w&&2==h(z)&&(_=0)}}return s}function K(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],y=f(v),b=0,w=0,x=0;b<r;++b)for(var S=0,k=d(e,g+1,g=i(w=c[b])),E=e;S<y;++S)(E=a(w>0?v[S]+" "+k:l(k,/&\f/g,v[S])))&&(h[x++]=E);return _(e,t,n,0===o?U:u,h,p,m)}function Q(e,t,n){return _(e,t,n,Z,o(b),d(e,2,-2),0)}function $(e,t,n,r){return _(e,t,n,B,d(e,0,r),d(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=E(),38===r&&12===i&&(t[n]=1),!T(i);)k();return I(e,y)},X=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=N(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=k());return e}(R(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=X(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+z+e+F+e+e;case 6828:case 4268:return j+e+F+e+e;case 6165:return j+e+F+"flex-"+e+e;case 5187:return j+e+l(e,/(\w+).+(:[^]+)/,j+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return j+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return j+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+F+l(e,"shrink","negative")+e;case 5292:return j+e+F+l(e,"basis","preferred-size")+e;case 6060:return j+"box-"+l(e,"-grow","")+j+e+F+l(e,"grow","positive")+e;case 4554:return j+l(e,/([^-])(transform)/g,"$1"+j+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,j+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+j+"$2-$3$1"+z+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+j)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===u(e,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return j+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case B:e.return=ne(e.value,e.length);break;case V:return q([x(e,{value:l(e.value,"@","@"+j)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([x(e,{props:[l(t,/:(plac\w+)/,":"+j+"input-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[W,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,q(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return p.sheet.hydrate(l),p}},9797:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:()=>r})},2564:(e,t,n)=>{"use strict";n.d(t,{T:()=>l,i:()=>o,w:()=>a});var r=n(2791),i=n(3361),o=(n(5207),n(2561),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null);s.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(a=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.Z)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},5207:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(9797),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.Z)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},2561:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>s,j:()=>a});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},5438:(e,t,n)=>{"use strict";n.d(t,{My:()=>o,fp:()=>r,hC:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},3108:(e,t,n)=>{"use strict";n.d(t,{$n:()=>d,Fq:()=>c,_j:()=>u,mi:()=>a});var r=n(7483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function a(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),s({type:c,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,s(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return s(e)}},6865:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(5987),i=n(1534),o=n(7462),s=["xs","sm","md","lg","xl"];var a=n(4942);function l(e,t,n){var r;return(0,o.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,o.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,a.Z)({},e.up("sm"),(0,o.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,a.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,a.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(7483);const u={black:"#000",white:"#fff"};const d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const f={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var y=n(3108),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,y.$n)(e.main,i):"dark"===t&&(e.dark=(0,y._j)(e.main,o)))}function x(e){return Math.round(1e5*e)/1e5}function S(e){return x(e)}var k={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,s=n.fontFamily,a=void 0===s?E:s,l=n.fontSize,c=void 0===l?14:l,u=n.fontWeightLight,d=void 0===u?300:u,h=n.fontWeightRegular,f=void 0===h?400:h,p=n.fontWeightMedium,m=void 0===p?500:p,g=n.fontWeightBold,v=void 0===g?700:g,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,_=n.pxToRem,C=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var I=c/14,T=_||function(e){return"".concat(e/b*I,"rem")},R=function(e,t,n,r,i){return(0,o.Z)({fontFamily:a,fontWeight:e,fontSize:T(t),lineHeight:n},a===E?{letterSpacing:"".concat(x(r/t),"em")}:{},i,w)},P={h1:R(d,96,1.167,-1.5),h2:R(d,60,1.2,-.5),h3:R(f,48,1.167,0),h4:R(f,34,1.235,.25),h5:R(f,24,1.334,0),h6:R(m,20,1.6,.15),subtitle1:R(f,16,1.75,.15),subtitle2:R(m,14,1.57,.1),body1:R(f,16,1.5,.15),body2:R(f,14,1.43,.15),button:R(m,14,1.75,.4,k),caption:R(f,12,1.66,.4),overline:R(f,12,2.66,1,k)};return(0,i.Z)((0,o.Z)({htmlFontSize:b,pxToRem:T,round:S,fontFamily:a,fontSize:c,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:v},P),C,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const T=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)];const R={borderRadius:4};var P=n(9908);var N=n(812),A=n(9535);function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.mixins,x=void 0===a?{}:a,S=e.palette,k=void 0===S?{}:S,E=e.spacing,I=e.typography,D=void 0===I?{}:I,O=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),M=function(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,s=e.secondary,a=void 0===s?{light:f.A200,main:f.A400,dark:f.A700}:s,l=e.error,x=void 0===l?{light:p[300],main:p[500],dark:p[700]}:l,S=e.warning,k=void 0===S?{light:m[300],main:m[500],dark:m[700]}:S,E=e.info,C=void 0===E?{light:g[300],main:g[500],dark:g[700]}:E,I=e.success,T=void 0===I?{light:v[300],main:v[500],dark:v[700]}:I,R=e.type,P=void 0===R?"light":R,N=e.contrastThreshold,A=void 0===N?3:N,D=e.tonalOffset,O=void 0===D?.2:D,M=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return(0,y.mi)(e,w.text.primary)>=A?w.text.primary:b.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,o.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,c.Z)(5,JSON.stringify(e.main)));return _(e,"light",n,O),_(e,"dark",r,O),e.contrastText||(e.contrastText=L(e.main)),e},z={dark:w,light:b};return(0,i.Z)((0,o.Z)({common:u,type:P,primary:F(n),secondary:F(a,"A400","A200","A700"),error:F(x),warning:F(k),info:F(C),success:F(T),grey:d,contrastThreshold:A,getContrastText:L,augmentColor:F,tonalOffset:O},z[P]),M)}(k),L=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,a=void 0===i?"px":i,l=e.step,c=void 0===l?5:l,u=(0,r.Z)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function h(e,t){var r=s.indexOf(t);return r===s.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:t)-c/100).concat(a,")")}return(0,o.Z)({keys:s,values:n,up:d,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(a,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},u)}(n),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,P.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(E),z=(0,i.Z)({breakpoints:L,direction:"ltr",mixins:l(L,F,x),overrides:{},palette:M,props:{},shadows:T,typography:C(M,D),spacing:F,shape:R,transitions:N.ZP,zIndex:A.Z},O),j=arguments.length,Z=new Array(j>1?j-1:0),U=1;U<j;U++)Z[U-1]=arguments[U];return z=Z.reduce((function(e,t){return(0,i.Z)(e,t)}),z)}const O=D()},812:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,x9:()=>o});var r=n(5987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}const a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,a=void 0===n?o.standard:n,l=t.easing,c=void 0===l?i.easeInOut:l,u=t.delay,d=void 0===u?0:u;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:s(a)," ").concat(c," ").concat("string"===typeof d?d:s(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},8317:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7462),i=n(5987),o=n(2791),s=n(2110),a=n.n(s),l=n(4928),c=n(794),u=n(5522);const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var s=t.defaultTheme,d=t.withTheme,h=void 0!==d&&d,f=t.name,p=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var m=f,g=(0,l.Z)(e,(0,r.Z)({defaultTheme:s,Component:n,name:f||n.displayName,classNamePrefix:m},p)),v=o.forwardRef((function(e,t){e.classes;var a,l=e.innerRef,d=(0,i.Z)(e,["classes","innerRef"]),p=g((0,r.Z)({},n.defaultProps,e)),m=d;return("string"===typeof f||h)&&(a=(0,u.Z)()||s,f&&(m=(0,c.Z)({theme:a,name:f,props:d})),h&&!m.theme&&(m.theme=a)),o.createElement(n,(0,r.Z)({ref:l||t,classes:p},m))}));return a()(v,n),v}};var h=n(6865);const f=function(e,t){return d(e,(0,r.Z)({defaultTheme:h.Z},t))}},9535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},5336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7545:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:()=>r})},8499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7462),i=n(2791),o=n(5987),s=n(8182),a=n(8317),l=n(5336),c=i.forwardRef((function(e,t){var n=e.children,a=e.classes,c=e.className,u=e.color,d=void 0===u?"inherit":u,h=e.component,f=void 0===h?"svg":h,p=e.fontSize,m=void 0===p?"medium":p,g=e.htmlColor,v=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,w=(0,o.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(f,(0,r.Z)({className:(0,s.default)(a.root,c,"inherit"!==d&&a["color".concat((0,l.Z)(d))],"default"!==m&&"medium"!==m&&a["fontSize".concat((0,l.Z)(m))]),focusable:"false",viewBox:b,color:g,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},w),n,v?i.createElement("title",null,v):null)}));c.muiName="SvgIcon";const u=(0,a.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c);function d(e,t){var n=function(t,n){return i.createElement(u,(0,r.Z)({ref:n},t),e)};return n.muiName=u.muiName,i.memo(i.forwardRef(n))}},503:(e,t,n)=>{"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=this;clearTimeout(t),t=setTimeout((function(){e.apply(s,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:()=>r})},2446:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>r.Z,createChainedFunction:()=>i.Z,createSvgIcon:()=>o.Z,debounce:()=>s.Z,deprecatedPropType:()=>a,isMuiElement:()=>l.Z,ownerDocument:()=>c.Z,ownerWindow:()=>u.Z,requirePropFactory:()=>d,setRef:()=>h.Z,unstable_useId:()=>y,unsupportedProp:()=>f,useControlled:()=>p.Z,useEventCallback:()=>m.Z,useForkRef:()=>g.Z,useIsFocusVisible:()=>b.Z});var r=n(5336),i=n(7545),o=n(8499),s=n(503);function a(e,t){return function(){return null}}var l=n(3375),c=n(4667),u=n(7636);function d(e){return function(){return null}}var h=n(1565);function f(e,t,n,r,i){return null}var p=n(2497),m=n(2216),g=n(9806),v=n(2791);function y(e){var t=v.useState(e),n=t[0],r=t[1],i=e||n;return v.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(1175)},3375:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},4667:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},7636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4667);function i(e){return(0,r.Z)(e).defaultView||window}},1565:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:()=>r})},2497:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),s=o[0],a=o[1];return[i?t:s,r.useCallback((function(e){i||a(e)}),[])]}},2216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},9806:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(1565);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},1175:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(2791),i=n(4164),o=!0,s=!1,a=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function d(){"hidden"===this.visibilityState&&s&&(o=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){s=!0,window.clearTimeout(a),a=window.setTimeout((function(){s=!1}),100)}function p(){return{isFocusVisible:h,onBlurVisible:f,ref:r.useCallback((function(e){var t=i.findDOMNode(e);null!=t&&function(e){e.addEventListener("keydown",c,!0),e.addEventListener("mousedown",u,!0),e.addEventListener("pointerdown",u,!0),e.addEventListener("touchstart",u,!0),e.addEventListener("visibilitychange",d,!0)}(t.ownerDocument)}),[])}}},8202:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),s=b("react.profiler"),a=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case r:return t}}}},3413:(e,t,n)=>{"use strict";n(8202)},4241:(e,t,n)=>{"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var o=i(n(2791)),s=(0,r(n(4894)).default)(o.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=s},4894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2446)},794:(e,t,n)=>{"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,{Z:()=>r})},4928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>cn});var r=n(5987),i=n(7462),o=n(2791),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const a="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType;var l=n(3144),c=n(1721),u=n(7326),d=n(3366),h={}.constructor;function f(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==h)return e;var t={};for(var n in e)t[n]=f(e[n]);return t}function p(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=f(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=m(e[n]," ");else t=m(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function v(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,s=t.fallbacks;!1===n.format&&(o=-1/0);var a=v(n),l=a.linebreak,c=a.space;if(e&&o++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var d=s[u];for(var h in d){var f=d[h];null!=f&&(r&&(r+=l),r+=y(h+":"+c+g(f)+";",o))}}else for(var p in s){var m=s[p];null!=m&&(r&&(r+=l),r+=y(p+":"+c+g(m)+";",o))}for(var b in t){var w=t[b];null!=w&&"fallbacks"!==b&&(r&&(r+=l),r+=y(b+":"+c+g(w)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),y(""+e+c+"{"+r,--o)+y("}",o)):r}var w=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,x=function(e){return _?_(e):e.replace(w,"\\$1")},S=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,s=e in this.style;if(o&&!s&&!r)return this;var a=o&&s;if(a?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return a?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),k=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,s=r.scoped,a=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==s&&(i.id=l((0,u.Z)((0,u.Z)(i)),a),i.selectorText="."+x(i.id)),i}(0,c.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(S),E={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new k(e,t,n)}},C={indent:1,children:!0},I=/@([\w-]+)/,T=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(I);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new X((0,i.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=C);var t=v(e).linebreak;if(null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),R=/@container|@media|@supports\s+/,P={onCreateRule:function(e,t,n){return R.test(e)?new T(e,t,n):null}},N={indent:1,children:!0},A=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(A);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,s=n.sheet,a=n.generateId;for(var l in this.id=!1===o?this.name:x(a(this,s)),this.rules=new X((0,i.Z)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=N);var t=v(e).linebreak;if(null==e.indent&&(e.indent=N.indent),null==e.children&&(e.children=N.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),O=/@keyframes\s+/,M=/\$([\w-]+)/g,L=function(e,t){return"string"===typeof e?e.replace(M,(function(e,n){return n in t?t[n]:e})):e},F=function(e,t,n){var r=e[t],i=L(r,n);i!==r&&(e[t]=i)},z={onCreateRule:function(e,t,n){return"string"===typeof e&&O.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&F(e,"animation-name",n.keyframes),"animation"in e&&F(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return L(e,r.keyframes);default:return e}}},j=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(S),Z={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new j(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=v(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),B=/@font-face/,V={onCreateRule:function(e,t,n){return B.test(e)?new U(e,t,n):null}},q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),W={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new q(e,t,n):null}},H=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},K={onCreateRule:function(e,t,n){return e in G?new H(e,t,n):null}},Q=[E,P,z,Z,V,W,K],$={process:!0},Y={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,s=r.sheet,a=r.jss,l=r.Renderer,c=r.generateId,u=r.scoped,d=(0,i.Z)({classes:this.classes,parent:o,sheet:s,jss:a,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+x(this.classes[h]));var f=p(h,t,d);if(!f)return null;this.register(f);var m=void 0===d.index?this.index.length:d.index;return this.index.splice(m,0,f),f},t.replace=function(e,t,n){var r=this.get(e),o=this.index.indexOf(r);r&&this.remove(r);var s=n;return-1!==o&&(s=(0,i.Z)({},n,{index:o})),this.add(e,t,s)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof k?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof k?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=$);var i=this.options,o=i.jss.plugins,s=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var a=t.style;if(o.onUpdate(n,t,s,r),r.process&&a&&a!==t.style){for(var l in o.onProcessStyle(t.style,t,s),t.style){var c=t.style[l];c!==a[l]&&t.prop(l,c,Y)}for(var u in a){var d=t.style[u],h=a[u];null==d&&d!==h&&t.prop(u,null,Y)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=v(e).linebreak,o=0;o<this.index.length;o++){var s=this.index[o].toString(e);(s||r)&&(t&&(t+=i),t+=s)}return t},e}(),J=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=v(r).linebreak,o="",s=0;s<this.registry.length;s++){var a=this.registry[s];null!=n&&a.attached!==n||(o&&(o+=i),o+=a.toString(r))}return o},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var oe=re[ie]++,se=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+oe+i+t:o+n.key+"-"+oe+(i?"-"+i:"")+"-"+t}},ae=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(s){return!1}return!0},ue=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},he=ae((function(){return document.querySelector("head")}));function fe(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=he(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=ae((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),me=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ge=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ve=function(){function e(e){this.getPropertyValue=le,this.setProperty=ce,this.removeProperty=ue,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=pe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=ge(n,t);if(!1===(i=me(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var s=e.toString();if(!s)return!1;var a=ge(n,t),l=me(n,s,a);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,a,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof J&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:se,Renderer:a?ve:null,plugins:[]},this.generateId=se({minify:!1});for(var t=0;t<Q.length;t++)this.plugins.use(Q[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new J(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=p(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),we=function(e){return new be(e)},_e="object"===typeof CSS&&null!=CSS&&"number"in CSS;function xe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=xe(r);o&&(t||(t={}),t[n]=o)}}return t}we();var Se=n(5352),ke={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};const Ee=ke;var Ce=n(5522);const Ie="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Te=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Re=Date.now(),Pe="fnValues"+Re,Ne="fnStyle"+ ++Re;const Ae=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=p(e,{},n);return r[Ne]=t,r},onProcessStyle:function(e,t){if(Pe in t||Ne in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Pe]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Ne];o&&(i.style=o(e)||{});var s=i[Pe];if(s)for(var a in s)i.prop(a,s[a](e),r)}}};var De="@global",Oe="@global ",Me=function(){function e(e,t,n){for(var r in this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new X((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Le=function(){function e(e,t,n){this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Fe=/\s*,\s*/g;function ze(e,t){for(var n=e.split(Fe),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}const je=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===De)return new Me(e,t,n);if("@"===e[0]&&e.substr(0,8)===Oe)return new Le(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[De]:null;if(o){for(var s in o)t.addRule(s,o[s],(0,i.Z)({},n,{selector:ze(s,e.selector)}));delete r[De]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,De.length)===De){var s=ze(o.substr(De.length),e.selector);t.addRule(s,r[o],(0,i.Z)({},n,{selector:s})),delete r[o]}}(e,t))}}};var Ze=/\s*,\s*/g,Ue=/&/g,Be=/\$([\w-]+)/g;const Ve=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ze),r=e.split(Ze),i="",o=0;o<n.length;o++)for(var s=n[o],a=0;a<r.length;a++){var l=r[a];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Ue,s):s+" "+l}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,s){if("style"!==o.type)return r;var a,l,c=o,u=c.options.parent;for(var d in r){var h=-1!==d.indexOf("&"),f="@"===d[0];if(h||f){if(a=n(c,u,a),h){var p=t(d,c.selector);l||(l=e(u,s)),p=p.replace(Be,l);var m=c.key+"-"+d;"replaceRule"in u?u.replaceRule(m,r[d],(0,i.Z)({},a,{selector:p})):u.addRule(m,r[d],(0,i.Z)({},a,{selector:p}))}else f&&u.addRule(d,{},a).addRule(c.key,r[d],{selector:c.selector});delete r[d]}}return r}}};var qe=/[A-Z]/g,We=/^ms-/,He={};function Ge(e){return"-"+e.toLowerCase()}const Ke=function(e){if(He.hasOwnProperty(e))return He[e];var t=e.replace(qe,Ge);return He[e]=We.test(t)?"-"+t:t};function Qe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Qe):t.fallbacks=Qe(e.fallbacks)),t}const $e=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Qe(e[t]);return e}return Qe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}};var Ye=_e&&CSS?CSS.px:"px",Xe=_e&&CSS?CSS.ms:"ms",Je=_e&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Xe,"animation-duration":Xe,"background-position":Ye,"background-position-x":Ye,"background-position-y":Ye,"background-size":Ye,border:Ye,"border-bottom":Ye,"border-bottom-left-radius":Ye,"border-bottom-right-radius":Ye,"border-bottom-width":Ye,"border-left":Ye,"border-left-width":Ye,"border-radius":Ye,"border-right":Ye,"border-right-width":Ye,"border-top":Ye,"border-top-left-radius":Ye,"border-top-right-radius":Ye,"border-top-width":Ye,"border-width":Ye,"border-block":Ye,"border-block-end":Ye,"border-block-end-width":Ye,"border-block-start":Ye,"border-block-start-width":Ye,"border-block-width":Ye,"border-inline":Ye,"border-inline-end":Ye,"border-inline-end-width":Ye,"border-inline-start":Ye,"border-inline-start-width":Ye,"border-inline-width":Ye,"border-start-start-radius":Ye,"border-start-end-radius":Ye,"border-end-start-radius":Ye,"border-end-end-radius":Ye,margin:Ye,"margin-bottom":Ye,"margin-left":Ye,"margin-right":Ye,"margin-top":Ye,"margin-block":Ye,"margin-block-end":Ye,"margin-block-start":Ye,"margin-inline":Ye,"margin-inline-end":Ye,"margin-inline-start":Ye,padding:Ye,"padding-bottom":Ye,"padding-left":Ye,"padding-right":Ye,"padding-top":Ye,"padding-block":Ye,"padding-block-end":Ye,"padding-block-start":Ye,"padding-inline":Ye,"padding-inline-end":Ye,"padding-inline-start":Ye,"mask-position-x":Ye,"mask-position-y":Ye,"mask-size":Ye,height:Ye,width:Ye,"min-height":Ye,"max-height":Ye,"min-width":Ye,"max-width":Ye,bottom:Ye,left:Ye,top:Ye,right:Ye,inset:Ye,"inset-block":Ye,"inset-block-end":Ye,"inset-block-start":Ye,"inset-inline":Ye,"inset-inline-end":Ye,"inset-inline-start":Ye,"box-shadow":Ye,"text-shadow":Ye,"column-gap":Ye,"column-rule":Ye,"column-rule-width":Ye,"column-width":Ye,"font-size":Ye,"font-size-delta":Ye,"letter-spacing":Ye,"text-decoration-thickness":Ye,"text-indent":Ye,"text-stroke":Ye,"text-stroke-width":Ye,"word-spacing":Ye,motion:Ye,"motion-offset":Ye,outline:Ye,"outline-offset":Ye,"outline-width":Ye,perspective:Ye,"perspective-origin-x":Je,"perspective-origin-y":Je,"transform-origin":Je,"transform-origin-x":Je,"transform-origin-y":Je,"transform-origin-z":Je,"transition-delay":Xe,"transition-duration":Xe,"vertical-align":Ye,"flex-basis":Ye,"shape-margin":Ye,size:Ye,gap:Ye,grid:Ye,"grid-gap":Ye,"row-gap":Ye,"grid-row-gap":Ye,"grid-column-gap":Ye,"grid-template-rows":Ye,"grid-template-columns":Ye,"grid-auto-rows":Ye,"grid-auto-columns":Ye,"box-shadow-x":Ye,"box-shadow-y":Ye,"box-shadow-blur":Ye,"box-shadow-spread":Ye,"font-line-height":Ye,"text-shadow-x":Ye,"text-shadow-y":Ye,"text-shadow-blur":Ye});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var o in t)t[o]=nt(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var s=n[e]||tt[e];return!s||0===t&&s===Ye?t.toString():"function"===typeof s?s(t).toString():""+t+s}return t}const rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}};var it=n(2982),ot="",st="",at="",lt="",ct=a&&"ontouchstart"in document.documentElement;if(a){var ut={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var ht in ut)if(ht+"Transform"in dt){ot=ht,st=ut[ht];break}"Webkit"===ot&&"msHyphens"in dt&&(ot="ms",st=ut.ms,lt="edge"),"Webkit"===ot&&"-apple-trailing-word"in dt&&(at="apple")}var ft={js:ot,css:st,vendor:at,browser:lt,isTouch:ct};var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ft.js?"-webkit-"+e:ft.css+e)}},mt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ft.js?ft.css+"print-"+e:e)}},gt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function yt(e){return e.replace(gt,vt)}function bt(e){return yt("-"+e)}var wt,_t={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ft.js){var n="mask-image";if(yt(n)in t)return e;if(ft.js+bt(n)in t)return ft.css+e}return e}},xt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ft.vendor||ft.isTouch?e:ft.css+e)}},St={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft.css+e)}},kt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft.css+e)}},Et={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ft.js||"ms"===ft.js&&"edge"!==ft.browser?ft.css+e:e)}},Ct={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ft.js||"ms"===ft.js||"apple"===ft.vendor?ft.css+e:e)}},It={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ft.js?"WebkitColumn"+bt(e)in t&&ft.css+"column-"+e:"Moz"===ft.js&&("page"+bt(e)in t&&"page-"+e))}},Tt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ft.js)return e;var n=e.replace("-inline","");return ft.js+bt(n)in t&&ft.css+n}},Rt={supportedProperty:function(e,t){return yt(e)in t&&e}},Pt={supportedProperty:function(e,t){var n=bt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ft.js+n in t?ft.css+e:"Webkit"!==ft.js&&"Webkit"+n in t&&"-webkit-"+e}},Nt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ft.js?""+ft.css+e:e)}},At={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ft.js?ft.css+"scroll-chaining":e)}},Dt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ot={supportedProperty:function(e,t){var n=Dt[e];return!!n&&(ft.js+bt(n)in t&&ft.css+n)}},Mt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Lt=Object.keys(Mt),Ft=function(e){return ft.css+e},zt={supportedProperty:function(e,t,n){var r=n.multiple;if(Lt.indexOf(e)>-1){var i=Mt[e];if(!Array.isArray(i))return ft.js+bt(i)in t&&ft.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ft.js+bt(i[0])in t))return!1;return i.map(Ft)}return!1}},jt=[pt,mt,_t,xt,St,kt,Et,Ct,It,Tt,Rt,Pt,Nt,At,Ot,zt],Zt=jt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ut=jt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),Bt={};if(a){wt=document.createElement("p");var Vt=window.getComputedStyle(document.documentElement,"");for(var qt in Vt)isNaN(qt)||(Bt[Vt[qt]]=Vt[qt]);Ut.forEach((function(e){return delete Bt[e]}))}function Wt(e,t){if(void 0===t&&(t={}),!wt)return e;if(null!=Bt[e])return Bt[e];"transition"!==e&&"transform"!==e||(t[e]=e in wt.style);for(var n=0;n<Zt.length&&(Bt[e]=Zt[n](e,wt.style,t),!Bt[e]);n++);try{wt.style[e]=""}catch(r){return!1}return Bt[e]}var Ht,Gt={},Kt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Qt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function $t(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Wt(t):", "+Wt(n);return r||(t||n)}function Yt(e,t){var n=t;if(!Ht||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Gt[r])return Gt[r];try{Ht.style[e]=n}catch(i){return Gt[r]=!1,!1}if(Kt[e])n=n.replace(Qt,$t);else if(""===Ht.style[e]&&("-ms-flex"===(n=ft.css+n)&&(Ht.style[e]="-ms-flexbox"),Ht.style[e]=n,""===Ht.style[e]))return Gt[r]=!1,!1;return Ht.style[e]="",Gt[r]=n,Gt[r]}a&&(Ht=document.createElement("p"));const Xt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Wt(n);o&&o!==n&&(i=!0);var s=!1,a=Yt(o,g(r));a&&a!==r&&(s=!0),(i||s)&&(i&&delete t[n],t[o||n]=a||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ft.js?e:"@"+ft.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Yt(t,g(e))||e}}};const Jt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var en=we({plugins:[Ae(),je(),Ve(),$e(),rt(),"undefined"===typeof window?null:Xt(),Jt()]}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,s=void 0===o?"":o,a=""===s?"":"".concat(s,"-"),l=0,c=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Te.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(a).concat(r,"-").concat(e.key);return t.options.theme[Ie]&&""===s?"".concat(o,"-").concat(c()):o}return"".concat(a).concat(i).concat(c())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=o.createContext(nn);var on=-1e9;var sn=n(1534);const an={};function ln(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,s=e.stylesCreator,a=e.name;if(!o.disableGeneration){var l=Ee.get(o.sheetsManager,s,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Ee.set(o.sheetsManager,s,r,l));var c=(0,i.Z)({},s.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var u=o.sheetsRegistry;if(0===l.refs){var d;o.sheetsCache&&(d=Ee.get(o.sheetsCache,s,r));var h=s.create(r,a);d||((d=o.jss.createStyleSheet(h,(0,i.Z)({link:!1},c))).attach(),o.sheetsCache&&Ee.set(o.sheetsCache,s,r,d)),u&&u.add(d),l.staticSheet=d,l.dynamicStyles=xe(h)}if(l.dynamicStyles){var f=o.jss.createStyleSheet(l.dynamicStyles,(0,i.Z)({link:!0},c));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=(0,Se.Z)({baseClasses:l.staticSheet.classes,newClasses:f.classes}),u&&u.add(f)}else n.classes=l.staticSheet.classes;l.refs+=1}}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,s=t.classNamePrefix,a=t.Component,l=t.defaultTheme,c=void 0===l?an:l,u=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),d=function(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return o;var s=n.overrides[r],a=(0,i.Z)({},o);return Object.keys(s).forEach((function(e){a[e]=(0,sn.Z)(a[e],s[e])})),a},options:{}}}(e),h=n||s||"makeStyles";d.options={index:on+=1,name:n,meta:h,classNamePrefix:h};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ce.Z)()||c,r=(0,i.Z)({},o.useContext(rn),u),s=o.useRef(),l=o.useRef();!function(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return ln(i,e),l.current=!1,s.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ee.get(r.sheetsManager,i,n);o.refs-=1;var s=r.sheetsRegistry;0===o.refs&&(Ee.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),s&&s.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),s&&s.remove(t.dynamicSheet))}}(i)}}),[t,d]),o.useEffect((function(){l.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(s.current,e),l.current=!0}));var h=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,Se.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(s.current,e.classes,a);return h}}},5352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},5522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791);const i=r.createContext(null);function o(){return r.useContext(i)}},6086:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(1002),i={xs:0,sm:600,md:960,lg:1280,xl:1920},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function s(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||o;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===(0,r.Z)(t)){var s=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,r){return e[s.up(r)]=n(t[r]),e}),{})}return n(t)}},7351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1534);const i=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},9908:(e,t,n)=>{"use strict";n.d(t,{h:()=>d,Z:()=>p});var r=n(885),i=n(6086),o=n(7351);var s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],o=n[1],c=s[i],u=a[o]||"";return Array.isArray(u)?u.map((function(e){return c+e})):[c+u]})),u=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function h(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function f(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===u.indexOf(n))return null;var r=h(c(n),t),o=e[n];return(0,i.k)(e,o,r)})).reduce(o.Z,{})}f.propTypes={},f.filterProps=u;const p=f},1534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7462),i=n(1002);function o(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=s(e[r],t[r],n):i[r]=t[r])})),i}},7483:(e,t,n)=>{"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},1009:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=s},8996:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=s},6152:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");t.Z=s},1992:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=s},4865:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)([(0,o.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,o.jsx)("path",{d:"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26c-.79-1.13-1.26-2.51-1.26-4 0-1.07.25-2.07.67-2.98zM20.75 16c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63zM17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"ManageAccounts");t.Z=s},8008:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=s},501:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=s},7122:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),s=(0,i.default)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=s},5649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(7329)},7107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(7462),i=n(3366),o=n(6189),s=n(2466),a=n(5080),l=n(7416),c=n(104);var u=n(2065);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.$n)(e.main,i):"dark"===t&&(e.dark=(0,u._j)(e.main,o)))}function S(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,i.Z)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),k=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),E=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),C=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),I=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function T(e){return(0,u.mi)(e,_.text.primary)>=n?_.text.primary:w.text.primary}const R=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.Z)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",s,a),x(t,"dark",l,a),t.contrastText||(t.contrastText=T(t.main)),t},P={dark:_,light:w};return(0,s.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:t,primary:R({color:c,name:"primary"}),secondary:R({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:k,name:"error"}),warning:R({color:I,name:"warning"}),info:R({color:E,name:"info"}),success:R({color:C,name:"success"}),grey:h,contrastThreshold:n,getContrastText:T,augmentColor:R,tonalOffset:a},P[t]),l)}const k=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const E={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=C,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,i.Z)(n,k);const g=a/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,s)=>{return(0,r.Z)({fontFamily:o,fontWeight:e,fontSize:v(t),lineHeight:n},o===C?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},s,f);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,E),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,E),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.Z)((0,r.Z)({htmlFontSize:h,pxToRem:v,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const R=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},A={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function O(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function M(e){const t=(0,r.Z)({},N,e.easing),n=(0,r.Z)({},A,e.duration);return(0,r.Z)({getAutoHeightDuration:O,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.Z)(r,P);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(s," ").concat("string"===typeof a?a:D(a)))).join(",")}},e,{easing:t,duration:n})}const L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,i.Z)(e,F);if(e.vars)throw new Error((0,o.Z)(18));const f=S(n),p=(0,a.Z)(e);let m=(0,s.Z)(p,{mixins:(g=p.breakpoints,v=t,(0,r.Z)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:f,shadows:R.slice(),typography:I(f,d),transitions:M(u),zIndex:(0,r.Z)({},L)});var g,v;m=(0,s.Z)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.Z)(e,t)),m),m.unstable_sxConfig=(0,r.Z)({},l.Z,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},m}const j=z},6482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(7107).Z)()},988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="$$material"},6934:(e,t,n)=>{"use strict";n.d(t,{FO:()=>s,ZP:()=>a});var r=n(4046),i=n(6482),o=n(988);const s=e=>(0,r.x9)(e)&&"classes"!==e,a=(0,r.ZP)({themeId:o.Z,defaultTheme:i.Z,rootShouldForwardProp:s})},1402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(6083),i=n(6482),o=n(988);function s(e){let{props:t,name:n}=e;return(0,r.Z)({props:t,name:n,defaultTheme:i.Z,themeId:o.Z})}},4036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(1122).Z},3070:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}},7329:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.Z,createChainedFunction:()=>o,createSvgIcon:()=>x,debounce:()=>S.Z,deprecatedPropType:()=>k,isMuiElement:()=>E.Z,ownerDocument:()=>C.Z,ownerWindow:()=>I.Z,requirePropFactory:()=>T,setRef:()=>R,unstable_ClassNameGenerator:()=>j,unstable_useEnhancedEffect:()=>P.Z,unstable_useId:()=>D,unsupportedProp:()=>O,useControlled:()=>M,useEventCallback:()=>L.Z,useForkRef:()=>F.Z,useIsFocusVisible:()=>z.Z});var r=n(5902),i=n(4036);const o=n(8949).Z;var s=n(7462),a=n(2791),l=n.t(a,2),c=n(3366),u=n(9278),d=n(4419),h=n(1402),f=n(6934),p=n(5878),m=n(1217);function g(e){return(0,m.Z)("MuiSvgIcon",e)}(0,p.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var v=n(184);const y=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],b=(0,f.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,i.Z)(n.color))],t["fontSize".concat((0,i.Z)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),w=a.forwardRef((function(e,t){const n=(0,h.Z)({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:l="inherit",component:f="svg",fontSize:p="medium",htmlColor:m,inheritViewBox:w=!1,titleAccess:_,viewBox:x="0 0 24 24"}=n,S=(0,c.Z)(n,y),k=a.isValidElement(r)&&"svg"===r.type,E=(0,s.Z)({},n,{color:l,component:f,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:x,hasSvgAsChild:k}),C={};w||(C.viewBox=x);const I=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&"color".concat((0,i.Z)(t)),"fontSize".concat((0,i.Z)(n))]};return(0,d.Z)(o,g,r)})(E);return(0,v.jsxs)(b,(0,s.Z)({as:f,className:(0,u.Z)(I.root,o),focusable:"false",color:m,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},C,S,k&&r.props,{ownerState:E,children:[k?r.props.children:r,_?(0,v.jsx)("title",{children:_}):null]}))}));w.muiName="SvgIcon";const _=w;function x(e,t){function n(n,r){return(0,v.jsx)(_,(0,s.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=_.muiName,a.memo(a.forwardRef(n))}var S=n(3070);const k=function(e,t){return()=>null};var E=n(9103),C=n(8301),I=n(7602);const T=function(e,t){return()=>null};const R=n(2971).Z;var P=n(162);let N=0;const A=l["useId".toString()];const D=function(e){if(void 0!==A){const t=A();return null!=e?e:t}return function(e){const[t,n]=a.useState(e),r=e||t;return a.useEffect((()=>{null==t&&(N+=1,n("mui-".concat(N)))}),[t]),r}(e)};const O=function(e,t,n,r,i){return null};const M=function(e){let{controlled:t,default:n,name:r,state:i="value"}=e;const{current:o}=a.useRef(void 0!==t),[s,l]=a.useState(n);return[o?t:s,a.useCallback((e=>{o||l(e)}),[])]};var L=n(9683),F=n(2071),z=n(3031);const j={configure:e=>{r.Z.configure(e)}}},9103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},8301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(4913).Z},7602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(5202).Z},162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2876).Z},9683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(7054).Z},2071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(6117).Z},3031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(2791);let i,o=!0,s=!1;const a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function u(){"hidden"===this.visibilityState&&s&&(o=!0)}function d(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!a[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=r.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",l,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("touchstart",c,!0),e.addEventListener("visibilitychange",u,!0)}(e.ownerDocument)}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,window.clearTimeout(i),i=window.setTimeout((()=>{s=!1}),100),t.current=!1,!0)},ref:e}}},2421:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y,Co:()=>b});var r=n(7462),i=n(2791),o=n(9797),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.Z)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(2564),c=n(5438),u=n(5207),d=n(2561),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.hC)(t,n,r),(0,d.L)((function(){return(0,c.My)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var y=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,_=1;_<w;_++)b.push(y[_],y[0][_])}var x=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.fp)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var w=(0,u.O)(b.concat(a),t.registered,m);o+=t.key+"-"+w.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?p(r):f,x={};for(var S in e)v&&"as"===S||_(S)&&(x[S]=e[S]);return x.className=o,x.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof r}),i.createElement(r,x))}));return x.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=d,x.__emotion_styles=b,x.__emotion_forwardProp=h,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,i){return e(t,(0,r.Z)({},n,i,{shouldForwardProp:m(x,i,!0)})).apply(void 0,b)},x}}.bind();function y(e,t){return v(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));const b=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},1184:(e,t,n)=>{"use strict";n.d(t,{L7:()=>l,P$:()=>u,VO:()=>i,W8:()=>a,dt:()=>c,k9:()=>s});var r=n(2466);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce(((e,t)=>(0,r.Z)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},2065:(e,t,n)=>{"use strict";n.d(t,{$n:()=>d,Fq:()=>c,_j:()=>u,mi:()=>l});var r=n(6189);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));let i,s=e.substring(t+1,e.length-1);if("color"===n){if(s=s.split(" "),i=s.shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else s=s.split(",");return s=s.map((e=>parseFloat(e))),{type:n,values:s,colorSpace:i}}function s(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function a(e){let t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){e=o(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)};let c="rgb";const u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),s({type:c,values:u})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){const n=a(e),r=a(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,s(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return s(e)}},4046:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>E,x9:()=>b});var r=n(3366),i=n(7462),o=n(2421),s=n(2466),a=n(5080),l=n(1122);const c=["variant"];function u(e){return 0===e.length}function d(e){const{variant:t}=e,n=(0,r.Z)(e,c);let i=t||"";return Object.keys(n).sort().forEach((t=>{i+="color"===t?u(i)?e[t]:(0,l.Z)(e[t]):"".concat(u(i)?t:(0,l.Z)(t)).concat((0,l.Z)(e[t].toString()))})),i}var h=n(104);const f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const p=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,m=e=>{const t={};return e&&e.forEach((e=>{const n=d(e.props);t[n]=e.style})),t},g=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),m(n)},v=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&i.push(t[d(n.props)])})),i},y=(e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return v(e,t,o)};function b(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const w=(0,a.Z)(),_=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function x(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function S(e){return e?(t,n)=>n[e]:null}const k=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:o}=e;const s=t((0,i.Z)({},n,{theme:x((0,i.Z)({},n,{defaultTheme:r,themeId:o}))}));let a;if(s&&s.variants&&(a=s.variants,delete s.variants),a){return[s,...v(n,m(a),a)]}return s};function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=w,rootShouldForwardProp:a=b,slotShouldForwardProp:l=b}=e,c=e=>(0,h.Z)((0,i.Z)({},e,{theme:x((0,i.Z)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Co)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:h,skipVariantsResolver:w,skipSx:E,overridesResolver:C=S(_(h))}=u,I=(0,r.Z)(u,f),T=void 0!==w?w:h&&"Root"!==h&&"root"!==h||!1,R=E||!1;let P=b;"Root"===h||"root"===h?P=a:h?P=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(P=void 0);const N=(0,o.ZP)(e,(0,i.Z)({shouldForwardProp:P,label:undefined},I)),A=function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const u=a?a.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>k({styledArg:e,props:r,defaultTheme:n,themeId:t});if((0,s.P)(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return v(n,m(t),t).forEach((e=>{r=(0,s.Z)(r,e)})),r}),n}return e})):[];let h=r;if((0,s.P)(r)){let e;r&&r.variants&&(e=r.variants,delete h.variants,h=t=>{let n=r;return v(t,m(e),e).forEach((e=>{n=(0,s.Z)(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(h=e=>k({styledArg:r,props:e,defaultTheme:n,themeId:t}));d&&C&&u.push((e=>{const r=x((0,i.Z)({},e,{defaultTheme:n,themeId:t})),o=p(d,r);if(o){const t={};return Object.entries(o).forEach((n=>{let[o,s]=n;t[o]="function"===typeof s?s((0,i.Z)({},e,{theme:r})):s})),C(e,t)}return null})),d&&!T&&u.push((e=>{const r=x((0,i.Z)({},e,{defaultTheme:n,themeId:t}));return y(e,g(d,r),r,d)})),R||u.push(c);const f=u.length-a.length;if(Array.isArray(r)&&f>0){const e=new Array(f).fill("");h=[...r,...e],h.raw=[...r.raw,...e]}const b=N(h,...u);return e.muiName&&(b.muiName=e.muiName),b};return N.withConfig&&(A.withConfig=N.withConfig),A}}},5080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7462),i=n(3366),o=n(2466);const s=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.Z)({},e,{[t.key]:t.val})),{})};const l={borderRadius:4};var c=n(5682);var u=n(104),d=n(7416);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.Z)(e,h),g=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,l=(0,i.Z)(e,s),c=a(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-o/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-o/100).concat(n,")")}return(0,r.Z)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.Z)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},n),spacing:v,shape:(0,r.Z)({},l,p)},m);for(var b=arguments.length,w=new Array(b>1?b-1:0),_=1;_<b;_++)w[_-1]=arguments[_];return y=w.reduce(((e,t)=>(0,o.Z)(e,t)),y),y.unstable_sxConfig=(0,r.Z)({},d.Z,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},y}},8247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2466);const i=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:(e,t,n)=>{"use strict";n.d(t,{hB:()=>p,eI:()=>f,NA:()=>m,e6:()=>y,o3:()=>b});var r=n(1184),i=n(8529),o=n(8247);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.DW)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.k9)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.Z,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},8529:(e,t,n)=>{"use strict";n.d(t,{DW:()=>o,Jq:()=>s,ZP:()=>a});var r=n(1122),i=n(1184);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.k9)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(5682),i=n(8529),o=n(8247);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.Z)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.ZP)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),_=c("outlineColor"),x=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r.NA)(t,e)});return(0,a.k9)(e,e.borderRadius,n)}return null};x.propTypes={},x.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,y,b,x,w,_);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.eI)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.gap,n)}return null};S.propTypes={},S.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.eI)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const E=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.eI)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r.NA)(t,e)});return(0,a.k9)(e,e.rowGap,n)}return null};E.propTypes={},E.filterProps=["rowGap"];s(S,k,E,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function C(e,t){return"grey"===t?t:e}s((0,i.ZP)({prop:"color",themeKey:"palette",transform:C}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:C}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:C}));function I(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const T=(0,i.ZP)({prop:"width",transform:I}),R=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.VO[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:I(t)}};return(0,a.k9)(e,e.maxWidth,t)}return null};R.filterProps=["maxWidth"];const P=(0,i.ZP)({prop:"minWidth",transform:I}),N=(0,i.ZP)({prop:"height",transform:I}),A=(0,i.ZP)({prop:"maxHeight",transform:I}),D=(0,i.ZP)({prop:"minHeight",transform:I}),O=((0,i.ZP)({prop:"size",cssProperty:"width",transform:I}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:I}),s(T,R,P,N,A,D,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x},color:{themeKey:"palette",transform:C},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:C},backgroundColor:{themeKey:"palette",transform:C},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:E},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:R},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(1122),i=n(8247),o=n(8529),s=n(1184),a=n(7416);const l=function(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.DW)(n,u)||{};if(h)return h(a);return(0,s.k9)(a,t,(t=>{let n=(0,o.Jq)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(f,d,"".concat(e).concat("default"===t?"":(0,r.Z)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.Z;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.W8)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.Z)(u,e(n,o,l,c));else{const e=(0,s.k9)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.Z)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.Z)(u,e(n,o,l,c))})),(0,s.L7)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}();l.filterProps=["sx"];const c=l},418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(5080),i=n(9120);const o=(0,r.Z)();const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},3073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5735);function i(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}},6083:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3073),i=n(418);function o(e){let{props:t,name:n,defaultTheme:o,themeId:s}=e,a=(0,i.Z)(o);s&&(a=a[s]||a);return(0,r.Z)({theme:a,name:n,props:t})}},9120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2564);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},1122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:()=>r})},8949:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{Z:()=>r})},2466:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,Z:()=>s});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},6189:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},1217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5902);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1217);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Z)(e,t,n)})),i}},4913:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},5202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4913);function i(e){return(0,r.Z)(e).defaultView||window}},5735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7462);function i(e,t){const n=(0,r.Z)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},a=t[o];n[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[o]=(0,r.Z)({},a),Object.keys(s).forEach((e=>{n[o][e]=i(s[e],a[e])}))):n[o]=a:n[o]=s}else void 0===n[o]&&(n[o]=e[o])})),n}},2971:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:()=>r})},2876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},7054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2876);const o=function(e){const t=r.useRef(e);return(0,i.Z)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},6117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.Z)(t,e)}))}),t)}},8182:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:()=>i,default:()=>o});const o=i},8959:e=>{function t(e,t,n,r){var i,o=null==(i=r)||"number"===typeof i||"boolean"===typeof i?r:n(r),s=t.get(o);return"undefined"===typeof s&&(s=e.call(this,r),t.set(o,s)),s}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return"undefined"===typeof o&&(o=e.apply(this,r),t.set(i,o)),o}function r(e,t,n,r,i){return n.bind(t,e,r,i)}function i(e,i){return r(e,this,1===e.length?t:n,i.cache.create(),i.serializer)}function o(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var a={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:a,r=t&&t.serializer?t.serializer:o;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},119:function(e,t,n){var r,i,o;o=function(){var e={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},t=function(){var t=function(e){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=e.xField||e.defaultXField,this._yField=e.yField||e.defaultYField,this._valueField=e.valueField||e.defaultValueField,e.radius&&(this._cfgRadius=e.radius)},n=e.defaultRadius;return t.prototype={_organiseData:function(e,t){var r=e[this._xField],i=e[this._yField],o=this._radi,s=this._data,a=this._max,l=this._min,c=e[this._valueField]||1,u=e.radius||this._cfgRadius||n;s[r]||(s[r]=[],o[r]=[]),s[r][i]?s[r][i]+=c:(s[r][i]=c,o[r][i]=u);var d=s[r][i];return d>a?(t?this.setDataMax(d):this._max=d,!1):d<l?(t?this.setDataMin(d):this._min=d,!1):{x:r,y:i,value:c,radius:u,min:l,max:a}},_unOrganizeData:function(){var e=[],t=this._data,n=this._radi;for(var r in t)for(var i in t[r])e.push({x:r,y:i,radius:n[r][i],value:t[r][i]});return{min:this._min,max:this._max,data:e}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var e=arguments[0],t=e.length;t--;)this.addData.call(this,e[t]);else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(e){var t=e.data,n=t.length;this._data=[],this._radi=[];for(var r=0;r<n;r++)this._organiseData(t[r],!1);return this._max=e.max,this._min=e.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(e){return this._max=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(e){return this._min=e,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(e){this._coordinator=e},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},t}(),n=function(){var e=function(e){var t=e.gradient||e.defaultGradient,n=document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;var i=r.createLinearGradient(0,0,256,1);for(var o in t)i.addColorStop(o,t[o]);return r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data},t=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=e,o=e;if(n.width=n.height=2*e,1==t)r.beginPath(),r.arc(i,o,e,0,2*Math.PI,!1),r.fillStyle="rgba(0,0,0,1)",r.fill();else{var s=r.createRadialGradient(i,o,e*t,i,o,e);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=s,r.fillRect(0,0,2*e,2*e)}return n};function n(t){var n=t.container,r=this.shadowCanvas=document.createElement("canvas"),i=this.canvas=t.canvas||document.createElement("canvas"),o=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(t.container)||{});i.className="heatmap-canvas",this._width=i.width=r.width=t.width||+o.width.replace(/px/,""),this._height=i.height=r.height=t.height||+o.height.replace(/px/,""),this.shadowCtx=r.getContext("2d"),this.ctx=i.getContext("2d"),i.style.cssText=r.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(i),this._palette=e(t),this._templates={},this._setStyles(t)}return n.prototype={renderPartial:function(e){e.data.length>0&&(this._drawAlpha(e),this._colorize())},renderAll:function(e){this._clear(),e.data.length>0&&(this._drawAlpha(function(e){for(var t=[],n=e.min,r=e.max,i=e.radi,o=(e=e.data,Object.keys(e)),s=o.length;s--;)for(var a=o[s],l=Object.keys(e[a]),c=l.length;c--;){var u=l[c],d=e[a][u],h=i[a][u];t.push({x:a,y:u,value:d,radius:h})}return{min:n,max:r,data:t}}(e)),this._colorize())},_updateGradient:function(t){this._palette=e(t)},updateConfig:function(e){e.gradient&&this._updateGradient(e),this._setStyles(e)},setDimensions:function(e,t){this._width=e,this._height=t,this.canvas.width=this.shadowCanvas.width=e,this.canvas.height=this.shadowCanvas.height=t},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(e){this._blur=0==e.blur?0:e.blur||e.defaultBlur,e.backgroundColor&&(this.canvas.style.backgroundColor=e.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=e.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=e.height||this._height,this._opacity=255*(e.opacity||0),this._maxOpacity=255*(e.maxOpacity||e.defaultMaxOpacity),this._minOpacity=255*(e.minOpacity||e.defaultMinOpacity),this._useGradientOpacity=!!e.useGradientOpacity},_drawAlpha:function(e){for(var n=this._min=e.min,r=this._max=e.max,i=(e=e.data||[]).length,o=1-this._blur;i--;){var s,a=e[i],l=a.x,c=a.y,u=a.radius,d=Math.min(a.value,r),h=l-u,f=c-u,p=this.shadowCtx;this._templates[u]?s=this._templates[u]:this._templates[u]=s=t(u,o);var m=(d-n)/(r-n);p.globalAlpha=m<.01?.01:m,p.drawImage(s,h,f),h<this._renderBoundaries[0]&&(this._renderBoundaries[0]=h),f<this._renderBoundaries[1]&&(this._renderBoundaries[1]=f),h+2*u>this._renderBoundaries[2]&&(this._renderBoundaries[2]=h+2*u),f+2*u>this._renderBoundaries[3]&&(this._renderBoundaries[3]=f+2*u)}},_colorize:function(){var e=this._renderBoundaries[0],t=this._renderBoundaries[1],n=this._renderBoundaries[2]-e,r=this._renderBoundaries[3]-t,i=this._width,o=this._height,s=this._opacity,a=this._maxOpacity,l=this._minOpacity,c=this._useGradientOpacity;e<0&&(e=0),t<0&&(t=0),e+n>i&&(n=i-e),t+r>o&&(r=o-t);for(var u=this.shadowCtx.getImageData(e,t,n,r),d=u.data,h=d.length,f=this._palette,p=3;p<h;p+=4){var m,g=d[p],v=4*g;v&&(m=s>0?s:g<a?g<l?l:g:a,d[p-3]=f[v],d[p-2]=f[v+1],d[p-1]=f[v+2],d[p]=c?f[v+3]:m)}u.data=d,this.ctx.putImageData(u,e,t),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(e){var t=this.shadowCtx.getImageData(e.x,e.y,1,1).data[3],n=this._max,r=this._min;return Math.abs(n-r)*(t/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},n}(),r=function(){var t=!1;return"canvas2d"===e.defaultRenderer&&(t=n),t}(),i=function(){for(var e={},t=arguments.length,n=0;n<t;n++){var r=arguments[n];for(var i in r)e[i]=r[i]}return e},o=function(){var n=function(){function e(){this.cStore={}}return e.prototype={on:function(e,t,n){var r=this.cStore;r[e]||(r[e]=[]),r[e].push((function(e){return t.call(n,e)}))},emit:function(e,t){var n=this.cStore;if(n[e])for(var r=n[e].length,i=0;i<r;i++)(0,n[e][i])(t)}},e}();function o(){var o=this._config=i(e,arguments[0]||{});if(this._coordinator=new n,o.plugin){var s=o.plugin;if(!e.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var a=e.plugins[s];this._renderer=new a.renderer(o),this._store=new a.store(o)}else this._renderer=new r(o),this._store=new t(o);!function(e){var t=e._renderer,n=e._coordinator,r=e._store;n.on("renderpartial",t.renderPartial,t),n.on("renderall",t.renderAll,t),n.on("extremachange",(function(t){e._config.onExtremaChange&&e._config.onExtremaChange({min:t.min,max:t.max,gradient:e._config.gradient||e._config.defaultGradient})})),r.setCoordinator(n)}(this)}return o.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(e){return this._config=i(this._config,e),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(e){return this._store.getValueAt?this._store.getValueAt(e):this._renderer.getValueAt?this._renderer.getValueAt(e):null}},o}();return{create:function(e){return new o(e)},register:function(t,n){e.plugins[t]=n}}},e.exports?e.exports=o():void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},2110:(e,t,n)=>{"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||_(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},8309:(e,t,n)=>{"use strict";e.exports=n(746)},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function Z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 1:return e=Z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function Ce(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ie(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Re(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Se||null!==ke)&&(Re(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,ze=!1,je=null,Ze={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(Ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,St,kt,Et,Ct=!1,It=[],Tt=null,Rt=null,Pt=null,Nt=new Map,At=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Zt(){Ct=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==Rt&&zt(Rt)&&(Rt=null),null!==Pt&&zt(Pt)&&(Pt=null),Nt.forEach(jt),At.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Rt&&Ut(Rt,e),null!==Pt&&Ut(Pt,e),Nt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Vt=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Cn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),Tn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Nn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!On||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),jn=!1;function Zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Kn(e){zr(e,0)}function Qn(e){if(G(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function or(e,t){if("click"===e)return Qn(t)}function sr(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),Rr=Er("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,ze||(ze=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(ze)throw e=je,ze=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Zr(t,!1,e),Zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=o,i=_e(n),s=[];e:{var a=Pr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Cr:case Ir:case Tr:l=vn;break;case Rr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(s,a,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$n;else if(qn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Zn(e,t)?(e=en(),Jt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}zr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Ae(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var xi=[],Si=-1;function ki(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ci(e,t){Si++,xi[Si]=e.current,e.current=t}var Ii={},Ti=ki(Ii),Ri=ki(!1),Pi=Ii;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ri),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Ii)throw Error(o(168));Ci(Ti,t),Ci(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ti.current,Ci(Ti,e),Ci(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ri),Ei(Ti),Ci(Ti,e)):Ei(Ri),Ci(Ri,n)}var zi=null,ji=!1,Zi=!1;function Ui(e){null===zi?zi=[e]:zi.push(e)}function Bi(){if(!Zi&&null!==zi){Zi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,ji=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ge(Je,Bi),i}finally{bt=t,Zi=!1}}return null}var Vi=[],qi=0,Wi=null,Hi=0,Gi=[],Ki=0,Qi=null,$i=1,Yi="";function Xi(e,t){Vi[qi++]=Hi,Vi[qi++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Gi[Ki++]=$i,Gi[Ki++]=Yi,Gi[Ki++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Yi=o+e}else $i=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--qi],Vi[qi]=null,Hi=Vi[--qi],Vi[qi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null,$i=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=ki(null),bo=null,wo=null,_o=null;function xo(){_o=wo=bo=null}function So(e){var t=yo.current;Ei(yo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function To(e){null===Io?Io=[e]:Io.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:No=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Zo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Vo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ai(t)?Pi:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ai(t)?Pi:Ti.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),zo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Zo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case x:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(s,r.mode,l)).return=r,r=o}return a(r);case A:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=zc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Yo=$o(!0),Xo=$o(!1),Jo={},es=ki(Jo),ts=ki(Jo),ns=ki(Jo);function rs(e){if(e===Jo)throw Error(o(174));return e}function is(e,t){switch(Ci(ns,t),Ci(ts,e),Ci(es,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(es),Ci(es,t)}function os(){Ei(es),Ei(ts),Ei(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ci(ts,e),Ci(es,n))}function as(e){ts.current===e&&(Ei(es),Ei(ts))}var ls=ki(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,_s=0;function xs(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ks(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function Es(){var e=0!==ws;return ws=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Is(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Ts(e,t){return"function"===typeof t?t(e):t}function Rs(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ps&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ps(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function As(e,t){var n=ms,r=Is(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,qs(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,js(9,Os.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&ps)||Ds(n,t,i)}return i}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Os(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function zs(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function js(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Zs(){return Is().memoizedState}function Us(e,t,n,r){var i=Cs();ms.flags|=e,i.memoizedState=js(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Is();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=js(t,n,o,r))}ms.flags|=e,i.memoizedState=js(1|t,n,o,r)}function Vs(e,t){return Us(8390656,8,e,t)}function qs(e,t){return Bs(2048,8,e,t)}function Ws(e,t){return Bs(4,2,e,t)}function Hs(e,t){return Bs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Gs.bind(null,t,e),n)}function Qs(){}function $s(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ys(e,t){var n=Is();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Js(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Is().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ro(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,To(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ro(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Co,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},aa={readContext:Co,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Vs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:zs,useDebugValue:Qs,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=zs(!1),t=e[0];return e=Js.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=Cs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&ps)||Ds(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Vs(Ms.bind(null,r,s,e),[e]),r.flags|=2048,js(9,Os.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=Pl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Co,useCallback:$s,useContext:Co,useEffect:qs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Ys,useReducer:Rs,useRef:Zs,useState:function(){return Rs(Ts)},useDebugValue:Qs,useDeferredValue:function(e){return Xs(Is(),gs.memoizedState,e)},useTransition:function(){return[Rs(Ts)[0],Is().memoizedState]},useMutableSource:Ns,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Co,useCallback:$s,useContext:Co,useEffect:qs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Hs,useMemo:Ys,useReducer:Ps,useRef:Zs,useState:function(){return Ps(Ts)},useDebugValue:Qs,useDeferredValue:function(e){var t=Is();return null===gs?t.memoizedState=e:Xs(t,gs.memoizedState,e)},useTransition:function(){return[Ps(Ts)[0],Is().memoizedState]},useMutableSource:Ns,useSyncExternalStore:As,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ha(0,t)},n}function ma(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=ks(e,t,n,r,o,i),n=Es(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ka(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ol,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Ol,Dl),Dl|=r;return _a(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,i){var o=Ai(n)?Pi:Ti.current;return o=Ni(t,o),Eo(t,i),n=ks(e,t,n,r,o,i),r=Es(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ta(e,t,n,r,i){if(Ai(n)){var o=!0;Li(t)}else o=!1;if(Eo(t,i),null===t.stateNode)qa(e,t),qo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Ni(t,c=Ai(n)?Pi:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Wo(t,s,r,c),No=!1;var h=t.memoizedState;s.state=h,zo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||No?("function"===typeof u&&(Uo(t,n,u,r),l=t.memoizedState),(a=No||Vo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Ni(t,l=Ai(n)?Pi:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Wo(t,s,r,l),No=!1,h=t.memoizedState,s.state=h,zo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||No?("function"===typeof f&&(Uo(t,n,f,r),p=t.memoizedState),(c=No||Vo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,o,i)}function Ra(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Wa(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),is(e,t.containerInfo)}function Na(e,t,n,r,i){return po(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Aa,Da,Oa,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ci(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):ja(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Za(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,s);if(0===(1&t.mode))return Za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Za(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Po(e,i),rc(r,e,i,-1))}return gc(),Za(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=$i,Gi[Ki++]=Yi,Gi[Ki++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Za(e,t,n,r){return null!==r&&mo(r),Yo(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ai(t.type)&&Di(),Ga(t),null;case 3:return r=t.stateNode,os(),Ei(Ri),Ei(Ti),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Da(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ie(r,s),jr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":H(r),J(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ei(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Da(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return So(t.type._context),Ga(t),null;case 19:if(Ei(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Vl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Ye()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=ls.current,Ci(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ei(Ri),Ei(Ti),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ei(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ls),null;case 4:return os(),null;case 10:return So(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ya=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ya&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ec(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fl(e,t,n),Ya=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,gl(t,e),Ya=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Ja=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){Ec(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ja=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=$a;var c=Ya;if($a=s,(Ya=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Ja=l):Sl(i);for(;null!==o;)Ja=o,wl(o,t,n),o=o.sibling;Ja=i,$a=a,Ya=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):_l(e)}}function _l(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&jo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&ol(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Ec(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,El=Math.ceil,Cl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Rl=0,Pl=null,Nl=null,Al=0,Dl=0,Ol=ki(0),Ml=0,Ll=null,Fl=0,zl=0,jl=0,Zl=null,Ul=null,Bl=0,Vl=1/0,ql=null,Wl=!1,Hl=null,Gl=null,Kl=!1,Ql=null,$l=0,Yl=0,Xl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Rl)?Ye():-1!==Jl?Jl:Jl=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Al?Al&-Al:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===Pl||(e===Pl&&(0===(2&Rl)&&(zl|=n),4===Ml&&lc(e,Al)),ic(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Vl=Ye()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Pl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){ji=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),si((function(){0===(6&Rl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Rl;Rl|=2;var s=mc();for(Pl===e&&Al===t||(ql=null,Vl=Ye()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}xo(),Cl.current=s,Rl=i,null!==Nl?t=0:(Pl=null,Al=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ul,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,ql),t);break}xc(e,Ul,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,ql),r);break}xc(e,Ul,ql);break;default:throw Error(o(329))}}}return ic(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~jl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Rl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,ql),ic(e,Ye()),null}function uc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Vl=Ye()+500,ji&&Bi())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Rl)&&Sc();var t=Rl;Rl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Rl=t))&&Bi()}}function hc(){Dl=Ol.current,Ei(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:os(),Ei(Ri),Ei(Ti),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ei(ls);break;case 10:So(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Nl=e=Oc(e.current,null),Al=Dl=t,Ml=0,Ll=null,jl=zl=Fl=0,Ul=Zl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(xo(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Il.current=null,null===n||null===n.return){Ml=1,Ll=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ml&&(Ml=2),null===Zl?Zl=[s]:Zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=sa,null===e?sa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Fl)&&0===(268435455&zl)||lc(Pl,Al)}function vc(e,t){var n=Rl;Rl|=2;var r=mc();for(Pl===e&&Al===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(xo(),Rl=n,Cl.current=r,null!==Nl)throw Error(o(261));return Pl=null,Al=0,Ml}function yc(){for(;null!==Nl;)wc(Nl)}function bc(){for(;null!==Nl&&!Qe();)wc(Nl)}function wc(e){var t=kl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_c(e):Nl=t,Il.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Dl)))return void(Nl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Pl&&(Nl=Pl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Rl;Rl|=4,Il.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Rl=l,bt=a,Tl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Ql=e,$l=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt($l),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(sl(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(x){Ec(l,l.return,x)}if(l===a){Ja=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Ja=_;break e}Ja=l.return}}if(Rl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function kc(e,t,n){e=Mo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Mo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Al&n)===n&&(4===Ml||3===Ml&&(130023424&Al)===Al&&500>Ye()-Bl?fc(e,0):jl|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Lc(n.children,i,s,t);case k:a=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=s,e;case R:return(e=Ac(13,n,t,i)).elementType=R,e.lanes=s,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=s,e;case D:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case T:a=11;break e;case N:a=14;break e;case A:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,s,a,l){return e=new Zc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,o,s,a,l){return(e=Uc(n,r,!0,e,0,o,0,a,l)).context=Bc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),po();break;case 5:ss(t);break;case 1:Ai(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ci(ls,1&ls.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ci(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ni(t,Ti.current);Eo(t,n),i=ks(null,t,r,e,i,n);var s=Es();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),zo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Wa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return za(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ci(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Oo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ko(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=Co(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Sa(e,t,r,i=vo(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),qa(e,t),t.tag=1,Ai(r)?(e=!0,Li(t)):e=!1,Eo(t,n),qo(t,r,i),Ho(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return Ea(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(s)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Rl)&&(Vl=Ye()+500,Bi()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Re=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ce,Ie,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},37:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=p(n(2007)),s=p(n(4164)),a=p(n(8182)),l=n(2280),c=n(580),u=n(2693),d=p(n(8091)),h=p(n(1655)),f=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(u,e);var t,n,r,o=k(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),I(E(t=o.call(this,e)),"onDragStart",(function(e,n){if((0,h.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,c.createDraggableData)(E(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),I(E(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",n);var r=(0,c.createDraggableData)(E(t),n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,s=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var a=w((0,c.getBoundPosition)(E(t),i.x,i.y),2),l=a[0],u=a[1];i.x=l,i.y=u,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(s-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)})),I(E(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,c.createDraggableData)(E(t),n)))return!1;(0,h.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,s=i.y;r.x=o,r.y=s}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=u,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:s.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,o=t.defaultClassName,s=t.defaultClassNameDragging,u=t.defaultClassNameDragged,h=t.position,p=t.positionOffset,m=(t.scale,v(t,f)),y={},w=null,_=!Boolean(h)||this.state.dragging,x=h||r,S={x:(0,c.canDragX)(this)&&_?this.state.x:x.x,y:(0,c.canDragY)(this)&&_?this.state.y:x.y};this.state.isElementSVG?w=(0,l.createSVGTransform)(S,p):y=(0,l.createCSSTransform)(S,p);var k=(0,a.default)(n.props.className||"",o,(I(e={},s,this.state.dragging),I(e,u,this.state.dragged),e));return i.createElement(d.default,g({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:k,style:b(b({},n.props.style),y),transform:w}))}}])&&x(t.prototype,n),r&&x(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.Component);t.default=T,I(T,"displayName","Draggable"),I(T,"propTypes",b(b({},d.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),I(T,"defaultProps",b(b({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},8091:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(2791)),o=d(n(2007)),s=d(n(4164)),a=n(2280),l=n(580),c=n(2693),u=d(n(1655));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={start:"touchstart",move:"touchmove",stop:"touchend"},x={start:"mousedown",move:"mousemove",stop:"mouseup"},S=x,k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(c,e);var t,n,r,o=v(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(y(e=o.call.apply(o,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(y(e),"mounted",!1),w(y(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,a.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,l.getControlPosition)(t,i,y(e));if(null!=o){var s=o.x,c=o.y,d=(0,l.createCoreData)(y(e),s,c);(0,u.default)("DraggableCore: handleDragStart: %j",d),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:s,lastY:c}),(0,a.addEvent)(r,S.move,e.handleDrag),(0,a.addEvent)(r,S.stop,e.handleDragStop))}}})),w(y(e),"handleDrag",(function(t){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,s=i-e.state.lastY,a=f((0,l.snapToGrid)(e.props.grid,o,s),2);if(o=a[0],s=a[1],!o&&!s)return;r=e.state.lastX+o,i=e.state.lastY+s}var c=(0,l.createCoreData)(y(e),r,i);if((0,u.default)("DraggableCore: handleDrag: %j",c),!1!==e.props.onDrag(t,c)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(h){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),w(y(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX||0,s=i-e.state.lastY||0,c=f((0,l.snapToGrid)(e.props.grid,o,s),2);o=c[0],s=c[1],r=e.state.lastX+o,i=e.state.lastY+s}var d=(0,l.createCoreData)(y(e),r,i);if(!1===e.props.onStop(t,d)||!1===e.mounted)return!1;var h=e.findDOMNode();h&&e.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(h.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",d),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),h&&((0,u.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(h.ownerDocument,S.move,e.handleDrag),(0,a.removeEvent)(h.ownerDocument,S.stop,e.handleDragStop))}}})),w(y(e),"onMouseDown",(function(t){return S=x,e.handleDragStart(t)})),w(y(e),"onMouseUp",(function(t){return S=x,e.handleDragStop(t)})),w(y(e),"onTouchStart",(function(t){return S=_,e.handleDragStart(t)})),w(y(e),"onTouchEnd",(function(t){return S=_,e.handleDragStop(t)})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,a.addEvent)(e,_.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,a.removeEvent)(t,x.move,this.handleDrag),(0,a.removeEvent)(t,_.move,this.handleDrag),(0,a.removeEvent)(t,x.stop,this.handleDragStop),(0,a.removeEvent)(t,_.stop,this.handleDragStop),(0,a.removeEvent)(e,_.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:s.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component);t.default=k,w(k,"displayName","DraggableCore"),w(k,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),w(k,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9962:(e,t,n)=>{"use strict";var r=n(37),i=r.default,o=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=o},2280:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=f,t.addEvent=function(e,t,n,r){if(!e)return;var i=l({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&f(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=h(e,t,"px");return c({},(0,o.browserPrefixToKey)("transform",o.default),n)},t.createSVGTransform=function(e,t){return h(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=h,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)},t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:o}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)},t.removeClassName=p,t.removeEvent=function(e,t,n,r){if(!e)return;var i=l({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&p(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var i=n(2693),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(4021));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="";function d(e,t){return u||(u=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[u])&&e[u](t)}function h(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var s="".concat("string"===typeof t.x?t.x:t.x+n),a="".concat("string"===typeof t.y?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function f(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function p(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},4021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var o=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!o)return"";if(r in o)return"";for(var s=0;s<n.length;s++)if(i(r,n[s])in o)return n[s];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var o=r();t.default=o},1655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var i=e.state,s=!(0,r.isNum)(i.lastX),a=o(e);return s?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var s=e.props.bounds;s="string"===typeof s?s:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(s);var a=o(e);if("string"===typeof s){var l,c=a.ownerDocument,u=c.defaultView;if(!((l="parent"===s?a.parentNode:c.querySelector(s))instanceof u.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');var d=l,h=u.getComputedStyle(a),f=u.getComputedStyle(d);s={left:-a.offsetLeft+(0,r.int)(f.paddingLeft)+(0,r.int)(h.marginLeft),top:-a.offsetTop+(0,r.int)(f.paddingTop)+(0,r.int)(h.marginTop),right:(0,i.innerWidth)(d)-(0,i.outerWidth)(a)-a.offsetLeft+(0,r.int)(f.paddingRight)-(0,r.int)(h.marginRight),bottom:(0,i.innerHeight)(d)-(0,i.outerHeight)(a)-a.offsetTop+(0,r.int)(f.paddingBottom)-(0,r.int)(h.marginBottom)}}(0,r.isNum)(s.right)&&(t=Math.min(t,s.right));(0,r.isNum)(s.bottom)&&(n=Math.min(n,s.bottom));(0,r.isNum)(s.left)&&(t=Math.max(t,s.left));(0,r.isNum)(s.top)&&(n=Math.max(n,s.top));return[t,n]},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var s=o(n),a=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,a,n.props.scale)},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(2693),i=n(2280);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},2693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},1372:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:(e,t,n)=>{"use strict";n(1372)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+T(a=e[c],c);l+=R(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,u=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(x);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,I=5,T=-1;function R(){return!(t.unstable_now()-T<I)}function P(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){v(P,0)};function D(e){E=e,k||(k=!0,S())}function O(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,O(_,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:(e,t,n)=>{var r=n(8698).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=s?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},7326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},3144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},1721:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:()=>i})},5987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},9278:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>N,SDK_VERSION:()=>Ge,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>je,_addOrOverwriteComponent:()=>Ze,_apps:()=>Fe,_clearComponents:()=>qe,_components:()=>ze,_getProvider:()=>Be,_registerComponent:()=>Ue,_removeServiceInstance:()=>Ve,deleteApp:()=>Ye,getApp:()=>Qe,getApps:()=>$e,initializeApp:()=>Ke,onLog:()=>Je,registerVersion:()=>Xe,setLogLevel:()=>et});var t=n(2791),r=n.t(t,2),i=n(1250);const o=!1,s=!1,a="${JSCORE_VERSION}",l=function(e,t){if(!e)throw c(t)},c=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new h;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){const t=u(e);return d.encodeByteArray(t,!0)},p=function(e){return f(e).replace(/\./g,"")},m=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=g(e[n],t[n]));return e}const v=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,y=()=>{try{return v()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&m(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},b=e=>{const t=(e=>{var t,n;return null===(n=null===(t=y())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},w=()=>{var e;return null===(e=y())||void 0===e?void 0:e.config};class _{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function x(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(o)),""].join(".")}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function E(){var e;const t=null===(e=y())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function C(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function R(){return!0===o||!0===s}function P(){try{return"object"===typeof indexedDB}catch(e){return!1}}class N extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(D,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new N(n,o,t)}}const D=/\{\$([^}]+)}/g;function O(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}const L=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=O(m(o[0])||""),n=O(m(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function j(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function U(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(B(n)&&B(o)){if(!U(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B(e){return null!==e&&"object"===typeof e}function V(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function q(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function W(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class H{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function G(e,t){const n=new K(e,t);return n.subscribe.bind(n)}class K{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Q),void 0===r.error&&(r.error=Q),void 0===r.complete&&(r.complete=Q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Q(){}const $=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}};function Y(e,t){return"".concat(e," failed: ").concat(t," argument ")}function X(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Y(e,t)+"must be a valid function.")}function J(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Y(e,t)+"must be a valid context object.")}const ee=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function te(e){return e&&e._delegate?e._delegate:e}class ne{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const re="[DEFAULT]";class ie{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:re})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(em){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(em){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return this.component?this.component.multipleInstances?e:re:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function oe(e){return e===re?void 0:e}class se{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ie(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ae=[];var le;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(le||(le={}));const ce={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ue=le.INFO,de={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},he=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=de[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class fe{constructor(e){this.name=e,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,ae.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...t),this._logHandler(this,le.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...t),this._logHandler(this,le.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,le.INFO,...t),this._logHandler(this,le.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,le.WARN,...t),this._logHandler(this,le.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,le.ERROR,...t),this._logHandler(this,le.ERROR,...t)}}const pe=(e,t)=>t.some((t=>e instanceof t));let me,ge;const ve=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakMap,_e=new WeakMap;let xe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ye.get(e);if("objectStoreNames"===t)return e.objectStoreNames||be.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ee(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ce(this),n),Ee(ve.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ee(e.apply(Ce(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Ce(this),t,...r);return be.set(o,t.sort?t.sort():[t]),Ee(o)}}function ke(e){return"function"===typeof e?Se(e):(e instanceof IDBTransaction&&function(e){if(ye.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ye.set(e,t)}(e),pe(e,me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xe):e)}function Ee(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ee(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ve.set(t,e)})).catch((()=>{})),_e.set(t,e),t}(e);if(we.has(e))return we.get(e);const t=ke(e);return t!==e&&(we.set(e,t),_e.set(t,e)),t}const Ce=e=>_e.get(e);const Ie=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Re=new Map;function Pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Re.get(t))return Re.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Te.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ie.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Re.set(t,o),o}xe=(e=>({...e,get:(t,n,r)=>Pe(t,n)||e.get(t,n,r),has:(t,n)=>!!Pe(t,n)||e.has(t,n)}))(xe);class Ne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ae="@firebase/app",De="0.9.13",Oe=new fe("@firebase/app"),Me="[DEFAULT]",Le={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fe=new Map,ze=new Map;function je(e,t){try{e.container.addComponent(t)}catch(n){Oe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ze(e,t){e.container.addOrOverwriteComponent(t)}function Ue(e){const t=e.name;if(ze.has(t))return Oe.debug("There were multiple attempts to register component ".concat(t,".")),!1;ze.set(t,e);for(const n of Fe.values())je(n,e);return!0}function Be(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me;Be(e,t).clearInstance(n)}function qe(){ze.clear()}const We=new A("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class He{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ne("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw We.create("app-deleted",{appName:this._name})}}const Ge="9.23.0";function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Me,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw We.create("bad-app-name",{appName:String(i)});if(n||(n=w()),!n)throw We.create("no-options");const o=Fe.get(i);if(o){if(U(n,o.options)&&U(r,o.config))return o;throw We.create("duplicate-app",{appName:i})}const s=new se(i);for(const l of ze.values())s.addComponent(l);const a=new He(n,r,s);return Fe.set(i,a),a}function Qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;const t=Fe.get(e);if(!t&&e===Me&&w())return Ke();if(!t)throw We.create("no-app",{appName:e});return t}function $e(){return Array.from(Fe.values())}async function Ye(e){const t=e.name;Fe.has(t)&&(Fe.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Xe(e,t,n){var r;let i=null!==(r=Le[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Oe.warn(e.join(" "))}Ue(new ne("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Je(e,t){if(null!==e&&"function"!==typeof e)throw We.create("invalid-log-argument");!function(e,t){for(const n of ae){let r=null;t&&t.level&&(r=ce[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:le[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function et(e){var t;t=e,ae.forEach((e=>{e.setLogLevel(t)}))}const tt="firebase-heartbeat-database",nt=1,rt="firebase-heartbeat-store";let it=null;function ot(){return it||(it=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Ee(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ee(s.result),e.oldVersion,e.newVersion,Ee(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(tt,nt,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(rt)}}).catch((e=>{throw We.create("idb-open",{originalErrorMessage:e.message})}))),it}async function st(e,t){try{const n=(await ot()).transaction(rt,"readwrite"),r=n.objectStore(rt);await r.put(t,at(e)),await n.done}catch(n){if(n instanceof N)Oe.warn(n.message);else{const e=We.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Oe.warn(e.message)}}}function at(e){return"".concat(e.name,"!").concat(e.options.appId)}class lt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ut(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ct();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ct(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),dt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=p(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ct(){return(new Date).toISOString().substring(0,10)}class ut{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!P()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(wS){t(wS)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await ot();return await t.transaction(rt).objectStore(rt).get(at(e))}catch(t){if(t instanceof N)Oe.warn(t.message);else{const e=We.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Oe.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return st(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return st(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function dt(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var ht;ht="",Ue(new ne("platform-logger",(e=>new Ne(e)),"PRIVATE")),Ue(new ne("heartbeat",(e=>new lt(e)),"PRIVATE")),Xe(Ae,De,ht),Xe(Ae,De,"esm2017"),Xe("fire-js","");var ft,pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mt={},gt=gt||{},vt=pt||self;function yt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wt="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function xt(e,t,n){return e.call.apply(e.bind,arguments)}function St(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kt(e,t,n){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xt:St).apply(null,arguments)}function Et(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ct(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function It(){this.s=this.s,this.o=this.o}It.prototype.s=!1,It.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,wt)&&e[wt]||(e[wt]=++_t))},It.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Pt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(yt(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Nt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vt.addEventListener("test",(()=>{}),t),vt.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Dt(e){return/^[\s\xa0]*$/.test(e)}function Ot(){var e=vt.navigator;return e&&(e=e.userAgent)?e:""}function Mt(e){return-1!=Ot().indexOf(e)}function Lt(e){return Lt[" "](e),e}Lt[" "]=function(){};var Ft,zt,jt=Mt("Opera"),Zt=Mt("Trident")||Mt("MSIE"),Ut=Mt("Edge"),Bt=Ut||Zt,Vt=Mt("Gecko")&&!(-1!=Ot().toLowerCase().indexOf("webkit")&&!Mt("Edge"))&&!(Mt("Trident")||Mt("MSIE"))&&!Mt("Edge"),qt=-1!=Ot().toLowerCase().indexOf("webkit")&&!Mt("Edge");function Wt(){var e=vt.document;return e?e.documentMode:void 0}e:{var Ht="",Gt=function(){var e=Ot();return Vt?/rv:([^\);]+)(\)|;)/.exec(e):Ut?/Edge\/([\d\.]+)/.exec(e):Zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qt?/WebKit\/(\S+)/.exec(e):jt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Gt&&(Ht=Gt?Gt[1]:""),Zt){var Kt=Wt();if(null!=Kt&&Kt>parseFloat(Ht)){Ft=String(Kt);break e}}Ft=Ht}if(vt.document&&Zt){var Qt=Wt();zt=Qt||(parseInt(Ft,10)||void 0)}else zt=void 0;var $t=zt;function Yt(e,t){if(Nt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Vt){e:{try{Lt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yt.$.h.call(this)}}Ct(Yt,Nt);var Xt={2:"touch",3:"pen",4:"mouse"};Yt.prototype.h=function(){Yt.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),en=0;function tn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++en,this.fa=this.ia=!1}function nn(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function rn(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function on(e){const t={};for(const n in e)t[n]=e[n];return t}const sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function an(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<sn.length;t++)n=sn[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ln(e){this.src=e,this.g={},this.h=0}function cn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Tt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(nn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function un(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}ln.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=un(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new tn(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var dn="closure_lm_"+(1e6*Math.random()|0),hn={};function fn(e,t,n,r,i){if(r&&r.once)return mn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);return null}return n=xn(n),e&&e[Jt]?e.O(t,n,bt(r)?!!r.capture:!!r,i):pn(e,t,n,!1,r,i)}function pn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=bt(i)?!!i.capture:!!i,a=wn(e);if(a||(e[dn]=a=new ln(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=bn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)At||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function mn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)mn(e,t[o],n,r,i);return null}return n=xn(n),e&&e[Jt]?e.P(t,n,bt(r)?!!r.capture:!!r,i):pn(e,t,n,!0,r,i)}function gn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)gn(e,t[o],n,r,i);else r=bt(r)?!!r.capture:!!r,n=xn(n),e&&e[Jt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=un(o=e.g[t],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=wn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&vn(n))}function vn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Jt])cn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(cn(n,e),0==n.h&&(n.src=null,t[dn]=null)):nn(e)}}}function yn(e){return e in hn?hn[e]:hn[e]="on"+e}function bn(e,t){if(e.fa)e=!0;else{t=new Yt(t,this);var n=e.listener,r=e.la||e.src;e.ia&&vn(e),e=n.call(r,t)}return e}function wn(e){return(e=e[dn])instanceof ln?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(e){return"function"===typeof e?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function Sn(){It.call(this),this.i=new ln(this),this.S=this,this.J=null}function kn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Nt(t,e);else if(t instanceof Nt)t.target=t.target||e;else{var i=t;an(t=new Nt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.g=e,r,!0,t)&&i,i=En(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=En(s=t.g=n[o],r,!1,t)&&i}function En(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&cn(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ct(Sn,It),Sn.prototype[Jt]=!0,Sn.prototype.removeEventListener=function(e,t,n,r){gn(this,e,t,n,r)},Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nn(n[r]);delete t.g[e],t.h--}}this.J=null},Sn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cn=vt.JSON.stringify;function In(){var e=On;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Tn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Rn),(e=>e.reset()));class Rn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Nn(e){vt.setTimeout((()=>{throw e}),0)}let An,Dn=!1,On=new class{constructor(){this.h=this.g=null}add(e,t){const n=Tn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Mn=()=>{const e=vt.Promise.resolve(void 0);An=()=>{e.then(Ln)}};var Ln=()=>{for(var e;e=In();){try{e.h.call(e.g)}catch(n){Nn(n)}var t=Tn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Dn=!1};function Fn(e,t){Sn.call(this),this.h=e||1,this.g=t||vt,this.j=kt(this.qb,this),this.l=Date.now()}function zn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function jn(e,t,n){if("function"===typeof e)n&&(e=kt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kt(e.handleEvent,e)}return 2147483647<Number(t)?-1:vt.setTimeout(e,t||0)}function Zn(e){e.g=jn((()=>{e.g=null,e.i&&(e.i=!1,Zn(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ct(Fn,Sn),(ft=Fn.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kn(this,"tick"),this.ga&&(zn(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){Fn.$.N.call(this),zn(this),delete this.g};class Un extends It{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zn(this)}N(){super.N(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(e){It.call(this),this.h=e,this.g={}}Ct(Bn,It);var Vn=[];function qn(e,t,n,r){Array.isArray(n)||(n&&(Vn[0]=n.toString()),n=Vn);for(var i=0;i<n.length;i++){var o=fn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Wn(e){rn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&vn(e)}),e),e.g={}}function Hn(){this.g=!0}function Gn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Cn(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Bn.prototype.N=function(){Bn.$.N.call(this),Wn(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hn.prototype.Ea=function(){this.g=!1},Hn.prototype.info=function(){};var Kn={},Qn=null;function $n(){return Qn=Qn||new Sn}function Yn(e){Nt.call(this,Kn.Ta,e)}function Xn(e){const t=$n();kn(t,new Yn(t))}function Jn(e,t){Nt.call(this,Kn.STAT_EVENT,e),this.stat=t}function er(e){const t=$n();kn(t,new Jn(t,e))}function tr(e,t){Nt.call(this,Kn.Ua,e),this.size=t}function nr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vt.setTimeout((function(){e()}),t)}Kn.Ta="serverreachability",Ct(Yn,Nt),Kn.STAT_EVENT="statevent",Ct(Jn,Nt),Kn.Ua="timingevent",Ct(tr,Nt);var rr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ir={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function or(){}function sr(e){return e.h||(e.h=e.i())}function ar(){}or.prototype.h=null;var lr,cr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ur(){Nt.call(this,"d")}function dr(){Nt.call(this,"c")}function hr(){}function fr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Bn(this),this.P=mr,e=Bt?125:void 0,this.V=new Fn(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}Ct(ur,Nt),Ct(dr,Nt),Ct(hr,or),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},lr=new hr;var mr=45e3,gr={},vr={};function yr(e,t,n){e.L=1,e.v=Fr(Ar(t)),e.s=n,e.S=!0,br(e,null)}function br(e,t){e.G=Date.now(),Sr(e),e.A=Ar(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),$r(n.i,"t",r),e.C=0,n=e.l.J,e.h=new pr,e.g=Yi(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Un(kt(e.Pa,e,e.g),e.O)),qn(e.U,e.g,"readystatechange",e.nb),t=e.I?on(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Xn(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function wr(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function _r(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=xr(e,n),r==vr){4==t&&(e.o=4,er(14),i=!1),Gn(e.j,e.m,null,"[Incomplete Response]");break}if(r==gr){e.o=4,er(15),Gn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gn(e.j,e.m,r,null),Tr(e,r)}wr(e)&&r!=vr&&r!=gr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,er(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vi(t),t.M=!0,er(11))):(Gn(e.j,e.m,n,"[Invalid Chunked Response]"),Ir(e),Cr(e))}function xr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?vr:(n=Number(t.substring(n,r)),isNaN(n)?gr:(r+=1)+n>t.length?vr:(t=t.slice(r,r+n),e.C=r+n,t))}function Sr(e){e.Y=Date.now()+e.P,kr(e,e.P)}function kr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nr(kt(e.lb,e),t)}function Er(e){e.B&&(vt.clearTimeout(e.B),e.B=null)}function Cr(e){0==e.l.H||e.J||Hi(e.l,e)}function Ir(e){Er(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,zn(e.V),Wn(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Tr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ri(n.i,e)))if(!e.K&&ri(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Wi(n),Mi(n)}Bi(n),er(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=nr(kt(n.ib,n),6e3));if(1>=ni(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ki(n,11)}else if((e.K||n.g==e)&&Wi(n),!Dt(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ii(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Lr(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=$i(r,r.J?r.pa:null,r.Y),s.K){oi(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Er(a),Sr(a)),r.g=s}else Ui(r);0<n.j.length&&Fi(n)}else"stop"!=c[0]&&"close"!=c[0]||Ki(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ki(n,7):Oi(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Xn()}catch(c){}}function Rr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(yt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(yt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(ft=fr.prototype).setTimeout=function(e){this.P=e},ft.nb=function(e){e=e.target;const t=this.M;t&&3==Ti(e)?t.l():this.Pa(e)},ft.Pa=function(e){try{if(e==this.g)e:{const u=Ti(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Bt||this.g&&(this.h.h||this.g.ja()||Ri(this.g)))){this.J||4!=u||7==t||Xn(),Er(this);var n=this.g.da();this.ca=n;t:if(wr(this)){var r=Ri(this.g);e="";var i=r.length,o=4==Ti(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ir(this),Cr(this);var s="";break t}this.h.i=new vt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dt(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,er(12),Ir(this),Cr(this);break e}Gn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tr(this,n)}this.S?(_r(this,u,s),Bt&&this.i&&3==u&&(qn(this.U,this.V,"tick",this.mb),this.V.start())):(Gn(this.j,this.m,s,null),Tr(this,s)),4==u&&Ir(this),this.i&&!this.J&&(4==u?Hi(this.l,this):(this.i=!1,Sr(this)))}else(function(e){const t={};e=(e.g&&2<=Ti(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Dt(e[r]))continue;var n=Pn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),Ir(this),Cr(this)}}}catch(u){}},ft.mb=function(){if(this.g){var e=Ti(this.g),t=this.g.ja();this.C<t.length&&(Er(this),_r(this,e,t),this.i&&4!=e&&Sr(this))}},ft.cancel=function(){this.J=!0,Ir(this)},ft.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Xn(),er(17)),Ir(this),this.o=2,Cr(this)):kr(this,this.Y-e)};var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nr){this.h=e.h,Dr(this,e.j),this.s=e.s,this.g=e.g,Or(this,e.m),this.l=e.l;var t=e.i,n=new Hr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Mr(this,n),this.o=e.o}else e&&(t=String(e).match(Pr))?(this.h=!1,Dr(this,t[1]||"",!0),this.s=zr(t[2]||""),this.g=zr(t[3]||"",!0),Or(this,t[4]),this.l=zr(t[5]||"",!0),Mr(this,t[6]||"",!0),this.o=zr(t[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}function Ar(e){return new Nr(e)}function Dr(e,t,n){e.j=n?zr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Or(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mr(e,t,n){t instanceof Hr?(e.i=t,function(e,t){t&&!e.j&&(Gr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kr(this,t),$r(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=jr(t,qr)),e.i=new Hr(t,e.h))}function Lr(e,t,n){e.i.set(t,n)}function Fr(e){return Lr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(jr(t,Ur,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(jr(t,Ur,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(jr(n,"/"==n.charAt(0)?Vr:Br,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",jr(n,Wr)),e.join("")};var Ur=/[#\/\?@]/g,Br=/[#\?:]/g,Vr=/[#\?]/g,qr=/[#\?@]/g,Wr=/#/g;function Hr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gr(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Kr(e,t){Gr(e),t=Yr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Qr(e,t){return Gr(e),t=Yr(e,t),e.g.has(t)}function $r(e,t,n){Kr(e,t),0<n.length&&(e.i=null,e.g.set(Yr(e,t),Rt(n)),e.h+=n.length)}function Yr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ft=Hr.prototype).add=function(e,t){Gr(this),this.i=null,e=Yr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ft.forEach=function(e,t){Gr(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ft.ta=function(){Gr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},ft.Z=function(e){Gr(this);let t=[];if("string"===typeof e)Qr(this,e)&&(t=t.concat(this.g.get(Yr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ft.set=function(e,t){return Gr(this),this.i=null,Qr(this,e=Yr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ft.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Xr=class{constructor(e,t){this.g=e,this.map=t}};function Jr(e){this.l=e||ei,vt.PerformanceNavigationTiming?e=0<(e=vt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vt.g&&vt.g.Ka&&vt.g.Ka()&&vt.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ei=10;function ti(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ni(e){return e.h?1:e.g?e.g.size:0}function ri(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ii(e,t){e.g?e.g.add(t):e.h=t}function oi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function si(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Rt(e.i)}Jr.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ai,li=class{stringify(e){return vt.JSON.stringify(e,void 0)}parse(e){return vt.JSON.parse(e,void 0)}};function ci(){this.g=new li}function ui(e,t,n){const r=n||"";try{Rr(e,(function(e,n){let i=e;bt(e)&&(i=Cn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function di(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function hi(e){this.l=e.fc||null,this.j=e.ob||!1}function fi(e,t){Sn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(hi,or),hi.prototype.g=function(){return new fi(this.l,this.j)},hi.prototype.i=(ai={},function(){return ai}),Ct(fi,Sn);var pi=0;function mi(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function gi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vi(e)}function vi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ft=fi.prototype).open=function(e,t){if(this.readyState!=pi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vi(this)},ft.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||vt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gi(this)),this.readyState=pi},ft.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof vt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mi(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gi(this):vi(this),3==this.readyState&&mi(this)}},ft.Za=function(e){this.g&&(this.response=this.responseText=e,gi(this))},ft.Ya=function(e){this.g&&(this.response=e,gi(this))},ft.ka=function(){this.g&&gi(this)},ft.setRequestHeader=function(e,t){this.v.append(e,t)},ft.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yi=vt.JSON.parse;function bi(e){Sn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wi,this.L=this.M=!1}Ct(bi,Sn);var wi="",_i=/^https?$/i,xi=["POST","PUT"];function Si(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ki(e),Ci(e)}function ki(e){e.F||(e.F=!0,kn(e,"complete"),kn(e,"error"))}function Ei(e){if(e.h&&"undefined"!=typeof gt&&(!e.C[1]||4!=Ti(e)||2!=e.da()))if(e.v&&4==Ti(e))jn(e.La,0,e);else if(kn(e,"readystatechange"),4==Ti(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Pr)[1]||null;!i&&vt.self&&vt.self.location&&(i=vt.self.location.protocol.slice(0,-1)),r=!_i.test(i?i.toLowerCase():"")}n=r}if(n)kn(e,"complete"),kn(e,"success");else{e.m=6;try{var o=2<Ti(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",ki(e)}}finally{Ci(e)}}}function Ci(e,t){if(e.g){Ii(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||kn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Ii(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(vt.clearTimeout(e.A),e.A=null)}function Ti(e){return e.g?e.g.readyState:0}function Ri(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case wi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Mo){return null}}function Pi(e){let t="";return rn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ni(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lr(e,t,n))}function Ai(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Di(e){this.Ga=0,this.j=[],this.l=new Hn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ai("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ai("baseRetryDelayMs",5e3,e),this.hb=Ai("retryDelaySeedMs",1e4,e),this.eb=Ai("forwardChannelMaxRetries",2,e),this.xa=Ai("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Jr(e&&e.concurrentRequestLimit),this.Ja=new ci,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Oi(e){if(Li(e),3==e.H){var t=e.W++,n=Ar(e.I);if(Lr(n,"SID",e.K),Lr(n,"RID",t),Lr(n,"TYPE","terminate"),ji(e,n),(t=new fr(e,e.l,t)).L=2,t.v=Fr(Ar(n)),n=!1,vt.navigator&&vt.navigator.sendBeacon)try{n=vt.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&vt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yi(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Sr(t)}Qi(e)}function Mi(e){e.g&&(Vi(e),e.g.cancel(),e.g=null)}function Li(e){Mi(e),e.u&&(vt.clearTimeout(e.u),e.u=null),Wi(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vt.clearTimeout(e.m),e.m=null)}function Fi(e){if(!ti(e.i)&&!e.m){e.m=!0;var t=e.Na;An||Mn(),Dn||(An(),Dn=!0),On.add(t,e),e.C=0}}function zi(e,t){var n;n=t?t.m:e.W++;const r=Ar(e.I);Lr(r,"SID",e.K),Lr(r,"RID",n),Lr(r,"AID",e.V),ji(e,r),e.o&&e.s&&Ni(r,e.o,e.s),n=new fr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Zi(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ii(e.i,n),yr(n,r,t)}function ji(e,t){e.na&&rn(e.na,(function(e,n){Lr(t,n,e)})),e.h&&Rr({},(function(e,n){Lr(t,n,e)}))}function Zi(e,t,n){n=Math.min(e.j.length,n);var r=e.h?kt(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{ui(a,e,"req"+n+"_")}catch(Ho){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ui(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;An||Mn(),Dn||(An(),Dn=!0),On.add(t,e),e.A=0}}function Bi(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=nr(kt(e.Ma,e),Gi(e,e.A)),e.A++,!0)}function Vi(e){null!=e.B&&(vt.clearTimeout(e.B),e.B=null)}function qi(e){e.g=new fr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ar(e.wa);Lr(t,"RID","rpc"),Lr(t,"SID",e.K),Lr(t,"AID",e.V),Lr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Lr(t,"TO",e.qa),Lr(t,"TYPE","xmlhttp"),ji(e,t),e.o&&e.s&&Ni(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Fr(Ar(t)),n.s=null,n.S=!0,br(n,e)}function Wi(e){null!=e.v&&(vt.clearTimeout(e.v),e.v=null)}function Hi(e,t){var n=null;if(e.g==t){Wi(e),Vi(e),e.g=null;var r=2}else{if(!ri(e.i,t))return;n=t.F,oi(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;kn(r=$n(),new tr(r,n)),Fi(e)}else Ui(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ni(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=nr(kt(e.Na,e,t),Gi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bi(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ki(e,5);break;case 4:Ki(e,10);break;case 3:Ki(e,6);break;default:Ki(e,2)}}function Gi(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ki(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=kt(e.pb,e);n||(n=new Nr("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||Dr(n,"https"),Fr(n)),function(e,t){const n=new Hn;if(vt.Image){const r=new Image;r.onload=Et(di,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Et(di,n,r,"TestLoadImage: error",!1,t),r.onabort=Et(di,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Et(di,n,r,"TestLoadImage: timeout",!1,t),vt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else er(2);e.H=0,e.h&&e.h.za(t),Qi(e),Li(e)}function Qi(e){if(e.H=0,e.ma=[],e.h){const t=si(e.i);0==t.length&&0==e.j.length||(Pt(e.ma,t),Pt(e.ma,e.j),e.i.i.length=0,Rt(e.j),e.j.length=0),e.h.ya()}}function $i(e,t,n){var r=n instanceof Nr?Ar(n):new Nr(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Or(r,r.m);else{var i=vt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Nr(null);r&&Dr(o,r),t&&(o.g=t),i&&Or(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Lr(r,n,t),Lr(r,"VER",e.ra),ji(e,r),r}function Yi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new bi(new hi({ob:!0})):new bi(e.va)).Oa(e.J),t}function Xi(){}function Ji(){if(Zt&&!(10<=Number($t)))throw Error("Environmental error: no available transport.")}function eo(e,t){Sn.call(this),this.g=new Di(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Dt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Dt(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ro(this)}function to(e){ur.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function no(){dr.call(this),this.status=1}function ro(e){this.g=e}function io(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oo(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function so(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(ft=bi.prototype).Oa=function(e){this.M=e},ft.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lr.g(),this.C=this.u?sr(this.u):sr(lr),this.g.onreadystatechange=kt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Si(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=vt.FormData&&e instanceof vt.FormData,!(0<=Tt(xi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ii(this),0<this.B&&((this.L=function(e){return Zt&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.ua,this)):this.A=jn(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Si(this,o)}},ft.ua=function(){"undefined"!=typeof gt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))},ft.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kn(this,"complete"),kn(this,"abort"),Ci(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ci(this,!0)),bi.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?Ei(this):this.kb())},ft.kb=function(){Ei(this)},ft.isActive=function(){return!!this.g},ft.da=function(){try{return 2<Ti(this)?this.g.status:-1}catch(ai){return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch(ai){return""}},ft.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yi(t)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ft=Di.prototype).ra=8,ft.H=1,ft.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new fr(this,this.l,e);let o=this.s;if(this.U&&(o?(o=on(o),an(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zi(this,i,t),Lr(n=Ar(this.I),"RID",e),Lr(n,"CVER",22),this.F&&Lr(n,"X-HTTP-Session-Id",this.F),ji(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Pi(o)))+"&"+t:this.o&&Ni(n,this.o,o)),ii(this.i,i),this.bb&&Lr(n,"TYPE","init"),this.P?(Lr(n,"$req",t),Lr(n,"SID","null"),i.aa=!0,yr(i,n,null)):yr(i,n,t),this.H=2}}else 3==this.H&&(e?zi(this,e):0==this.j.length||ti(this.i)||zi(this))},ft.Ma=function(){if(this.u=null,qi(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=nr(kt(this.jb,this),e)}},ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),Mi(this),qi(this))},ft.ib=function(){null!=this.v&&(this.v=null,Mi(this),Bi(this),er(19))},ft.pb=function(e){e?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))},ft.isActive=function(){return!!this.h&&this.h.isActive(this)},(ft=Xi.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.isActive=function(){return!0},ft.Va=function(){},Ji.prototype.g=function(e,t){return new eo(e,t)},Ct(eo,Sn),eo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;er(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$i(e,null,e.Y),Fi(e)},eo.prototype.close=function(){Oi(this.g)},eo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Cn(e),e=n);t.j.push(new Xr(t.fb++,e)),3==t.H&&Fi(t)},eo.prototype.N=function(){this.g.h=null,delete this.j,Oi(this.g),delete this.g,eo.$.N.call(this)},Ct(to,ur),Ct(no,dr),Ct(ro,Xi),ro.prototype.Ba=function(){kn(this.g,"a")},ro.prototype.Aa=function(e){kn(this.g,new to(e))},ro.prototype.za=function(e){kn(this.g,new no)},ro.prototype.ya=function(){kn(this.g,"b")},Ct(io,(function(){this.blockSize=-1})),io.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},io.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)oo(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){oo(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){oo(this,r),i=0;break}}this.h=i,this.i+=t},io.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ao={};function lo(e){return-128<=e&&128>e?function(e,t){var n=ao;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new so([0|e],0>e?-1:0)})):new so([0|e],0>e?-1:0)}function co(e){if(isNaN(e)||!isFinite(e))return ho;if(0>e)return vo(co(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=uo;return new so(t,0)}var uo=4294967296,ho=lo(0),fo=lo(1),po=lo(16777216);function mo(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function go(e){return-1==e.h}function vo(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new so(n,~e.h).add(fo)}function yo(e,t){return e.add(vo(t))}function bo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function wo(e,t){this.g=e,this.h=t}function _o(e,t){if(mo(t))throw Error("division by zero");if(mo(e))return new wo(ho,ho);if(go(e))return t=_o(vo(e),t),new wo(vo(t.g),vo(t.h));if(go(t))return t=_o(e,vo(t)),new wo(vo(t.g),t.h);if(30<e.g.length){if(go(e)||go(t))throw Error("slowDivide_ only works with positive integers.");for(var n=fo,r=t;0>=r.X(e);)n=xo(n),r=xo(r);var i=So(n,1),o=So(r,1);for(r=So(r,2),n=So(n,2);!mo(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=So(r,1),n=So(n,1)}return t=yo(e,i.R(t)),new wo(i,t)}for(i=ho;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=co(n)).R(t);go(s)||0<s.X(e);)s=(o=co(n-=r)).R(t);mo(o)&&(o=fo),i=i.add(o),e=yo(e,s)}return new wo(i,e)}function xo(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new so(n,e.h)}function So(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new so(i,e.h)}(ft=so.prototype).ea=function(){if(go(this))return-vo(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:uo+r)*t,t*=uo}return e},ft.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(mo(this))return"0";if(go(this))return"-"+vo(this).toString(e);for(var t=co(Math.pow(e,6)),n=this,r="";;){var i=_o(n,t).g,o=((0<(n=yo(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(mo(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ft.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ft.X=function(e){return go(e=yo(this,e))?-1:mo(e)?0:1},ft.abs=function(){return go(this)?vo(this):this},ft.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new so(n,-2147483648&n[n.length-1]?-1:0)},ft.R=function(e){if(mo(this)||mo(e))return ho;if(go(this))return go(e)?vo(this).R(vo(e)):vo(vo(this).R(e));if(go(e))return vo(this.R(vo(e)));if(0>this.X(po)&&0>e.X(po))return co(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,bo(n,2*r+2*i),n[2*r+2*i+1]+=o*l,bo(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,bo(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,bo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new so(n,0)},ft.gb=function(e){return _o(this,e).h},ft.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new so(n,this.h&e.h)},ft.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new so(n,this.h|e.h)},ft.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new so(n,this.h^e.h)},Ji.prototype.createWebChannel=Ji.prototype.g,eo.prototype.send=eo.prototype.u,eo.prototype.open=eo.prototype.m,eo.prototype.close=eo.prototype.close,rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,ir.COMPLETE="complete",ar.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",Sn.prototype.listen=Sn.prototype.O,bi.prototype.listenOnce=bi.prototype.P,bi.prototype.getLastError=bi.prototype.Sa,bi.prototype.getLastErrorCode=bi.prototype.Ia,bi.prototype.getStatus=bi.prototype.da,bi.prototype.getResponseJson=bi.prototype.Wa,bi.prototype.getResponseText=bi.prototype.ja,bi.prototype.send=bi.prototype.ha,bi.prototype.setWithCredentials=bi.prototype.Oa,io.prototype.digest=io.prototype.l,io.prototype.reset=io.prototype.reset,io.prototype.update=io.prototype.j,so.prototype.add=so.prototype.add,so.prototype.multiply=so.prototype.R,so.prototype.modulo=so.prototype.gb,so.prototype.compare=so.prototype.X,so.prototype.toNumber=so.prototype.ea,so.prototype.toString=so.prototype.toString,so.prototype.getBits=so.prototype.D,so.fromNumber=co,so.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return vo(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=co(Math.pow(n,8)),i=ho,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=co(Math.pow(n,s)),i=i.R(s).add(co(a))):i=(i=i.R(r)).add(co(a))}return i};var ko=mt.createWebChannelTransport=function(){return new Ji},Eo=mt.getStatEventTarget=function(){return $n()},Co=mt.ErrorCode=rr,Io=mt.EventType=ir,To=mt.Event=Kn,Ro=mt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Po=mt.FetchXmlHttpFactory=hi,No=mt.WebChannel=ar,Ao=mt.XhrIo=bi,Do=mt.Md5=io,Oo=mt.Integer=so;const Mo="@firebase/firestore";class Lo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lo.UNAUTHENTICATED=new Lo(null),Lo.GOOGLE_CREDENTIALS=new Lo("google-credentials-uid"),Lo.FIRST_PARTY=new Lo("first-party-uid"),Lo.MOCK_USER=new Lo("mock-user");let Fo="9.23.0";const zo=new fe("@firebase/firestore");function jo(){return zo.logLevel}function Zo(e){if(zo.logLevel<=le.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vo);zo.debug("Firestore (".concat(Fo,"): ").concat(e),...i)}}function Uo(e){if(zo.logLevel<=le.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vo);zo.error("Firestore (".concat(Fo,"): ").concat(e),...i)}}function Bo(e){if(zo.logLevel<=le.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vo);zo.warn("Firestore (".concat(Fo,"): ").concat(e),...i)}}function Vo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Fo,") INTERNAL ASSERTION FAILED: ")+e;throw Uo(t),new Error(t)}function Wo(e,t){e||qo()}function Ho(e,t){return e}const Go={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ko extends N{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Qo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class $o{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Yo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Lo.UNAUTHENTICATED)))}shutdown(){}}class Xo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Jo{constructor(e){this.t=e,this.currentUser=Lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qo,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Zo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Zo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qo)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Zo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wo("string"==typeof t.accessToken),new $o(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wo(null===e||"string"==typeof e),new Lo(e)}}class es{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Lo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ts{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new es(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Lo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ns{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rs{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Zo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Zo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Zo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Zo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Wo("string"==typeof e.token),this.T=e.token,new ns(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function is(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class os{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=is(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ss(e,t){return e<t?-1:e>t?1:0}function as(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ls(e){return e+"\0"}class cs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ko(Go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ko(Go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ko(Go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ko(Go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new cs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ss(this.nanoseconds,e.nanoseconds):ss(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class us{constructor(e){this.timestamp=e}static fromTimestamp(e){return new us(e)}static min(){return new us(new cs(0,0))}static max(){return new us(new cs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ds{constructor(e,t,n){void 0===t?t=0:t>e.length&&qo(),void 0===n?n=e.length-t:n>e.length-t&&qo(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hs extends ds{construct(e,t,n){return new hs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ko(Go.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new hs(e)}static emptyPath(){return new hs([])}}const fs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ps extends ds{construct(e,t,n){return new ps(e,t,n)}static isValidIdentifier(e){return fs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ps.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ps(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ko(Go.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ko(Go.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ko(Go.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ko(Go.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ps(t)}static emptyPath(){return new ps([])}}class ms{constructor(e){this.path=e}static fromPath(e){return new ms(hs.fromString(e))}static fromName(e){return new ms(hs.fromString(e).popFirst(5))}static empty(){return new ms(hs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ms(new hs(e.slice()))}}class gs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function vs(e){return e.fields.find((e=>2===e.kind))}function ys(e){return e.fields.filter((e=>2!==e.kind))}gs.UNKNOWN_ID=-1;class bs{constructor(e,t){this.fieldPath=e,this.kind=t}}class ws{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ws(0,Ss.min())}}function _s(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=us.fromTimestamp(1e9===r?new cs(n+1,0):new cs(n,r));return new Ss(i,ms.empty(),t)}function xs(e){return new Ss(e.readTime,e.key,-1)}class Ss{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ss(us.min(),ms.empty(),-1)}static max(){return new Ss(us.max(),ms.empty(),-1)}}function ks(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ms.comparator(e.documentKey,t.documentKey),0!==n?n:ss(e.largestBatchId,t.largestBatchId))}const Es="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Is(e){if(e.code!==Go.FAILED_PRECONDITION||e.message!==Es)throw e;Zo("LocalStore","Unexpectedly lost primary lease")}class Ts{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ts(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ts?t:Ts.resolve(t)}catch(e){return Ts.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ts.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ts.reject(t)}static resolve(e){return new Ts(((t,n)=>{t(e)}))}static reject(e){return new Ts(((t,n)=>{n(e)}))}static waitFor(e){return new Ts(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Ts.resolve(!1);for(const n of e)t=t.next((e=>e?Ts.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ts(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ts(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Rs{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Qo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new As(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Fs(t.target.error);this.v.reject(new As(e,n))}}static open(e,t,n,r){try{return new Rs(t,e.transaction(r,n))}catch(e){throw new As(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Zo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Os(t)}}class Ps{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Ps.S(S())&&Uo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Zo("SimpleDb","Removing database:",e),Ms(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!P())return!1;if(Ps.C())return!0;const e=S(),t=Ps.S(e),n=0<t&&t<10,r=Ps.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(Zo("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new As(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ko(Go.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ko(Go.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new As(e,r))},r.onupgradeneeded=e=>{Zo("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Zo("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=Rs.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Ts.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Zo("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ns{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ms(this.L.delete())}}class As extends Ko{constructor(e,t){super(Go.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Ds(e){return"IndexedDbTransactionError"===e.name}class Os{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Zo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ms(n)}add(e){return Zo("SimpleDb","ADD",this.store.name,e,e),Ms(this.store.add(e))}get(e){return Ms(this.store.get(e)).next((t=>(void 0===t&&(t=null),Zo("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Zo("SimpleDb","DELETE",this.store.name,e),Ms(this.store.delete(e))}count(){return Zo("SimpleDb","COUNT",this.store.name),Ms(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Ts(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ts(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){Zo("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Ts(((n,r)=>{t.onerror=e=>{const t=Fs(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Ts(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Ns(i),s=t(i.primaryKey,i.value,o);if(s instanceof Ts){const e=s.catch((e=>(o.done(),Ts.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Ts.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ms(e){return new Ts(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Fs(e.target.error);n(t)}}))}let Ls=!1;function Fs(e){const t=Ps.S(S());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ko("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ls||(Ls=!0,setTimeout((()=>{throw e}),0)),e}}return e}class zs{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){Zo("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Zo("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){Ds(e)?Zo("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Is(e)}await this.et(6e4)}))}}class js{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Ts.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Zo("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(Zo("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=xs(t);ks(r,n)>0&&(n=r)})),new Ss(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Zs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Us(e){return null==e}function Bs(e){return 0===e&&1/e==-1/0}function Vs(e){return"number"==typeof e&&Number.isInteger(e)&&!Bs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function qs(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Hs(t)),t=Ws(e.get(n),t);return Hs(t)}function Ws(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Hs(e){return e+"\x01\x01"}function Gs(e){const t=e.length;if(Wo(t>=2),2===t)return Wo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hs.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&qo(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:qo()}o=t+2}return new hs(r)}Zs.ct=-1;const Ks=["userId","batchId"];function Qs(e,t){return[e,qs(t)]}function $s(e,t,n){return[e,qs(t),n]}const Ys={},Xs=["prefixPath","collectionGroup","readTime","documentId"],Js=["prefixPath","collectionGroup","documentId"],ea=["collectionGroup","readTime","prefixPath","documentId"],ta=["canonicalId","targetId"],na=["targetId","path"],ra=["path","targetId"],ia=["collectionId","parent"],oa=["indexId","uid"],sa=["uid","sequenceNumber"],aa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],la=["indexId","uid","orderedDocumentKey"],ca=["userId","collectionPath","documentId"],ua=["userId","collectionPath","largestBatchId"],da=["userId","collectionGroup","largestBatchId"],ha=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fa=[...ha,"documentOverlays"],pa=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ma=pa,ga=[...ma,"indexConfiguration","indexState","indexEntries"];class va extends Cs{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ya(e,t){const n=Ho(e);return Ps.M(n.ht,t)}function ba(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _a(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xa{constructor(e,t){this.comparator=e,this.root=t||ka.EMPTY}insert(e,t){return new xa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ka.BLACK,null,null))}remove(e){return new xa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ka.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sa(this.root,e,this.comparator,!0)}}class Sa{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ka{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ka.RED,this.left=null!=r?r:ka.EMPTY,this.right=null!=i?i:ka.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ka(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ka.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ka.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ka.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ka.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qo();if(this.right.isRed())throw qo();const e=this.left.check();if(e!==this.right.check())throw qo();return e+(this.isRed()?0:1)}}ka.EMPTY=null,ka.RED=!0,ka.BLACK=!1,ka.EMPTY=new class{constructor(){this.size=0}get key(){throw qo()}get value(){throw qo()}get color(){throw qo()}get left(){throw qo()}get right(){throw qo()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ka(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ea{constructor(e){this.comparator=e,this.data=new xa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ca(this.data.getIterator())}getIteratorFrom(e){return new Ca(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ea))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ea(this.comparator);return t.data=e,t}}class Ca{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ia(e){return e.hasNext()?e.getNext():void 0}class Ta{constructor(e){this.fields=e,e.sort(ps.comparator)}static empty(){return new Ta([])}unionWith(e){let t=new Ea(ps.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ta(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return as(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ra extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ra("Invalid base64 string: "+e):e}}(e);return new Pa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Pa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ss(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pa.EMPTY_BYTE_STRING=new Pa("");const Na=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(e){if(Wo(!!e),"string"==typeof e){let t=0;const n=Na.exec(e);if(Wo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Da(e.seconds),nanos:Da(e.nanos)}}function Da(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Oa(e){return"string"==typeof e?Pa.fromBase64String(e):Pa.fromUint8Array(e)}function Ma(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function La(e){const t=e.mapValue.fields.__previous_value__;return Ma(t)?La(t):t}function Fa(e){const t=Aa(e.mapValue.fields.__local_write_time__.timestampValue);return new cs(t.seconds,t.nanos)}class za{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ua={nullValue:"NULL_VALUE"};function Ba(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ma(e)?4:nl(e)?9007199254740991:10:qo()}function Va(e,t){if(e===t)return!0;const n=Ba(e);if(n!==Ba(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fa(e).isEqual(Fa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Aa(e.timestampValue),r=Aa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Oa(e.bytesValue).isEqual(Oa(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Da(e.geoPointValue.latitude)===Da(t.geoPointValue.latitude)&&Da(e.geoPointValue.longitude)===Da(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Da(e.integerValue)===Da(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Da(e.doubleValue),r=Da(t.doubleValue);return n===r?Bs(n)===Bs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return as(e.arrayValue.values||[],t.arrayValue.values||[],Va);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ba(n)!==ba(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Va(n[i],r[i])))return!1;return!0}(e,t);default:return qo()}}function qa(e,t){return void 0!==(e.values||[]).find((e=>Va(e,t)))}function Wa(e,t){if(e===t)return 0;const n=Ba(e),r=Ba(t);if(n!==r)return ss(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ss(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Da(e.integerValue||e.doubleValue),r=Da(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ha(e.timestampValue,t.timestampValue);case 4:return Ha(Fa(e),Fa(t));case 5:return ss(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Oa(e),r=Oa(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ss(n[i],r[i]);if(0!==e)return e}return ss(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ss(Da(e.latitude),Da(t.latitude));return 0!==n?n:ss(Da(e.longitude),Da(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wa(n[i],r[i]);if(e)return e}return ss(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Za.mapValue&&t===Za.mapValue)return 0;if(e===Za.mapValue)return 1;if(t===Za.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=ss(r[s],o[s]);if(0!==e)return e;const t=Wa(n[r[s]],i[o[s]]);if(0!==t)return t}return ss(r.length,o.length)}(e.mapValue,t.mapValue);default:throw qo()}}function Ha(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ss(e,t);const n=Aa(e),r=Aa(t),i=ss(n.seconds,r.seconds);return 0!==i?i:ss(n.nanos,r.nanos)}function Ga(e){return Ka(e)}function Ka(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Aa(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Oa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ms.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ka(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ka(e.fields[i]));return n+"}"}(e.mapValue):qo();var t,n}function Qa(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $a(e){return!!e&&"integerValue"in e}function Ya(e){return!!e&&"arrayValue"in e}function Xa(e){return!!e&&"nullValue"in e}function Ja(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function el(e){return!!e&&"mapValue"in e}function tl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wa(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=tl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rl(e){return"nullValue"in e?Ua:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Qa(ja.empty(),ms.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:qo()}function il(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Qa(ja.empty(),ms.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Za:qo()}function ol(e,t){const n=Wa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function sl(e,t){const n=Wa(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class al{constructor(e){this.value=e}static empty(){return new al({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!el(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=ps.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());el(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];el(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wa(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new al(tl(this.value))}}function ll(e){const t=[];return wa(e.fields,((e,n)=>{const r=new ps([e]);if(el(n)){const e=ll(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ta(t)}class cl{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new cl(e,0,us.min(),us.min(),us.min(),al.empty(),0)}static newFoundDocument(e,t,n,r){return new cl(e,1,t,us.min(),n,r,0)}static newNoDocument(e,t){return new cl(e,2,t,us.min(),us.min(),al.empty(),0)}static newUnknownDocument(e,t){return new cl(e,3,t,us.min(),us.min(),al.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(us.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=al.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=al.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=us.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ul{constructor(e,t){this.position=e,this.inclusive=t}}function dl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ms.comparator(ms.fromName(s.referenceValue),n.key):Wa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function hl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Va(e.position[n],t.position[n]))return!1;return!0}class fl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ml{}class gl extends ml{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cl(e,t,n):"array-contains"===t?new Pl(e,n):"in"===t?new Nl(e,n):"not-in"===t?new Al(e,n):"array-contains-any"===t?new Dl(e,n):new gl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Il(e,n):new Tl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wa(t,this.value)):null!==t&&Ba(this.value)===Ba(t)&&this.matchesComparison(Wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qo()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vl extends ml{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vl(e,t)}matches(e){return yl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function yl(e){return"and"===e.op}function bl(e){return"or"===e.op}function wl(e){return _l(e)&&yl(e)}function _l(e){for(const t of e.filters)if(t instanceof vl)return!1;return!0}function xl(e){if(e instanceof gl)return e.field.canonicalString()+e.op.toString()+Ga(e.value);if(wl(e))return e.filters.map((e=>xl(e))).join(",");{const t=e.filters.map((e=>xl(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Sl(e,t){return e instanceof gl?function(e,t){return t instanceof gl&&e.op===t.op&&e.field.isEqual(t.field)&&Va(e.value,t.value)}(e,t):e instanceof vl?function(e,t){return t instanceof vl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Sl(n,t.filters[r])),!0)}(e,t):void qo()}function kl(e,t){const n=e.filters.concat(t);return vl.create(n,e.op)}function El(e){return e instanceof gl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ga(e.value))}(e):e instanceof vl?function(e){return e.op.toString()+" {"+e.getFilters().map(El).join(" ,")+"}"}(e):"Filter"}class Cl extends gl{constructor(e,t,n){super(e,t,n),this.key=ms.fromName(n.referenceValue)}matches(e){const t=ms.comparator(e.key,this.key);return this.matchesComparison(t)}}class Il extends gl{constructor(e,t){super(e,"in",t),this.keys=Rl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Tl extends gl{constructor(e,t){super(e,"not-in",t),this.keys=Rl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ms.fromName(e.referenceValue)))}class Pl extends gl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ya(t)&&qa(t.arrayValue,this.value)}}class Nl extends gl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qa(this.value.arrayValue,t)}}class Al extends gl{constructor(e,t){super(e,"not-in",t)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qa(this.value.arrayValue,t)}}class Dl extends gl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ya(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qa(this.value.arrayValue,e)))}}class Ol{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function Ml(e){return new Ol(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ll(e){const t=Ho(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>xl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Us(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ga(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ga(e))).join(",")),t.dt=e}return t.dt}function Fl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Sl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hl(e.startAt,t.startAt)&&hl(e.endAt,t.endAt)}function zl(e){return ms.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jl(e,t){return e.filters.filter((e=>e instanceof gl&&e.field.isEqual(t)))}function Zl(e,t,n){let r=Ua,i=!0;for(const o of jl(e,t)){let e=Ua,t=!0;switch(o.op){case"<":case"<=":e=rl(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Ua}ol({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ol({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ul(e,t,n){let r=Za,i=!0;for(const o of jl(e,t)){let e=Za,t=!0;switch(o.op){case">=":case">":e=il(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Za}sl({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];sl({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Vl(e,t,n,r,i,o,s,a){return new Bl(e,t,n,r,i,o,s,a)}function ql(e){return new Bl(e)}function Wl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gl(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Kl(e){return null!==e.collectionGroup}function Ql(e){const t=Ho(e);if(null===t.wt){t.wt=[];const e=Gl(t),n=Hl(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new fl(e)),t.wt.push(new fl(ps.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new fl(ps.keyField(),e))}}}return t.wt}function $l(e){const t=Ho(e);if(!t._t)if("F"===t.limitType)t._t=Ml(t.path,t.collectionGroup,Ql(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ql(t)){const t="desc"===i.dir?"asc":"desc";e.push(new fl(i.field,t))}const n=t.endAt?new ul(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ul(t.startAt.position,t.startAt.inclusive):null;t._t=Ml(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Yl(e,t){t.getFirstInequalityField(),Gl(e);const n=e.filters.concat([t]);return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xl(e,t,n){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jl(e,t){return Fl($l(e),$l(t))&&e.limitType===t.limitType}function ec(e){return"".concat(Ll($l(e)),"|lt:").concat(e.limitType)}function tc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>El(e))).join(", "),"]")),Us(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ga(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ga(e))).join(",")),"Target(".concat(t,")")}($l(e)),"; limitType=").concat(e.limitType,")")}function nc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ms.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ql(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=dl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ql(e),t))&&!(e.endAt&&!function(e,t,n){const r=dl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ql(e),t))}(e,t)}function rc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ic(e){return(t,n)=>{let r=!1;for(const i of Ql(e)){const e=oc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function oc(e,t,n){const r=e.field.isKeyField()?ms.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wa(r,i):qo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qo()}}class sc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return _a(this.inner)}size(){return this.innerSize}}const ac=new xa(ms.comparator);function lc(){return ac}const cc=new xa(ms.comparator);function uc(){let e=cc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function dc(e){let t=cc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function hc(){return pc()}function fc(){return pc()}function pc(){return new sc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const mc=new xa(ms.comparator),gc=new Ea(ms.comparator);function vc(){let e=gc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const yc=new Ea(ss);function bc(){return yc}function wc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bs(t)?"-0":t}}function _c(e){return{integerValue:""+e}}function xc(e,t){return Vs(t)?_c(t):wc(e,t)}class Sc{constructor(){this._=void 0}}function kc(e,t,n){return e instanceof Ic?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ma(t)&&(t=La(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tc?Rc(e,t):e instanceof Pc?Nc(e,t):function(e,t){const n=Cc(e,t),r=Dc(n)+Dc(e.gt);return $a(n)&&$a(e.gt)?_c(r):wc(e.serializer,r)}(e,t)}function Ec(e,t,n){return e instanceof Tc?Rc(e,t):e instanceof Pc?Nc(e,t):n}function Cc(e,t){return e instanceof Ac?$a(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ic extends Sc{}class Tc extends Sc{constructor(e){super(),this.elements=e}}function Rc(e,t){const n=Oc(t);for(const r of e.elements)n.some((e=>Va(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Pc extends Sc{constructor(e){super(),this.elements=e}}function Nc(e,t){let n=Oc(t);for(const r of e.elements)n=n.filter((e=>!Va(e,r)));return{arrayValue:{values:n}}}class Ac extends Sc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Dc(e){return Da(e.integerValue||e.doubleValue)}function Oc(e){return Ya(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Mc{constructor(e,t){this.field=e,this.transform=t}}class Lc{constructor(e,t){this.version=e,this.transformResults=t}}class Fc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fc}static exists(e){return new Fc(void 0,e)}static updateTime(e){return new Fc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jc{}function Zc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $c(e.key,Fc.none()):new Wc(e.key,e.data,Fc.none());{const n=e.data,r=al.empty();let i=new Ea(ps.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Hc(e.key,r,new Ta(i.toArray()),Fc.none())}}function Uc(e,t,n){e instanceof Wc?function(e,t,n){const r=e.value.clone(),i=Kc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hc?function(e,t,n){if(!zc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Kc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bc(e,t,n,r){return e instanceof Wc?function(e,t,n,r){if(!zc(e.precondition,t))return n;const i=e.value.clone(),o=Qc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Hc?function(e,t,n,r){if(!zc(e.precondition,t))return n;const i=Qc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Gc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return zc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Cc(r.transform,e||null);null!=i&&(null===n&&(n=al.empty()),n.set(r.field,i))}return n||null}function qc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&as(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tc&&t instanceof Tc||e instanceof Pc&&t instanceof Pc?as(e.elements,t.elements,Va):e instanceof Ac&&t instanceof Ac?Va(e.gt,t.gt):e instanceof Ic&&t instanceof Ic}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wc extends jc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hc extends jc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Gc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Kc(e,t,n){const r=new Map;Wo(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ec(s,a,n[i]))}return r}function Qc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,kc(e,o,t))}return r}class $c extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yc extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Zc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(us.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vc())}isEqual(e){return this.batchId===e.batchId&&as(this.mutations,e.mutations,((e,t)=>qc(e,t)))&&as(this.baseMutations,e.baseMutations,((e,t)=>qc(e,t)))}}class Jc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wo(e.mutations.length===n.length);let r=mc;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Jc(e,t,n,r)}}class eu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class tu{constructor(e,t){this.count=e,this.unchangedNames=t}}var nu,ru;function iu(e){switch(e){default:return qo();case Go.CANCELLED:case Go.UNKNOWN:case Go.DEADLINE_EXCEEDED:case Go.RESOURCE_EXHAUSTED:case Go.INTERNAL:case Go.UNAVAILABLE:case Go.UNAUTHENTICATED:return!1;case Go.INVALID_ARGUMENT:case Go.NOT_FOUND:case Go.ALREADY_EXISTS:case Go.PERMISSION_DENIED:case Go.FAILED_PRECONDITION:case Go.ABORTED:case Go.OUT_OF_RANGE:case Go.UNIMPLEMENTED:case Go.DATA_LOSS:return!0}}function ou(e){if(void 0===e)return Uo("GRPC error has no .code"),Go.UNKNOWN;switch(e){case nu.OK:return Go.OK;case nu.CANCELLED:return Go.CANCELLED;case nu.UNKNOWN:return Go.UNKNOWN;case nu.DEADLINE_EXCEEDED:return Go.DEADLINE_EXCEEDED;case nu.RESOURCE_EXHAUSTED:return Go.RESOURCE_EXHAUSTED;case nu.INTERNAL:return Go.INTERNAL;case nu.UNAVAILABLE:return Go.UNAVAILABLE;case nu.UNAUTHENTICATED:return Go.UNAUTHENTICATED;case nu.INVALID_ARGUMENT:return Go.INVALID_ARGUMENT;case nu.NOT_FOUND:return Go.NOT_FOUND;case nu.ALREADY_EXISTS:return Go.ALREADY_EXISTS;case nu.PERMISSION_DENIED:return Go.PERMISSION_DENIED;case nu.FAILED_PRECONDITION:return Go.FAILED_PRECONDITION;case nu.ABORTED:return Go.ABORTED;case nu.OUT_OF_RANGE:return Go.OUT_OF_RANGE;case nu.UNIMPLEMENTED:return Go.UNIMPLEMENTED;case nu.DATA_LOSS:return Go.DATA_LOSS;default:return qo()}}(ru=nu||(nu={}))[ru.OK=0]="OK",ru[ru.CANCELLED=1]="CANCELLED",ru[ru.UNKNOWN=2]="UNKNOWN",ru[ru.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ru[ru.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ru[ru.NOT_FOUND=5]="NOT_FOUND",ru[ru.ALREADY_EXISTS=6]="ALREADY_EXISTS",ru[ru.PERMISSION_DENIED=7]="PERMISSION_DENIED",ru[ru.UNAUTHENTICATED=16]="UNAUTHENTICATED",ru[ru.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ru[ru.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ru[ru.ABORTED=10]="ABORTED",ru[ru.OUT_OF_RANGE=11]="OUT_OF_RANGE",ru[ru.UNIMPLEMENTED=12]="UNIMPLEMENTED",ru[ru.INTERNAL=13]="INTERNAL",ru[ru.UNAVAILABLE=14]="UNAVAILABLE",ru[ru.DATA_LOSS=15]="DATA_LOSS";class su{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return au}static getOrCreateInstance(){return null===au&&(au=new su),au}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let au=null;function lu(){return new TextEncoder}const cu=new Oo([4294967295,4294967295],0);function uu(e){const t=lu().encode(e),n=new Do;return n.update(t),new Uint8Array(n.digest())}function du(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,o],0)]}class hu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fu("Invalid padding: ".concat(t));if(n<0)throw new fu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fu("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Oo.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Oo.fromNumber(n)));return 1===r.compare(cu)&&(r=new Oo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=uu(e),[n,r]=du(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new hu(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=uu(e),[n,r]=du(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pu(us.min(),r,new xa(ss),lc(),vc())}}class mu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new mu(n,t,vc(),vc(),vc())}}class gu{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class vu{constructor(e,t){this.targetId=e,this.Vt=t}}class yu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class bu{constructor(){this.St=0,this.Dt=xu(),this.Ct=Pa.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=vc(),t=vc(),n=vc();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qo()}})),new mu(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=xu()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wu{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lc(),this.zt=_u(),this.Wt=new xa(ss)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:qo()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(zl(o))if(0===r){const e=new ms(o.path);this.Yt(n,e,cl.newNoDocument(e,us.min()))}else Wo(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=su.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=Oa(i).toUint8Array()}catch(e){if(e instanceof Ra)return Bo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new hu(a,o,s)}catch(e){return Bo(e instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&zl(i.target)){const t=new ms(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,cl.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=vc();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new pu(e,t,this.Wt,this.jt,n);return this.jt=lc(),this.zt=_u(),this.Wt=new xa(ss),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new bu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ea(ss),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Zo("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bu),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function _u(){return new xa(ms.comparator)}function xu(){return new xa(ms.comparator)}const Su={asc:"ASCENDING",desc:"DESCENDING"},ku={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eu={and:"AND",or:"OR"};class Cu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Iu(e,t){return e.useProto3Json||Us(t)?t:{value:t}}function Tu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ru(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Pu(e,t){return Tu(e,t.toTimestamp())}function Nu(e){return Wo(!!e),us.fromTimestamp(function(e){const t=Aa(e);return new cs(t.seconds,t.nanos)}(e))}function Au(e,t){return function(e){return new hs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Du(e){const t=hs.fromString(e);return Wo(td(t)),t}function Ou(e,t){return Au(e.databaseId,t.path)}function Mu(e,t){const n=Du(t);if(n.get(1)!==e.databaseId.projectId)throw new Ko(Go.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ko(Go.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ms(ju(n))}function Lu(e,t){return Au(e.databaseId,t)}function Fu(e){const t=Du(e);return 4===t.length?hs.emptyPath():ju(t)}function zu(e){return new hs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ju(e){return Wo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Zu(e,t,n){return{name:Ou(e,t),fields:n.value.mapValue.fields}}function Uu(e,t,n){const r=Mu(e,t.name),i=Nu(t.updateTime),o=t.createTime?Nu(t.createTime):us.min(),s=new al({mapValue:{fields:t.fields}}),a=cl.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bu(e,t){let n;if(t instanceof Wc)n={update:Zu(e,t.key,t.value)};else if(t instanceof $c)n={delete:Ou(e,t.key)};else if(t instanceof Hc)n={update:Zu(e,t.key,t.data),updateMask:ed(t.fieldMask)};else{if(!(t instanceof Yc))return qo();n={verify:Ou(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ic)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ac)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw qo()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qo()}(e,t.precondition)),n}function Vu(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Fc.updateTime(Nu(e.updateTime)):void 0!==e.exists?Fc.exists(e.exists):Fc.none()}(t.currentDocument):Fc.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Wo("REQUEST_TIME"===t.setToServerValue),n=new Ic;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Tc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Pc(e)}else"increment"in t?n=new Ac(e,t.increment):qo();const r=ps.fromServerFormat(t.fieldPath);return new Mc(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Mu(e,t.update.name),o=new al({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ta(t.map((e=>ps.fromServerFormat(e))))}(t.updateMask);return new Hc(i,o,e,n,r)}return new Wc(i,o,n,r)}if(t.delete){const r=Mu(e,t.delete);return new $c(r,n)}if(t.verify){const r=Mu(e,t.verify);return new Yc(r,n)}return qo()}function qu(e,t){return{documents:[Lu(e,t.path)]}}function Wu(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Ju(vl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Yu(e.field),direction:Ku(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Iu(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hu(e){let t=Fu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Gu(e);return t instanceof vl&&wl(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new fl(Xu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Us(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ul(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ul(n,t)}(n.endAt)),Vl(t,i,s,o,a,"F",l,c)}function Gu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xu(e.unaryFilter.field);return gl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xu(e.unaryFilter.field);return gl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xu(e.unaryFilter.field);return gl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xu(e.unaryFilter.field);return gl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qo()}}(e):void 0!==e.fieldFilter?function(e){return gl.create(Xu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qo()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vl.create(e.compositeFilter.filters.map((e=>Gu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return qo()}}(e.compositeFilter.op))}(e):qo()}function Ku(e){return Su[e]}function Qu(e){return ku[e]}function $u(e){return Eu[e]}function Yu(e){return{fieldPath:e.canonicalString()}}function Xu(e){return ps.fromServerFormat(e.fieldPath)}function Ju(e){return e instanceof gl?function(e){if("=="===e.op){if(Ja(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NAN"}};if(Xa(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ja(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NOT_NAN"}};if(Xa(e.value))return{unaryFilter:{field:Yu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(e.field),op:Qu(e.op),value:e.value}}}(e):e instanceof vl?function(e){const t=e.getFilters().map((e=>Ju(e)));return 1===t.length?t[0]:{compositeFilter:{op:$u(e.op),filters:t}}}(e):qo()}function ed(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function td(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class nd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:us.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:us.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pa.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new nd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rd{constructor(e){this.fe=e}}function id(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:od(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ou(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tu(e,t.version.toTimestamp()),createTime:Tu(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sd(t.version)};else{if(!t.isUnknownDocument())return qo();r.unknownDocument={path:n.path.toArray(),version:sd(t.version)}}return r}function od(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sd(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ad(e){const t=new cs(e.seconds,e.nanoseconds);return us.fromTimestamp(t)}function ld(e,t){const n=(t.baseMutations||[]).map((t=>Vu(e.fe,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Vu(e.fe,t))),i=cs.fromMillis(t.localWriteTimeMs);return new Xc(t.batchId,i,n,r)}function cd(e){const t=ad(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ad(e.lastLimboFreeSnapshotVersion):us.min();let r;var i;return void 0!==e.query.documents?(Wo(1===(i=e.query).documents.length),r=$l(ql(Fu(i.documents[0])))):r=function(e){return $l(Hu(e))}(e.query),new nd(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Pa.fromBase64String(e.resumeToken))}function ud(e,t){const n=sd(t.snapshotVersion),r=sd(t.lastLimboFreeSnapshotVersion);let i;i=zl(t.target)?qu(e.fe,t.target):Wu(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ll(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dd(e){const t=Hu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xl(t,t.limit,"L"):t}function hd(e,t){return new eu(t.largestBatchId,Vu(e.fe,t.overlayMutation))}function fd(e,t){const n=t.path.lastSegment();return[e,qs(t.path.popLast()),n]}function pd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:sd(r.readTime),documentKey:qs(r.documentKey.path),largestBatchId:r.largestBatchId}}class md{getBundleMetadata(e,t){return gd(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:ad(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return gd(e).put({bundleId:(n=t).id,createTime:sd(Nu(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return vd(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:dd(t.bundledQuery),readTime:ad(t.readTime)};var t}))}saveNamedQuery(e,t){return vd(e).put(function(e){return{name:e.name,readTime:sd(Nu(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function gd(e){return ya(e,"bundles")}function vd(e){return ya(e,"namedQueries")}class yd{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new yd(e,n)}getOverlay(e,t){return bd(e).get(fd(this.userId,t)).next((e=>e?hd(this.serializer,e):null))}getOverlays(e,t){const n=hc();return Ts.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new eu(t,i);r.push(this.we(e,o))})),Ts.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(qs(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(bd(e).J("collectionPathOverlayIndex",r))})),Ts.waitFor(i)}getOverlaysForCollection(e,t,n){const r=hc(),i=qs(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return bd(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=hd(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=hc();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bd(e).X({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=hd(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}we(e,t){return bd(e).put(function(e,t,n){const[r,i,o]=fd(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Bu(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function bd(e){return ya(e,"documentOverlays")}class wd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Da(e.integerValue));else if("doubleValue"in e){const n=Da(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Bs(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?nl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):qo()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),ms.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function _d(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xd(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=_d(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}wd.Ve=new wd;class Sd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=xd(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=xd(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class kd{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ed{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Cd{constructor(){this.je=new Sd,this.ze=new kd(this.je),this.We=new Ed(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Id{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Id(this.indexId,this.documentKey,this.arrayValue,n)}}function Td(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Rd(e.arrayValue,t.arrayValue),0!==n?n:(n=Rd(e.directionalValue,t.directionalValue),0!==n?n:ms.comparator(e.documentKey,t.documentKey)))}function Rd(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Pd{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){Wo(e.collectionGroup===this.collectionId);const t=vs(e);if(void 0!==t&&!this.en(t))return!1;const n=ys(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Nd(e){var t,n;if(Wo(e instanceof gl||e instanceof vl),e instanceof gl){if(e instanceof Nl){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>gl.create(e.field,"==",t))))||[];return vl.create(r,"or")}return e}const r=e.filters.map((e=>Nd(e)));return vl.create(r,e.op)}function Ad(e){if(0===e.getFilters().length)return[];const t=Ld(Nd(e));return Wo(Md(t)),Dd(t)||Od(t)?[t]:t.getFilters()}function Dd(e){return e instanceof gl}function Od(e){return e instanceof vl&&wl(e)}function Md(e){return Dd(e)||Od(e)||function(e){if(e instanceof vl&&bl(e)){for(const t of e.getFilters())if(!Dd(t)&&!Od(t))return!1;return!0}return!1}(e)}function Ld(e){if(Wo(e instanceof gl||e instanceof vl),e instanceof gl)return e;if(1===e.filters.length)return Ld(e.filters[0]);const t=e.filters.map((e=>Ld(e)));let n=vl.create(t,e.op);return n=jd(n),Md(n)?n:(Wo(n instanceof vl),Wo(yl(n)),Wo(n.filters.length>1),n.filters.reduce(((e,t)=>Fd(e,t))))}function Fd(e,t){let n;return Wo(e instanceof gl||e instanceof vl),Wo(t instanceof gl||t instanceof vl),n=e instanceof gl?t instanceof gl?function(e,t){return vl.create([e,t],"and")}(e,t):zd(e,t):t instanceof gl?zd(t,e):function(e,t){if(Wo(e.filters.length>0&&t.filters.length>0),yl(e)&&yl(t))return kl(e,t.getFilters());const n=bl(e)?e:t,r=bl(e)?t:e,i=n.filters.map((e=>Fd(e,r)));return vl.create(i,"or")}(e,t),jd(n)}function zd(e,t){if(yl(t))return kl(t,e.getFilters());{const n=t.filters.map((t=>Fd(e,t)));return vl.create(n,"or")}}function jd(e){if(Wo(e instanceof gl||e instanceof vl),e instanceof gl)return e;const t=e.getFilters();if(1===t.length)return jd(t[0]);if(_l(e))return e;const n=t.map((e=>jd(e))),r=[];return n.forEach((t=>{t instanceof gl?r.push(t):t instanceof vl&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:vl.create(r,e.op)}class Zd{constructor(){this.rn=new Ud}addToCollectionParentIndex(e,t){return this.rn.add(t),Ts.resolve()}getCollectionParents(e,t){return Ts.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ts.resolve()}deleteFieldIndex(e,t){return Ts.resolve()}getDocumentsMatchingTarget(e,t){return Ts.resolve(null)}getIndexType(e,t){return Ts.resolve(0)}getFieldIndexes(e,t){return Ts.resolve([])}getNextCollectionGroupToUpdate(e){return Ts.resolve(null)}getMinOffset(e,t){return Ts.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return Ts.resolve(Ss.min())}updateCollectionGroup(e,t,n){return Ts.resolve()}updateIndexEntries(e,t){return Ts.resolve()}}class Ud{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ea(hs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ea(hs.comparator)).toArray()}}const Bd=new Uint8Array(0);class Vd{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Ud,this.un=new sc((e=>Ll(e)),((e,t)=>Fl(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:qs(r)};return qd(e).put(i)}return Ts.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ls(t),""],!1,!0);return qd(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Gs(r.parent))}return n}))}addFieldIndex(e,t){const n=Hd(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Gd(e);return i.next((e=>{n.put(pd(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Hd(e),r=Gd(e),i=Wd(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Wd(e);let r=!0;const i=new Map;return Ts.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=vc();const r=[];return Ts.forEach(i,((i,o)=>{var s;Zo("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(Ll(t)));const a=function(e,t){const n=vs(t);if(void 0===n)return null;for(const r of jl(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),l=function(e,t){const n=new Map;for(const r of ys(t))for(const t of jl(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of ys(t)){const t=0===i.kind?Zl(e,i.fieldPath,e.startAt):Ul(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ul(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of ys(t)){const t=0===i.kind?Ul(e,i.fieldPath,e.endAt):Zl(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ul(n,r)}(o,i),d=this.hn(i,o,c),h=this.hn(i,o,u),f=this.ln(i,o,l),p=this.fn(i.indexId,a,d,c.inclusive,h,u.inclusive,f);return Ts.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=ms.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Ts.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Ad(vl.create(e.filters,"and")).map((t=>Ml(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):Bd,d=this.wn(e,a,n[u%l],r),h=this._n(e,a,i[u%l],o),f=s.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(d,h,f))}return c}wn(e,t,n,r){const i=new Id(e,ms.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Id(e,ms.empty(),t,n);return r?i.Je():i}an(e,t){const n=new Pd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Ts.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Ea(ps.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new Cd;for(const r of ys(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);wd.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Cd;return wd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Cd;return wd.Ve._e(Qa(this.databaseId,t),n.He(function(e){const t=ys(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Cd);let i=0;for(const o of ys(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&Ya(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);wd.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Cd;n.seed(e.Qe()),wd.Ve._e(o,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof gl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Hd(e),r=Gd(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Ts.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ws(t.sequenceNumber,new Ss(ad(t.readTime),new ms(Gs(t.documentKey)),t.largestBatchId)):ws.empty(),r=e.fields.map((e=>{let[t,n]=e;return new bs(ps.fromServerFormat(t),n)}));return new gs(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ss(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Hd(e),i=Gd(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ts.forEach(t,(t=>i.put(pd(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ts.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Ts.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Ts.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Ts.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return Wd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return Wd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=Wd(e);let i=new Ea(Td);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Id(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Ea(Td);const r=this.mn(t,e);if(null==r)return n;const i=vs(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Ya(o))for(const i of o.arrayValue.values||[])n=n.add(new Id(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Id(t.indexId,e.key,Bd,r));return n}vn(e,t,n,r,i){Zo("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ia(o),l=Ia(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Ia(s)):t?(i(a),a=Ia(o)):(a=Ia(o),l=Ia(s))}}(r,i,Td,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),Ts.waitFor(o)}Tn(e){let t=1;return Gd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Td(e,t))).filter(((e,t,n)=>!t||0!==Td(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Td(o,e),i=Td(o,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(o),r.push(o.Je());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Bd,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Bd,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Td(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kd)}getMinOffset(e,t){return Ts.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||qo())))).next(Kd)}}function qd(e){return ya(e,"collectionParents")}function Wd(e){return ya(e,"indexEntries")}function Hd(e){return ya(e,"indexConfiguration")}function Gd(e){return ya(e,"indexState")}function Kd(e){Wo(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ks(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ss(t.readTime,t.documentKey,n)}const Qd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $d{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $d(e,$d.DEFAULT_COLLECTION_PERCENTILE,$d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yd(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{Wo(1===a)})));const c=[];for(const u of n.mutations){const e=$s(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Ts.waitFor(o).next((()=>c))}function Xd(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qo();t=e.noDocument}return JSON.stringify(t).length}$d.DEFAULT_COLLECTION_PERCENTILE=10,$d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$d.DEFAULT=new $d(41943040,$d.DEFAULT_COLLECTION_PERCENTILE,$d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$d.DISABLED=new $d(-1,0,0);class Jd{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){Wo(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Jd(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return th(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=nh(e),o=th(e);return o.add({}).next((s=>{Wo("number"==typeof s);const a=new Xc(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Bu(e.fe,t))),i=n.mutations.map((t=>Bu(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Ea(((e,t)=>ss(e.canonicalString(),t.canonicalString())));for(const e of r){const t=$s(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Ys))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[s]=a.keys()})),Ts.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return th(e).get(t).next((e=>e?(Wo(e.userId===this.userId),ld(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Ts.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return th(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Wo(t.batchId>=n),i=ld(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return th(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return th(e).j("userMutationsIndex",t).next((e=>e.map((e=>ld(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Qs(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return nh(e).X({range:r},((n,r,o)=>{const[s,a,l]=n,c=Gs(a);if(s===this.userId&&t.path.isEqual(c))return th(e).get(l).next((e=>{if(!e)throw qo();Wo(e.userId===this.userId),i.push(ld(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ea(ss);const r=[];return t.forEach((t=>{const i=Qs(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=nh(e).X({range:o},((e,r,i)=>{const[o,s,a]=e,l=Gs(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Ts.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Qs(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Ea(ss);return nh(e).X({range:o},((e,t,i)=>{const[o,a,l]=e,c=Gs(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(l)):i.done()})).next((()=>this.Dn(e,s)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(th(e).get(t).next((e=>{if(null===e)throw qo();Wo(e.userId===this.userId),n.push(ld(this.serializer,e))})))})),Ts.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Yd(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Ts.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ts.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return nh(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Gs(e[1]);r.push(t)}else n.done()})).next((()=>{Wo(0===r.length)}))}))}containsKey(e,t){return eh(e,this.userId,t)}xn(e){return rh(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function eh(e,t,n){const r=Qs(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return nh(e).X({range:o,Y:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function th(e){return ya(e,"mutations")}function nh(e){return ya(e,"documentMutations")}function rh(e){return ya(e,"mutationQueues")}class ih{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ih(0)}static Mn(){return new ih(-1)}}class oh{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new ih(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>us.fromTimestamp(new cs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>sh(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(Wo(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return sh(e).X(((o,s)=>{const a=cd(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Ts.waitFor(i))).next((()=>r))}forEachTarget(e,t){return sh(e).X(((e,n)=>{const r=cd(n);t(r)}))}$n(e){return ah(e).get("targetGlobalKey").next((e=>(Wo(null!==e),e)))}On(e,t){return ah(e).put("targetGlobalKey",t)}Fn(e,t){return sh(e).put(ud(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ll(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return sh(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=cd(n);Fl(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=lh(e);return t.forEach((t=>{const o=qs(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Ts.waitFor(r)}removeMatchingKeys(e,t,n){const r=lh(e);return Ts.forEach(t,(t=>{const i=qs(t.path);return Ts.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=lh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lh(e);let i=vc();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Gs(e[1]),o=new ms(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=qs(t.path),r=IDBKeyRange.bound([n],[ls(n)],!1,!0);let i=0;return lh(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return sh(e).get(t).next((e=>e?cd(e):null))}}function sh(e){return ya(e,"targets")}function ah(e){return ya(e,"targetGlobal")}function lh(e){return ya(e,"targetDocuments")}function ch(e,t){let[n,r]=e,[i,o]=t;const s=ss(n,i);return 0===s?ss(r,o):s}class uh{constructor(e){this.Ln=e,this.buffer=new Ea(ch),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ch(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){Zo("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ds(e)?Zo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Is(e)}await this.Qn(3e5)}))}}class hh{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ts.resolve(Zs.ct);const n=new uh(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Zo("LruGarbageCollector","Garbage collection skipped; disabled"),Ts.resolve(Qd)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Zo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Qd):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Zo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),jo()<=le.DEBUG&&Zo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ts.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function fh(e,t){return new hh(e,t)}class ph{constructor(e,t){this.db=e,this.garbageCollector=fh(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return mh(e,n)}removeReference(e,t,n){return mh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return mh(e,t)}Xn(e,t){return function(e,t){let n=!1;return rh(e).Z((r=>eh(e,r,t).next((e=>(e&&(n=!0),Ts.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,us.min()),lh(e).delete([0,qs(o.path)]))))}));r.push(t)}})).next((()=>Ts.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return mh(e,t)}Yn(e,t){const n=lh(e);let r,i=Zs.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:l}=n;0===o?(i!==Zs.ct&&t(new ms(Gs(r)),i),i=l,r=a):i=Zs.ct})).next((()=>{i!==Zs.ct&&t(new ms(Gs(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mh(e,t){return lh(e).put(function(e,t){return{targetId:0,path:qs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class gh{constructor(){this.changes=new sc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ts.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return _h(e).put(n)}removeEntry(e,t,n){return _h(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],od(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=cl.newInvalidDocument(t);return _h(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xh(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:cl.newInvalidDocument(t)};return _h(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(xh(t))},((e,r)=>{n={document:this.ts(t,r),size:Xd(r)}})).next((()=>n))}getEntries(e,t){let n=lc();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=lc(),r=new xa(ms.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,Xd(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Ts.resolve();let r=new Ea(kh);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(xh(r.first()),xh(r.last())),o=r.getIterator();let s=o.getNext();return _h(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=ms.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&kh(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.G(xh(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),od(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _h(e).j(IDBKeyRange.bound(o,s,!0)).next((e=>{let n=lc();for(const i of e){const e=this.ts(ms.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(nc(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=lc();const o=Sh(t,n),s=Sh(t,Ss.max());return _h(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.ts(ms.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new bh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return wh(e).get("remoteDocumentGlobalKey").next((e=>(Wo(!!e),e)))}Zn(e,t){return wh(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Uu(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ms.fromSegments(t.noDocument.path),r=ad(t.noDocument.readTime);n=cl.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qo();{const e=ms.fromSegments(t.unknownDocument.path),r=ad(t.unknownDocument.version);n=cl.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new cs(e[0],e[1]);return us.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(us.min()))return e}return cl.newInvalidDocument(e)}}function yh(e){return new vh(e)}class bh extends gh{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new sc((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ea(((e,t)=>ss(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.us.get(i);if(t.push(this.os.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=id(this.os.serializer,o);r=r.add(i.path.popLast());const l=Xd(a);n+=l-s.size,t.push(this.os.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=id(this.os.serializer,o.convertToNoDocument(us.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Ts.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function wh(e){return ya(e,"remoteDocumentGlobal")}function _h(e){return ya(e,"remoteDocumentsV14")}function xh(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Sh(e,t){const n=t.documentKey.path.toArray();return[e,od(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kh(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=ss(n[o],r[o]),i)return i;return i=ss(n.length,r.length),i||(i=ss(n[n.length-2],r[r.length-2]),i||ss(n[n.length-1],r[r.length-1]))}class Eh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ch{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bc(n.mutation,e,Ta.empty(),cs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,vc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vc();const r=hc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=uc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=hc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,vc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=lc();const o=pc(),s=pc();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Hc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Bc(s.mutation,t,s.mutation.getFieldMask(),cs.now())):o.set(t.key,Ta.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Eh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=pc();let r=new xa(((e,t)=>e-t)),i=vc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ta.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||vc()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=fc();l.forEach((e=>{if(!i.has(e)){const r=Zc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ts.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return ms.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Kl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ts.resolve(hc());let s=-1,a=i;return o.next((t=>Ts.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Ts.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,vc()))).next((e=>({batchId:s,changes:dc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ms(t)).next((e=>{let t=uc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=uc();return this.indexManager.getCollectionParents(e,r).next((o=>Ts.forEach(o,(o=>{const s=function(e,t){return new Bl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,cl.newInvalidDocument(r)))}));let n=uc();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Bc(o.mutation,i,Ta.empty(),cs.now()),nc(t,i)&&(n=n.insert(e,i))})),n}))}}class Ih{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ts.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Nu(n.createTime)}),Ts.resolve()}getNamedQuery(e,t){return Ts.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:dd(e.bundledQuery),readTime:Nu(e.readTime)}}(t)),Ts.resolve()}}class Th{constructor(){this.overlays=new xa(ms.comparator),this.ls=new Map}getOverlay(e,t){return Ts.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hc();return Ts.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Ts.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Ts.resolve()}getOverlaysForCollection(e,t,n){const r=hc(),i=t.length+1,o=new ms(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ts.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new xa(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=hc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=hc(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Ts.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new eu(t,n));let i=this.ls.get(t);void 0===i&&(i=vc(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Rh{constructor(){this.fs=new Ea(Ph.ds),this.ws=new Ea(Ph._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Ph(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Ph(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new ms(new hs([])),n=new Ph(t,e),r=new Ph(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ms(new hs([])),n=new Ph(t,e),r=new Ph(t,e+1);let i=vc();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ph(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ph{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ms.comparator(e.key,t.key)||ss(e.As,t.As)}static _s(e,t){return ss(e.As,t.As)||ms.comparator(e.key,t.key)}}class Nh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ea(Ph.ds)}checkEmpty(e){return Ts.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Xc(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new Ph(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ts.resolve(o)}lookupMutationBatch(e,t){return Ts.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Ts.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ts.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ts.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ph(t,0),r=new Ph(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Ts.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ea(ss);return t.forEach((e=>{const t=new Ph(e,0),r=new Ph(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Ts.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ms.isDocumentKey(i)||(i=i.child(""));const o=new Ph(new ms(i),0);let s=new Ea(ss);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),Ts.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Wo(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Ts.forEach(t.mutations,(r=>{const i=new Ph(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Ph(t,0),r=this.Rs.firstAfterOrEqual(n);return Ts.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ts.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ah{constructor(e){this.Ds=e,this.docs=new xa(ms.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ts.resolve(n?n.document.mutableCopy():cl.newInvalidDocument(t))}getEntries(e,t){let n=lc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():cl.newInvalidDocument(e))})),Ts.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lc();const o=t.path,s=new ms(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ks(xs(s),n)<=0||(r.has(s.key)||nc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Ts.resolve(i)}getAllFromCollectionGroup(e,t,n,r){qo()}Cs(e,t){return Ts.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Dh(this)}getSize(e){return Ts.resolve(this.size)}}class Dh extends gh{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Ts.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Oh{constructor(e){this.persistence=e,this.xs=new sc((e=>Ll(e)),Fl),this.lastRemoteSnapshotVersion=us.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Rh,this.targetCount=0,this.Ms=ih.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Ts.resolve()}getLastRemoteSnapshotVersion(e){return Ts.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ts.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ts.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ts.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ts.resolve()}updateTargetData(e,t){return this.Fn(t),Ts.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ts.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Ts.waitFor(i).next((()=>r))}getTargetCount(e){return Ts.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Ts.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Ts.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ts.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ts.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Ts.resolve(n)}containsKey(e,t){return Ts.resolve(this.ks.containsKey(t))}}class Mh{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Oh(this),this.indexManager=new Zd,this.remoteDocumentCache=function(e){return new Ah(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new rd(t),this.qs=new Ih(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Th,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Nh(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Zo("MemoryPersistence","Starting transaction:",e);const r=new Lh(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Ts.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Lh extends Cs{constructor(e){super(),this.currentSequenceNumber=e}}class Fh{constructor(e){this.persistence=e,this.Qs=new Rh,this.js=null}static zs(e){return new Fh(e)}get Ws(){if(this.js)return this.js;throw qo()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ts.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ts.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ts.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ts.forEach(this.Ws,(n=>{const r=ms.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,us.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Ts.or([()=>Ts.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class zh{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Rs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ks,{unique:!0}),e.createObjectStore("documentMutations")}(e),jh(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Ts.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),jh(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:us.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ks,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Ts.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ca});t.createIndex("collectionPathOverlayIndex",ua,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",da,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Xs});t.createIndex("documentKeyIndex",Js),t.createIndex("collectionGroupIndex",ea)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:oa}).createIndex("sequenceNumberIndex",sa,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:aa}).createIndex("documentKeyIndex",la,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Xd(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Ts.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Ts.forEach(n,(n=>{Wo(n.userId===t.userId);const r=ld(this.serializer,n);return Yd(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new hs(n),s=function(e){return[0,qs(e)]}(o);r.push(t.get(s).next((n=>n?Ts.resolve():(n=>t.put({targetId:0,path:qs(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Ts.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ia});const n=t.store("collectionParents"),r=new Ud,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:qs(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new hs(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,o]=e;const s=Gs(r);return i(s.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=cd(n),i=ud(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new ms(hs.fromString(s.document.name).popFirst(5)):s.noDocument?ms.fromSegments(s.noDocument.path):s.unknownDocument?ms.fromSegments(s.unknownDocument.path):qo()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Ts.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=yh(this.serializer),i=new Mh(Fh.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:vc();ld(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Ts.forEach(n,((e,n)=>{const o=new Lo(n),s=yd.de(this.serializer,o),a=i.getIndexManager(o),l=Jd.de(o,this.serializer,a,i.referenceDelegate);return new Ch(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new va(t,Zs.ct),e).next()}))}))}}function jh(e){e.createObjectStore("targetDocuments",{keyPath:na}).createIndex("documentTargetsIndex",ra,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ta,{unique:!0}),e.createObjectStore("targetGlobal")}const Zh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uh{constructor(e,t,n,r,i,o,s,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=s,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Uh.D())throw new Ko(Go.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ph(this,r),this.di=t+"main",this.serializer=new rd(a),this.wi=new Ps(this.di,this.ui,new zh(this.serializer)),this.Bs=new oh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yh(this.serializer),this.qs=new md,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&Uo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ko(Go.FAILED_PRECONDITION,Zh);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new Zs(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Vh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Ds(e))return Zo("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Zo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Bh(e).get("owner").next((e=>Ts.resolve(this.Ri(e))))}Pi(e){return Vh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ya(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Ts.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ts.resolve(!0):Bh(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ko(Go.FAILED_PRECONDITION,Zh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vh(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Zo("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new va(e,Zs.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Vh(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return Jd.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vd(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return yd.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){Zo("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?ga:14===o?ma:13===o?pa:12===o?fa:11===o?ha:void qo();var o;let s;return this.wi.runTransaction(e,r,i,(r=>(s=new va(r,this.Os?this.Os.next():Zs.ct),"readwrite-primary"===t?this.Ti(s).next((e=>!!e||this.Ei(s))).next((t=>{if(!t)throw Uo("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Ko(Go.FAILED_PRECONDITION,Es);return n(s)})).next((e=>this.vi(s).next((()=>e)))):this.Oi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Oi(e){return Bh(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ko(Go.FAILED_PRECONDITION,Zh)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bh(e).put("owner",t)}static D(){return Ps.D()}Ai(e){const t=Bh(e);return t.get("owner").next((e=>this.Ri(e)?(Zo("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ts.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Uo("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!E()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Zo("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Uo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Uo("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Bh(e){return ya(e,"owner")}function Vh(e){return ya(e,"clientMetadata")}function qh(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Wh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=vc(),r=vc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wh(e,t.fromCache,n,r)}}class Hh{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Wl(t))return Ts.resolve(null);let n=$l(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Xl(t,null,"F"),n=$l(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=vc(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Xl(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Wl(t)||r.isEqual(us.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(jo()<=le.DEBUG&&Zo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tc(t)),this.Wi(e,o,t,_s(r,-1)))}))}ji(e,t){let n=new Ea(ic(e));return t.forEach(((t,r)=>{nc(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return jo()<=le.DEBUG&&Zo("QueryEngine","Using full collection scan to execute query:",tc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ss.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gh{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new xa(ss),this.Yi=new sc((e=>Ll(e)),Fl),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ch(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Kh(e,t,n,r){return new Gh(e,t,n,r)}async function Qh(e,t){const n=Ho(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=vc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function $h(e){const t=Ho(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Yh(e,t,n){let r=vc(),i=vc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=lc();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(us.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Zo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function Xh(e,t){const n=Ho(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Jh(e,t){const n=Ho(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Ts.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new nd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function ef(e,t,n){const r=Ho(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ds(e))throw e;Zo("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function tf(e,t,n){const r=Ho(e);let i=us.min(),o=vc();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Ho(e),i=r.Yi.get(n);return void 0!==i?Ts.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,$l(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:us.min(),n?o:vc()))).next((e=>(of(r,rc(t),e),{documents:e,ir:o})))))}function nf(e,t){const n=Ho(e),r=Ho(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function rf(e,t){const n=Ho(e),r=n.Xi.get(t)||us.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,_s(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(of(n,t,e),e)))}function of(e,t,n){let r=e.Xi.get(t)||us.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vc();const r=await Jh(e,$l(dd(t.bundledQuery))),i=Ho(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Nu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const s=r.withResumeToken(Pa.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(s.targetId,s),i.Bs.updateTargetData(e,s).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function af(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function lf(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function cf(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class uf{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Ko(r.error.code,r.error.message))),o?new uf(e,t,r.state,i):(Uo("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class df{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ko(n.error.code,n.error.message))),i?new df(e,n.state,r):(Uo("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=bc();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Vs(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new hf(e,i):(Uo("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class ff{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ff(t.clientId,t.onlineState):(Uo("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class pf{constructor(){this.activeTargetIds=bc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mf{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new xa(ss),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=af(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new pf),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(af(this.persistenceKey,n));if(e){const t=hf.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(cf(this.persistenceKey,e));if(n){const r=df.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cf(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Zo("SharedClientState","READ",e,t),t}setItem(e,t){Zo("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Zo("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(Zo("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Uo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=Zs.ct;if(null!=e)try{const n=JSON.parse(e);Wo("number"==typeof n),t=n}catch(e){Uo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Zs.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new uf(this.currentUser,e,t,n),i=lf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=lf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=cf(this.persistenceKey,e),i=new df(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return hf.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uf.ar(new Lo(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return df.ar(r,t)}br(e){return ff.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);Zo("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=bc();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class gf{constructor(){this.Hr=new pf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new pf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vf{Yr(e){}shutdown(){}}class yf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Zo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Zo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bf=null;function wf(){return null===bf?bf=268435456+Math.round(2147483648*Math.random()):bf++,"0x"+bf.toString(16)}const _f={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Sf="WebChannelConnection";class kf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=wf(),s=this.To(e,t);Zo("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>(Zo("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Bo("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=_f[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=wf();return new Promise(((o,s)=>{const a=new Ao;a.setWithCredentials(!0),a.listenOnce(Io.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Co.NO_ERROR:const t=a.getResponseJson();Zo(Sf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Co.TIMEOUT:Zo(Sf,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Ko(Go.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const n=a.getStatus();if(Zo(Sf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Go).indexOf(t)>=0?t:Go.UNKNOWN}(t.status);s(new Ko(e,t.message))}else s(new Ko(Go.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ko(Go.UNAVAILABLE,"Connection failed."));break;default:qo()}}finally{Zo(Sf,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Zo(Sf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=wf(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ko(),s=Eo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Po({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Zo(Sf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const f=new xf({ro:t=>{h?Zo(Sf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Zo(Sf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,No.EventType.OPEN,(()=>{h||Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,No.EventType.CLOSE,(()=>{h||(h=!0,Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,No.EventType.ERROR,(t=>{h||(h=!0,Bo(Sf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Ko(Go.UNAVAILABLE,"The operation could not be completed")))})),p(u,No.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Wo(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=nu[e];if(void 0!==t)return ou(t)}(t),i=s.message;void 0===n&&(n=Go.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.wo(new Ko(n,i)),u.close()}else Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(s,To.STAT_EVENT,(t=>{t.stat===Ro.PROXY?Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ro.NOPROXY&&Zo(Sf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Ef(){return"undefined"!=typeof window?window:null}function Cf(){return"undefined"!=typeof document?document:null}function If(e){return new Cu(e,!0)}class Tf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Zo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rf{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Tf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Go.RESOURCE_EXHAUSTED?(Uo(t.toString()),Uo("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Go.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Ko(Go.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return Zo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(Zo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pf extends Rf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Wo(void 0===t||"string"==typeof t),Pa.fromBase64String(t||"")):(Wo(void 0===t||t instanceof Uint8Array),Pa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Go.UNKNOWN:ou(e.code);return new Ko(t,e.message||"")}(s);n=new yu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mu(e,r.document.name),o=Nu(r.document.updateTime),s=r.document.createTime?Nu(r.document.createTime):us.min(),a=new al({mapValue:{fields:r.document.fields}}),l=cl.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new gu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Mu(e,r.document),o=r.readTime?Nu(r.readTime):us.min(),s=cl.newNoDocument(i,o),a=r.removedTargetIds||[];n=new gu([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Mu(e,r.document),o=r.removedTargetIds||[];n=new gu([],o,i,null)}else{if(!("filter"in t))return qo();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new tu(r,i),s=e.targetId;n=new vu(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return us.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?us.min():t.readTime?Nu(t.readTime):us.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=zu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=zl(r)?{documents:qu(e,r)}:{query:Wu(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ru(e,t.resumeToken);const r=Iu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(us.min())>0){n.readTime=Tu(e,t.snapshotVersion.toTimestamp());const r=Iu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qo()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=zu(this.serializer),t.removeTarget=e,this.Wo(t)}}class Nf extends Rf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Wo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Wo(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Nu(e.updateTime):Nu(t);return n.isEqual(us.min())&&(n=Nu(t)),new Lc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Nu(e.commitTime);return this.listener.cu(n,t)}return Wo(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Bu(this.serializer,e)))};this.Wo(t)}}class Af extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ko(Go.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Go.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ko(Go.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Go.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ko(Go.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Df{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Uo(t),this.mu=!1):Zo("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Of{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Vf(this)&&(Zo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ho(e);t.vu.add(4),await Lf(t),t.bu.set("Unknown"),t.vu.delete(4),await Mf(t)}(this))}))})),this.bu=new Df(n,r)}}async function Mf(e){if(Vf(e))for(const t of e.Ru)await t(!0)}async function Lf(e){for(const t of e.Ru)await t(!1)}function Ff(e,t){const n=Ho(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Bf(n)?Uf(n):ap(n).Ko()&&jf(n,t))}function zf(e,t){const n=Ho(e),r=ap(n);n.Au.delete(t),r.Ko()&&Zf(n,t),0===n.Au.size&&(r.Ko()?r.jo():Vf(n)&&n.bu.set("Unknown"))}function jf(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(us.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ap(e).su(t)}function Zf(e,t){e.Vu.qt(t),ap(e).iu(t)}function Uf(e){e.Vu=new wu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),ap(e).start(),e.bu.gu()}function Bf(e){return Vf(e)&&!ap(e).Uo()&&e.Au.size>0}function Vf(e){return 0===Ho(e).vu.size}function qf(e){e.Vu=void 0}async function Wf(e){e.Au.forEach(((t,n)=>{jf(e,t)}))}async function Hf(e,t){qf(e),Bf(e)?(e.bu.Iu(t),Uf(e)):e.bu.set("Unknown")}async function Gf(e,t,n){if(e.bu.set("Online"),t instanceof yu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Zo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Kf(e,n)}else if(t instanceof gu?e.Vu.Ht(t):t instanceof vu?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(us.min()))try{const t=await $h(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Pa.EMPTY_BYTE_STRING,r.snapshotVersion)),Zf(e,t);const i=new nd(r.target,t,n,r.sequenceNumber);jf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Zo("RemoteStore","Failed to raise snapshot:",t),await Kf(e,t)}}async function Kf(e,t,n){if(!Ds(t))throw t;e.vu.add(1),await Lf(e),e.bu.set("Offline"),n||(n=()=>$h(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Zo("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Mf(e)}))}function Qf(e,t){return t().catch((n=>Kf(e,n,t)))}async function $f(e){const t=Ho(e),n=lp(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Yf(t);)try{const e=await Xh(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Xf(t,e)}catch(e){await Kf(t,e)}Jf(t)&&ep(t)}function Yf(e){return Vf(e)&&e.Eu.length<10}function Xf(e,t){e.Eu.push(t);const n=lp(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Jf(e){return Vf(e)&&!lp(e).Uo()&&e.Eu.length>0}function ep(e){lp(e).start()}async function tp(e){lp(e).hu()}async function np(e){const t=lp(e);for(const n of e.Eu)t.uu(n.mutations)}async function rp(e,t,n){const r=e.Eu.shift(),i=Jc.from(r,t,n);await Qf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await $f(e)}async function ip(e,t){t&&lp(e).ou&&await async function(e,t){if(iu(n=t.code)&&n!==Go.ABORTED){const n=e.Eu.shift();lp(e).Qo(),await Qf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $f(e)}var n}(e,t),Jf(e)&&ep(e)}async function op(e,t){const n=Ho(e);n.asyncQueue.verifyOperationInProgress(),Zo("RemoteStore","RemoteStore received new credentials");const r=Vf(n);n.vu.add(3),await Lf(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Mf(n)}async function sp(e,t){const n=Ho(e);t?(n.vu.delete(2),await Mf(n)):t||(n.vu.add(2),await Lf(n),n.bu.set("Unknown"))}function ap(e){return e.Su||(e.Su=function(e,t,n){const r=Ho(e);return r.fu(),new Pf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Wf.bind(null,e),ao:Hf.bind(null,e),nu:Gf.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Bf(e)?Uf(e):e.bu.set("Unknown")):(await e.Su.stop(),qf(e))}))),e.Su}function lp(e){return e.Du||(e.Du=function(e,t,n){const r=Ho(e);return r.fu(),new Nf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:tp.bind(null,e),ao:ip.bind(null,e),au:np.bind(null,e),cu:rp.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await $f(e)):(await e.Du.stop(),e.Eu.length>0&&(Zo("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class cp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new cp(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ko(Go.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(e,t){if(Uo("AsyncQueue","".concat(t,": ").concat(e)),Ds(e))return new Ko(Go.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class dp{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ms.comparator(t.key,n.key):(e,t)=>ms.comparator(e.key,t.key),this.keyedMap=uc(),this.sortedSet=new xa(this.comparator)}static emptySet(e){return new dp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class hp{constructor(){this.Cu=new xa(ms.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):qo():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class fp{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new fp(e,t,dp.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class pp{constructor(){this.Nu=void 0,this.listeners=[]}}class mp{constructor(){this.queries=new sc((e=>ec(e)),Jl),this.onlineState="Unknown",this.ku=new Set}}async function gp(e,t){const n=Ho(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new pp),i)try{o.Nu=await n.onListen(r)}catch(e){const n=up(e,"Initialization of query '".concat(tc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&wp(n)}async function vp(e,t){const n=Ho(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function yp(e,t){const n=Ho(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&wp(n)}function bp(e,t,n){const r=Ho(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function wp(e){e.ku.forEach((e=>{e.next()}))}class _p{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new fp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=fp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class xp{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Sp{constructor(e){this.serializer=e}rr(e){return Mu(this.serializer,e)}ur(e){return e.metadata.exists?Uu(this.serializer,e.document,!1):cl.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Nu(e)}}class kp{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ep(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=hs.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new Sp(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||vc()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ho(e);let o=vc(),s=lc();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(o=o.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),s=s.insert(e,n)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await Jh(i,function(e){return $l(ql(hs.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Yh(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Bs.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new Sp(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await sf(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function Ep(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Cp{constructor(e){this.key=e}}class Ip{constructor(e){this.key=e}}class Tp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=vc(),this.mutatedKeys=vc(),this.tc=ic(e),this.ec=new dp(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new hp,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=nc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qo()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new fp(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=vc(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new Ip(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new Cp(n))})),t}hc(e){this.Yu=e.ir,this.Zu=vc();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return fp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Rp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pp{constructor(e){this.key=e,this.fc=!1}}class Np{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new sc((e=>ec(e)),Jl),this._c=new Map,this.mc=new Set,this.gc=new xa(ms.comparator),this.yc=new Map,this.Ic=new Rh,this.Tc={},this.Ec=new Map,this.Ac=ih.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Ap(e,t){const n=im(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await Jh(n.localStore,$l(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Dp(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Ff(n.remoteStore,e)}return i}async function Dp(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await tf(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return qp(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await tf(e.localStore,t,!0),s=new Tp(t,o.ir),a=s.sc(o.documents),l=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);qp(e,n,c.cc);const u=new Rp(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Op(e,t){const n=Ho(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Jl(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ef(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),zf(n.remoteStore,r.targetId),Bp(n,r.targetId)})).catch(Is)):(Bp(n,r.targetId),await ef(n.localStore,r.targetId,!0))}async function Mp(e,t){const n=Ho(e);try{const e=await function(e,t){const n=Ho(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Pa.EMPTY_BYTE_STRING,us.min()).withLastLimboFreeSnapshotVersion(us.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Bs.updateTargetData(e,c))}));let a=lc(),l=vc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Yh(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(us.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Ts.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Wo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Wo(r.fc):e.removedDocuments.size>0&&(Wo(r.fc),r.fc=!1))})),await Gp(n,e,t)}catch(e){await Is(e)}}function Lp(e,t,n){const r=Ho(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ho(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&wp(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Fp(e,t,n){const r=Ho(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new xa(ms.comparator);e=e.insert(o,cl.newNoDocument(o,us.min()));const n=vc().add(o),i=new pu(us.min(),new Map,new xa(ss),e,n);await Mp(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Hp(r)}else await ef(r.localStore,t,!1).then((()=>Bp(r,t,n))).catch(Is)}async function zp(e,t){const n=Ho(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ho(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Ts.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Wo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=vc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Up(n,r,null),Zp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gp(n,e)}catch(e){await Is(e)}}async function jp(e,t,n){const r=Ho(e);try{const e=await function(e,t){const n=Ho(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Wo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Up(r,t,n),Zp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gp(r,e)}catch(n){await Is(n)}}function Zp(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Up(e,t,n){const r=Ho(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Bp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Vp(e,t)}))}function Vp(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(zf(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Hp(e))}function qp(e,t,n){for(const r of n)r instanceof Cp?(e.Ic.addReference(r.key,t),Wp(e,r)):r instanceof Ip?(Zo("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Vp(e,r.key)):qo()}function Wp(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Zo("SyncEngine","New document in limbo: "+n),e.mc.add(r),Hp(e))}function Hp(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new ms(hs.fromString(t)),r=e.Ac.next();e.yc.set(r,new Pp(n)),e.gc=e.gc.insert(n,r),Ff(e.remoteStore,new nd($l(ql(n.path)),r,"TargetPurposeLimboResolution",Zs.ct))}}async function Gp(e,t,n){const r=Ho(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Wh.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=Ho(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ts.forEach(t,(t=>Ts.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ts.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ds(e))throw e;Zo("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function Kp(e,t){const n=Ho(e);if(!n.currentUser.isEqual(t)){Zo("SyncEngine","User change. New user:",t.toKey());const e=await Qh(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Ko(Go.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Gp(n,e.er)}}function Qp(e,t){const n=Ho(e),r=n.yc.get(t);if(r&&r.fc)return vc().add(r.key);{let e=vc();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function $p(e,t){const n=Ho(e),r=await tf(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&qp(n,t.targetId,i.cc),i}async function Yp(e,t){const n=Ho(e);return rf(n.localStore,t).then((e=>Gp(n,e)))}async function Xp(e,t,n,r){const i=Ho(e),o=await function(e,t){const n=Ho(e),r=Ho(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ts.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await $f(i.remoteStore):"acknowledged"===n||"rejected"===n?(Up(i,t,r||null),Zp(i,t),function(e,t){Ho(Ho(e).mutationQueue).Cn(t)}(i.localStore,t)):qo(),await Gp(i,o)):Zo("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Jp(e,t,n){const r=Ho(e),i=[],o=[];for(const s of t){let e;const t=r._c.get(s);if(t&&0!==t.length){e=await Jh(r.localStore,$l(t[0]));for(const e of t){const t=r.wc.get(e),n=await $p(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await nf(r.localStore,s);e=await Jh(r.localStore,t),await Dp(r,em(t),s,!1,e.resumeToken)}i.push(e)}return r.dc.nu(o),i}function em(e){return Vl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tm(e){const t=Ho(e);return Ho(Ho(t.localStore).persistence).$i()}async function nm(e,t,n,r){const i=Ho(e);if(i.vc)return void Zo("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await rf(i.localStore,rc(o[0])),r=pu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Pa.EMPTY_BYTE_STRING);await Gp(i,e,r);break}case"rejected":await ef(i.localStore,t,!0),Bp(i,t,r);break;default:qo()}}async function rm(e,t,n){const r=im(e);if(r.vc){for(const e of t){if(r._c.has(e)){Zo("SyncEngine","Adding an already active target "+e);continue}const t=await nf(r.localStore,e),n=await Jh(r.localStore,t);await Dp(r,em(t),n.targetId,!1,n.resumeToken),Ff(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await ef(r.localStore,e,!1).then((()=>{zf(r.remoteStore,e),Bp(r,e)})).catch(Is)}}function im(e){const t=Ho(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Fp.bind(null,t),t.dc.nu=yp.bind(null,t.eventManager),t.dc.Pc=bp.bind(null,t.eventManager),t}function om(e){const t=Ho(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jp.bind(null,t),t}class sm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kh(this.persistence,new Hh,e.initialUser,this.serializer)}createPersistence(e){return new Mh(Fh.zs,this.serializer)}createSharedClientState(e){return new gf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class am extends sm{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await om(this.Vc.syncEngine),await $f(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Kh(this.persistence,new Hh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new dh(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new js(t,this.persistence);return new zs(e.asyncQueue,n)}createPersistence(e){const t=qh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$d.withCacheSize(this.cacheSizeBytes):$d.DEFAULT;return new Uh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ef(),Cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gf}}class lm extends am{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof mf&&(this.sharedClientState.syncEngine={jr:Xp.bind(null,t),zr:nm.bind(null,t),Wr:rm.bind(null,t),$i:tm.bind(null,t),Qr:Yp.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=Ho(e);if(im(n),om(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Jp(n,e.toArray());n.vc=!0,await sp(n.remoteStore,!0);for(const r of t)Ff(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Bp(n,i),ef(n.localStore,i,!0)))),zf(n.remoteStore,i)})),await t,await Jp(n,e),function(e){const t=Ho(e);t.yc.forEach(((e,n)=>{zf(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new xa(ms.comparator)}(n),n.vc=!1,await sp(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Ef();if(!mf.D(t))throw new Ko(Go.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=qh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mf(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class cm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Lp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kp.bind(null,this.syncEngine),await sp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mp}createDatastore(e){const t=If(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new kf(r));var r;return function(e,t,n,r){return new Af(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Lp(this.syncEngine,e,0),o=yf.D()?new yf:new vf,new Of(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Np(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ho(e);Zo("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Lf(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function um(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class dm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Uo("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class hm{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Qo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new xp(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class fm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ko(Go.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ho(e),r=zu(n.serializer)+"/documents",i={documents:t.map((e=>Ou(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Wo(!!t.found),t.found.name,t.found.updateTime;const n=Mu(e,t.found.name),r=Nu(t.found.updateTime),i=t.found.createTime?Nu(t.found.createTime):us.min(),o=new al({mapValue:{fields:t.found.fields}});return cl.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Wo(!!t.missing),Wo(!!t.readTime);const n=Mu(e,t.missing),r=Nu(t.readTime);return cl.newNoDocument(n,r)}(e,t):qo()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Wo(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new $c(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ms.fromPath(t);this.mutations.push(new Yc(n,this.precondition(n)))})),await async function(e,t){const n=Ho(e),r=zu(n.serializer)+"/documents",i={writes:t.map((e=>Bu(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qo();t=us.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ko(Go.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(us.min())?Fc.exists(!1):Fc.updateTime(t):Fc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(us.min()))throw new Ko(Go.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fc.updateTime(t)}return Fc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pm{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new Tf(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new fm(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Us(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!iu(t)}return!1}}class mm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Lo.UNAUTHENTICATED,this.clientId=os.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Zo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Zo("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ko(Go.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=up(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gm(e,t){e.asyncQueue.verifyOperationInProgress(),Zo("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Qh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function vm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bm(e);Zo("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>op(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>op(t.remoteStore,n))),e._onlineComponents=t}function ym(e){return"FirebaseError"===e.name?e.code===Go.FAILED_PRECONDITION||e.code===Go.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function bm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zo("FirestoreClient","Using user provided OfflineComponentProvider");try{await gm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ym(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await gm(e,new sm)}}else Zo("FirestoreClient","Using default OfflineComponentProvider"),await gm(e,new sm);return e._offlineComponents}async function wm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zo("FirestoreClient","Using user provided OnlineComponentProvider"),await vm(e,e._uninitializedComponentsProvider._online)):(Zo("FirestoreClient","Using default OnlineComponentProvider"),await vm(e,new cm))),e._onlineComponents}function _m(e){return bm(e).then((e=>e.persistence))}function xm(e){return bm(e).then((e=>e.localStore))}function Sm(e){return wm(e).then((e=>e.remoteStore))}function km(e){return wm(e).then((e=>e.syncEngine))}function Em(e){return wm(e).then((e=>e.datastore))}async function Cm(e){const t=await wm(e),n=t.eventManager;return n.onListen=Ap.bind(null,t.syncEngine),n.onUnlisten=Op.bind(null,t.syncEngine),n}function Im(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dm({next:o=>{t.enqueueAndForget((()=>vp(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ko(Go.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ko(Go.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new _p(ql(n.path),o,{includeMetadataChanges:!0,Ku:!0});return gp(e,s)}(await Cm(e),e.asyncQueue,t,n,r))),r.promise}function Tm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new dm({next:n=>{t.enqueueAndForget((()=>vp(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ko(Go.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new _p(n,o,{includeMetadataChanges:!0,Ku:!0});return gp(e,s)}(await Cm(e),e.asyncQueue,t,n,r))),r.promise}function Rm(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?lu().encode(e):e,function(e,t){return new hm(e,t)}(function(e,t){if(e instanceof Uint8Array)return um(e,t);if(e instanceof ArrayBuffer)return um(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,If(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ho(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ho(e),r=Nu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ep(r));const i=new kp(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const s=await i.complete();return await Gp(e,s.Ju,void 0),await function(e,t){const n=Ho(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Hu)}catch(e){return Bo("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await km(e),i,r)}))}function Pm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nm=new Map;function Am(e,t,n){if(!n)throw new Ko(Go.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dm(e,t,n,r){if(!0===t&&!0===r)throw new Ko(Go.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Om(e){if(!ms.isDocumentKey(e))throw new Ko(Go.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mm(e){if(ms.isDocumentKey(e))throw new Ko(Go.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":qo()}function Fm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ko(Go.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(e);throw new Ko(Go.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function zm(e,t){if(t<=0)throw new Ko(Go.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class jm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ko(Go.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ko(Go.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ko(Go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ko(Go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ko(Go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Zm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ko(Go.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ko(Go.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yo;switch(e.type){case"firstParty":return new ts(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ko(Go.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nm.get(e);t&&(Zo("ComponentProvider","Removing Datastore"),Nm.delete(e),t.terminate())}(this),Promise.resolve()}}function Um(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Fm(e,Zm))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Lo.MOCK_USER;else{t=x(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ko(Go.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Lo(o)}e._authCredentials=new Xo(new $o(t,n))}}class Bm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bm(this.firestore,e,this._key)}}class Vm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vm(this.firestore,e,this._query)}}class qm extends Vm{constructor(e,t,n){super(e,t,ql(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bm(this.firestore,null,new ms(e))}withConverter(e){return new qm(this.firestore,e,this._path)}}function Wm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=te(e),Am("collection","path",t),e instanceof Zm){const n=hs.fromString(t,...r);return Mm(n),new qm(e,null,n)}{if(!(e instanceof Bm||e instanceof qm))throw new Ko(Go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hs.fromString(t,...r));return Mm(n),new qm(e.firestore,null,n)}}function Hm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=te(e),1===arguments.length&&(t=os.A()),Am("doc","path",t),e instanceof Zm){const n=hs.fromString(t,...r);return Om(n),new Bm(e,null,new ms(n))}{if(!(e instanceof Bm||e instanceof qm))throw new Ko(Go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hs.fromString(t,...r));return Om(n),new Bm(e.firestore,e instanceof qm?e.converter:null,new ms(n))}}function Gm(e,t){return e=te(e),t=te(t),(e instanceof Bm||e instanceof qm)&&(t instanceof Bm||t instanceof qm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Km(e,t){return e=te(e),t=te(t),e instanceof Vm&&t instanceof Vm&&e.firestore===t.firestore&&Jl(e._query,t._query)&&e.converter===t.converter}class Qm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Tf(this,"async_queue_retry"),this.Xc=()=>{const e=Cf();e&&Zo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Cf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Cf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Qo;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Ds(e))throw e;Zo("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Uo("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=cp.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&qo()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function $m(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Ym{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xm extends Zm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Qm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eg(this),this._firestoreClient.terminate()}}function Jm(e){return e._firestoreClient||eg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eg(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new za(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Pm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new mm(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function tg(e,t,n){const r=new Qo;return e.asyncQueue.enqueue((async()=>{try{await gm(e,n),await vm(e,t),r.resolve()}catch(e){const n=e;if(!ym(n))throw n;Bo("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function ng(e){return function(e){const t=new Qo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ho(e);Vf(n.remoteStore)||Zo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ho(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=up(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await km(e),t))),t.promise}(Jm(e=Fm(e,Xm)))}function rg(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _m(e),n=await Sm(e);return t.setNetworkEnabled(!0),function(e){const t=Ho(e);return t.vu.delete(0),Mf(t)}(n)}))}(Jm(e=Fm(e,Xm)))}function ig(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _m(e),n=await Sm(e);return t.setNetworkEnabled(!1),async function(e){const t=Ho(e);t.vu.add(0),await Lf(t),t.bu.set("Offline")}(n)}))}(Jm(e=Fm(e,Xm)))}function og(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ho(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await xm(e),t)))}(Jm(e=Fm(e,Xm)),t).then((t=>t?new Vm(e,null,t.query):null))}function sg(e){if(e._initialized||e._terminated)throw new Ko(Go.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ag{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ag(Pa.fromBase64String(e))}catch(e){throw new Ko(Go.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ag(Pa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ko(Go.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ps(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cg{constructor(e){this._methodName=e}}class ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ko(Go.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ko(Go.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ss(this._lat,e._lat)||ss(this._long,e._long)}}const dg=/^__.*__$/;class hg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wc(e,this.data,t,this.fieldTransforms)}}class fg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qo()}}class mg{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Mg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(pg(this.ca)&&dg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||If(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mg({ca:e,methodName:t,ga:n,path:ps.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vg(e){const t=e._freezeSettings(),n=If(e._databaseId);return new gg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yg(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Ng("Data must be an object, but it was:",s,r);const a=Rg(r,s);let l,c;if(o.merge)l=new Ta(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ag(t,r,n);if(!s.contains(i))throw new Ko(Go.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Lg(e,i)||e.push(i)}l=new Ta(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new hg(new al(a),l,c)}class bg extends cg{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bg}}function wg(e,t,n){return new mg({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _g extends cg{_toFieldTransform(e){return new Mc(e.path,new Ic)}isEqual(e){return e instanceof _g}}class xg extends cg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=wg(this,e,!0),n=this.pa.map((e=>Tg(e,t))),r=new Tc(n);return new Mc(e.path,r)}isEqual(e){return this===e}}class Sg extends cg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=wg(this,e,!0),n=this.pa.map((e=>Tg(e,t))),r=new Pc(n);return new Mc(e.path,r)}isEqual(e){return this===e}}class kg extends cg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Ac(e.serializer,xc(e.serializer,this.Ia));return new Mc(e.path,t)}isEqual(e){return this===e}}function Eg(e,t,n,r){const i=e.ya(1,t,n);Ng("Data must be an object, but it was:",i,r);const o=[],s=al.empty();wa(r,((e,r)=>{const a=Og(t,e,n);r=te(r);const l=i.da(a);if(r instanceof bg)o.push(a);else{const e=Tg(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Ta(o);return new fg(s,a,i.fieldTransforms)}function Cg(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[Ag(t,r,n)],l=[i];if(o.length%2!=0)throw new Ko(Go.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(Ag(t,o[h])),l.push(o[h+1]);const c=[],u=al.empty();for(let h=a.length-1;h>=0;--h)if(!Lg(c,a[h])){const e=a[h];let t=l[h];t=te(t);const n=s.da(e);if(t instanceof bg)c.push(e);else{const r=Tg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ta(c);return new fg(u,d,s.fieldTransforms)}function Ig(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Tg(n,e.ya(r?4:3,t))}function Tg(e,t){if(Pg(e=te(e)))return Ng("Unsupported field value:",t,e),Rg(e,t);if(e instanceof cg)return function(e,t){if(!pg(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Tg(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=te(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=cs.fromDate(e);return{timestampValue:Tu(t.serializer,n)}}if(e instanceof cs){const n=new cs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tu(t.serializer,n)}}if(e instanceof ug)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ag)return{bytesValue:Ru(t.serializer,e._byteString)};if(e instanceof Bm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Au(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Lm(e)))}(e,t)}function Rg(e,t){const n={};return _a(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wa(e,((e,r)=>{const i=Tg(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cs||e instanceof ug||e instanceof ag||e instanceof Bm||e instanceof cg)}function Ng(e,t,n){if(!Pg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Lm(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ag(e,t,n){if((t=te(t))instanceof lg)return t._internalPath;if("string"==typeof t)return Og(e,t);throw Mg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dg=new RegExp("[~\\*/\\[\\]]");function Og(e,t,n){if(t.search(Dg)>=0)throw Mg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new lg(...t.split("."))._internalPath}catch(r){throw Mg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mg(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Ko(Go.INVALID_ARGUMENT,a+e+l)}function Lg(e,t){return e.some((e=>e.isEqual(t)))}class Fg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zg extends Fg{data(){return super.data()}}function jg(e,t){return"string"==typeof t?Og(e,t):t instanceof lg?t._internalPath:t._delegate._internalPath}function Zg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ko(Go.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class Bg extends Ug{}function Vg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Ug&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Hg)).length,n=e.filter((e=>e instanceof qg)).length;if(t>1||t>0&&n>0)throw new Ko(Go.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class qg extends Bg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qg(e,t,n)}_apply(e){const t=this._parse(e);return ev(e._query,t),new Vm(e.firestore,e.converter,Yl(e._query,t))}_parse(e){const t=vg(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ko(Go.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Jg(s,o);const t=[];for(const n of s)t.push(Xg(r,e,n));a={arrayValue:{values:t}}}else a=Xg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jg(s,o),a=Ig(n,"where",s,"in"===o||"not-in"===o);return gl.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Wg(e,t,n){const r=t,i=jg("where",e);return qg._create(i,r,n)}class Hg extends Ug{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:vl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ev(n,i),n=Yl(n,i)}(e._query,t),new Vm(e.firestore,e.converter,Yl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gg extends Bg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new fl(t,n);return function(e,t){if(null===Hl(e)){const n=Gl(e);null!==n&&tv(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Vm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Kg extends Bg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Kg(e,t,n)}_apply(e){return new Vm(e.firestore,e.converter,Xl(e._query,this._limit,this._limitType))}}class Qg extends Bg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Qg(e,t,n)}_apply(e){const t=Yg(e,this.type,this._docOrFields,this._inclusive);return new Vm(e.firestore,e.converter,function(e,t){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class $g extends Bg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new $g(e,t,n)}_apply(e){const t=Yg(e,this.type,this._docOrFields,this._inclusive);return new Vm(e.firestore,e.converter,function(e,t){return new Bl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Yg(e,t,n,r){if(n[0]=te(n[0]),n[0]instanceof Fg)return function(e,t,n,r,i){if(!r)throw new Ko(Go.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Ql(e))if(s.field.isKeyField())o.push(Qa(t,r.key));else{const e=r.data.field(s.field);if(Ma(e))throw new Ko(Go.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new ul(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=vg(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Ko(Go.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Kl(e)&&-1!==o.indexOf("/"))throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(hs.fromString(o));if(!ms.isDocumentKey(n))throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new ms(n);a.push(Qa(t,i))}else{const e=Ig(n,r,o);a.push(e)}}return new ul(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Xg(e,t,n){if("string"==typeof(n=te(n))){if(""===n)throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kl(t)&&-1!==n.indexOf("/"))throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(hs.fromString(n));if(!ms.isDocumentKey(r))throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qa(e,new ms(r))}if(n instanceof Bm)return Qa(e,n._key);throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Lm(n),"."))}function Jg(e,t){if(!Array.isArray(e)||0===e.length)throw new Ko(Go.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ev(e,t){if(t.isInequality()){const n=Gl(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Hl(e);null!==i&&tv(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ko(Go.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ko(Go.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function tv(e,t,n){if(!n.isEqual(t))throw new Ko(Go.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class nv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Da(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qo()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wa(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ug(Da(e.latitude),Da(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=La(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const t=Aa(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=hs.fromString(e);Wo(td(n));const r=new ja(n.get(1),n.get(3)),i=new ms(n.popFirst(5));return r.isEqual(t)||Uo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function rv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class iv extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ag(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bm(this.firestore,null,t)}}class ov{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sv extends Fg{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class av extends sv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ov(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new av(this._firestore,this._userDataWriter,n.key,n,new ov(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ko(Go.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new av(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ov(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new av(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ov(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:cv(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qo()}}function uv(e,t){return e instanceof sv&&t instanceof sv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lv&&t instanceof lv&&e._firestore===t._firestore&&Km(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function dv(e){e=Fm(e,Bm);const t=Fm(e.firestore,Xm);return Im(Jm(t),e._key).then((n=>xv(t,e,n)))}class hv extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ag(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bm(this.firestore,null,t)}}function fv(e){e=Fm(e,Bm);const t=Fm(e.firestore,Xm),n=Jm(t),r=new hv(t);return function(e,t){const n=new Qo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ho(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ko(Go.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=up(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await xm(e),t,n))),n.promise}(n,e._key).then((n=>new sv(t,r,e._key,n,new ov(null!==n&&n.hasLocalMutations,!0),e.converter)))}function pv(e){e=Fm(e,Vm);const t=Fm(e.firestore,Xm),n=Jm(t),r=new hv(t);return Zg(e._query),Tm(n,e._query).then((n=>new lv(t,r,e,n)))}function mv(e){e=Fm(e,Vm);const t=Fm(e.firestore,Xm),n=Jm(t),r=new hv(t);return function(e,t){const n=new Qo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await tf(e,t,!0),i=new Tp(t,r.ir),o=i.sc(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=up(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await xm(e),t,n))),n.promise}(n,e._query).then((n=>new lv(t,r,e,n)))}function gv(e,t,n){e=Fm(e,Bm);const r=Fm(e.firestore,Xm),i=rv(e.converter,t,n);return _v(r,[yg(vg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fc.none())])}function vv(e,t,n){e=Fm(e,Bm);const r=Fm(e.firestore,Xm),i=vg(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=te(t))||t instanceof lg?Cg(i,"updateDoc",e._key,t,n,a):Eg(i,"updateDoc",e._key,t),_v(r,[o.toMutation(e._key,Fc.exists(!0))])}function yv(e,t){const n=Fm(e.firestore,Xm),r=Hm(e),i=rv(e.converter,t);return _v(n,[yg(vg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fc.exists(!1))]).then((()=>r))}function bv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=te(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||$m(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if($m(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Bm)d=Fm(e.firestore,Xm),h=ql(e._key.path),u={next:t=>{n[l]&&n[l](xv(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Fm(e,Vm);d=Fm(t.firestore,Xm),h=t._query;const r=new hv(d);u={next:e=>{n[l]&&n[l](new lv(d,r,t,e))},error:n[l+1],complete:n[l+2]},Zg(e._query)}return function(e,t,n,r){const i=new dm(r),o=new _p(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>gp(await Cm(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>vp(await Cm(e),o)))}}(Jm(d),h,c,u)}function wv(e,t){return function(e,t){const n=new dm(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ho(e).ku.add(t),t.next()}(await Cm(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ho(e).ku.delete(t)}(await Cm(e),n)))}}(Jm(e=Fm(e,Xm)),$m(t)?t:{next:t})}function _v(e,t){return function(e,t){const n=new Qo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=om(e);try{const e=await function(e,t){const n=Ho(e),r=cs.now(),i=t.reduce(((e,t)=>e.add(t.key)),vc());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=lc(),l=vc();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Vc(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Hc(e.key,t,ll(t.value.mapValue),Fc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:dc(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new xa(ss)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Gp(r,e.changes),await $f(r.remoteStore)}catch(e){const t=up(e,"Failed to persist write");n.reject(t)}}(await km(e),t,n))),n.promise}(Jm(e),t)}function xv(e,t,n){const r=n.docs.get(t._key),i=new hv(e);return new sv(e,i,t._key,r,new ov(n.hasPendingWrites,n.fromCache),t.converter)}const Sv={maxAttempts:5};class kv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vg(e)}set(e,t,n){this._verifyNotCommitted();const r=Ev(e,this._firestore),i=rv(r.converter,t,n),o=yg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Fc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Ev(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=te(t))||t instanceof lg?Cg(this._dataReader,"WriteBatch.update",r._key,t,n,s):Eg(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Fc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ev(e,this._firestore);return this._mutations=this._mutations.concat(new $c(t._key,Fc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ko(Go.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ev(e,t){if((e=te(e)).firestore!==t)throw new Ko(Go.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Cv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vg(e)}get(e){const t=Ev(e,this._firestore),n=new iv(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return qo();const r=e[0];if(r.isFoundDocument())return new Fg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Fg(this._firestore,n,t._key,null,t.converter);throw qo()}))}set(e,t,n){const r=Ev(e,this._firestore),i=rv(r.converter,t,n),o=yg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Ev(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=te(t))||t instanceof lg?Cg(this._dataReader,"Transaction.update",r._key,t,n,s):Eg(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Ev(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ev(e,this._firestore),n=new hv(this._firestore);return super.get(e).then((e=>new sv(this._firestore,n,t._key,e._document,new ov(!1,!1),t.converter)))}}function Iv(){return new _g("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fo=e}(Ge),Ue(new ne("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Xm(new Jo(e.getProvider("auth-internal")),new rs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ko(Go.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Xe(Mo,"3.13.0",e),Xe(Mo,"3.13.0","esm2017")}();class Tv{constructor(e,t){this._delegate=e,this.firebase=t,je(e,new ne("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ye(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){je(this._delegate,e)}_addOrOverwriteComponent(e){Ze(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Rv=new A("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Pv=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ke(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(F(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Xe,setLogLevel:et,onLog:Je,apps:null,SDK_VERSION:Ge,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Ue(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Rv.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&g(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!F(n,e=e||Me))throw Rv.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Tv);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){g(n,e)},createSubscribe:G,ErrorFactory:A,deepExtend:g}),n}(),Nv=new fe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Nv.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Nv.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Av=Pv;!function(e){Xe("@firebase/app-compat","0.2.13",e)}();Av.registerVersion("firebase","9.23.0","app-compat");function Dv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ko("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Ov(){if("undefined"===typeof Uint8Array)throw new Ko("unimplemented","Uint8Arrays are not available in this environment.")}function Mv(){if("undefined"==typeof atob)throw new Ko("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lv{constructor(e){this._delegate=e}static fromBase64String(e){return Mv(),new Lv(ag.fromBase64String(e))}static fromUint8Array(e){return Ov(),new Lv(ag.fromUint8Array(e))}toBase64(){return Mv(),this._delegate.toBase64()}toUint8Array(){return Ov(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fv(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class zv{enableIndexedDbPersistence(e,t){return function(e,t){sg(e=Fm(e,Xm));const n=Jm(e);if(n._uninitializedComponentsProvider)throw new Ko(Go.FAILED_PRECONDITION,"SDK cache is already specified.");Bo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new cm;return tg(n,i,new am(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){sg(e=Fm(e,Xm));const t=Jm(e);if(t._uninitializedComponentsProvider)throw new Ko(Go.FAILED_PRECONDITION,"SDK cache is already specified.");Bo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new cm;return tg(t,r,new lm(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ko(Go.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Qo;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ps.D())return Promise.resolve();const t=e+"main";await Ps.delete(t)}(qh(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class jv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Bo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Um(this._delegate,e,t,n)}enableNetwork(){return rg(this._delegate)}disableNetwork(){return ig(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Dm("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return ng(this._delegate)}onSnapshotsInSync(e){return wv(this._delegate,e)}get app(){if(!this._appCompat)throw new Ko("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jv(this,Wm(this._delegate,e))}catch(t){throw Wv(t,"collection()","Firestore.collection()")}}doc(e){try{return new qv(this,Hm(this._delegate,e))}catch(t){throw Wv(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $v(this,function(e,t){if(e=Fm(e,Zm),Am("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ko(Go.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Vm(e,null,function(e){return new Bl(hs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Wv(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Fm(e,Xm);const r=Object.assign(Object.assign({},Sv),n);return function(e){if(e.maxAttempts<1)throw new Ko(Go.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Qo;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Em(e);new pm(e.asyncQueue,i,n,t,r).run()})),r.promise}(Jm(e),(n=>t(new Cv(e,n))),r)}(this._delegate,(t=>e(new Uv(this,t))))}batch(){return Jm(this._delegate),new Bv(new kv(this._delegate,(e=>_v(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Jm(e=Fm(e,Xm)),r=new Ym;return Rm(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return og(this._delegate,e).then((e=>e?new $v(this,e):null))}}class Zv extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lv(new ag(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qv.forKey(t,this.firestore,null)}}class Uv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zv(e)}get(e){const t=ey(e);return this._delegate.get(t).then((e=>new Kv(this._firestore,new sv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=ey(e);return n?(Dv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=ey(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=ey(e);return this._delegate.delete(t),this}}class Bv{constructor(e){this._delegate=e}set(e,t,n){const r=ey(e);return n?(Dv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=ey(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=ey(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new av(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qv(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Vv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Vv(e,new Zv(e),t),r.set(t,i)),i}}Vv.INSTANCES=new WeakMap;class qv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zv(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Ko("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new qv(t,new Bm(t._delegate,n,new ms(e)))}static forKey(e,t,n){return new qv(t,new Bm(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Jv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jv(this.firestore,Wm(this._delegate,e))}catch(t){throw Wv(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=te(e))instanceof Bm&&Gm(this._delegate,e)}set(e,t){t=Dv("DocumentReference.set",t);try{return t?gv(this._delegate,e,t):gv(this._delegate,e)}catch(n){throw Wv(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?vv(this._delegate,e):vv(this._delegate,e,t,...r)}catch(o){throw Wv(o,"updateDoc()","DocumentReference.update()")}}delete(){return _v(Fm((e=this._delegate).firestore,Xm),[new $c(e._key,Fc.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Hv(t),i=Gv(t,(e=>new Kv(this.firestore,new sv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return bv(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?fv(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Fm(e,Bm);const t=Fm(e.firestore,Xm);return Im(Jm(t),e._key,{source:"server"}).then((n=>xv(t,e,n)))}(this._delegate):dv(this._delegate),t.then((e=>new Kv(this.firestore,new sv(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new qv(this.firestore,e?this._delegate.withConverter(Vv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Wv(e,t,n){return e.message=e.message.replace(t,n),e}function Hv(e){for(const t of e)if("object"===typeof t&&!Fv(t))return t;return{}}function Gv(e,t){var n,r;let i;return i=Fv(e[0])?e[0]:Fv(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Kv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qv(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uv(this._delegate,e._delegate)}}class Qv extends Kv{data(e){const t=this._delegate.data(e);return void 0!==t||qo(),t}}class $v{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zv(e)}where(e,t,n){try{return new $v(this.firestore,Vg(this._delegate,Wg(e,t,n)))}catch(r){throw Wv(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $v(this.firestore,Vg(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jg("orderBy",e);return Gg._create(n,t)}(e,t)))}catch(n){throw Wv(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $v(this.firestore,Vg(this._delegate,(zm("limit",t=e),Kg._create("limit",t,"F"))))}catch(n){throw Wv(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new $v(this.firestore,Vg(this._delegate,(zm("limitToLast",t=e),Kg._create("limitToLast",t,"L"))))}catch(n){throw Wv(n,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new $v(this.firestore,Vg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qg._create("startAt",t,!0)}(...arguments)))}catch(e){throw Wv(e,"startAt()","Query.startAt()")}}startAfter(){try{return new $v(this.firestore,Vg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qg._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Wv(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new $v(this.firestore,Vg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $g._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Wv(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new $v(this.firestore,Vg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $g._create("endAt",t,!0)}(...arguments)))}catch(e){throw Wv(e,"endAt()","Query.endAt()")}}isEqual(e){return Km(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?mv(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Fm(e,Vm);const t=Fm(e.firestore,Xm),n=Jm(t),r=new hv(t);return Tm(n,e._query,{source:"server"}).then((n=>new lv(t,r,e,n)))}(this._delegate):pv(this._delegate),t.then((e=>new Xv(this.firestore,new lv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Hv(t),i=Gv(t,(e=>new Xv(this.firestore,new lv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return bv(this._delegate,r,i)}withConverter(e){return new $v(this.firestore,e?this._delegate.withConverter(Vv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Yv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $v(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Qv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Yv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Qv(this._firestore,n))}))}isEqual(e){return uv(this._delegate,e._delegate)}}class Jv extends $v{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qv(this.firestore,e):null}doc(e){try{return new qv(this.firestore,void 0===e?Hm(this._delegate):Hm(this._delegate,e))}catch(t){throw Wv(t,"doc()","CollectionReference.doc()")}}add(e){return yv(this._delegate,e).then((e=>new qv(this.firestore,e)))}isEqual(e){return Gm(this._delegate,e._delegate)}withConverter(e){return new Jv(this.firestore,e?this._delegate.withConverter(Vv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ey(e){return Fm(e,Bm)}class ty{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new lg(...t)}static documentId(){return new ty(ps.keyField().canonicalString())}isEqual(e){return(e=te(e))instanceof lg&&this._delegate._internalPath.isEqual(e._internalPath)}}class ny{constructor(e){this._delegate=e}static serverTimestamp(){const e=Iv();return e._methodName="FieldValue.serverTimestamp",new ny(e)}static delete(){const e=new bg("deleteField");return e._methodName="FieldValue.delete",new ny(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xg("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ny(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sg("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ny(e)}static increment(e){const t=new kg("increment",e);return t._methodName="FieldValue.increment",new ny(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ry={Firestore:jv,GeoPoint:ug,Timestamp:cs,Blob:Lv,Transaction:Uv,WriteBatch:Bv,DocumentReference:qv,DocumentSnapshot:Kv,Query:$v,QueryDocumentSnapshot:Qv,QuerySnapshot:Xv,CollectionReference:Jv,FieldPath:ty,FieldValue:ny,setLogLevel:function(e){var t;t=e,zo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var iy;(function(e,t){e.INTERNAL.registerComponent(new ne("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ry)))})(iy=Av,((e,t)=>new jv(e,t,new zv))),iy.registerVersion("@firebase/firestore-compat","0.3.12");function oy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const sy={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ay="EMAIL_SIGNIN",ly="PASSWORD_RESET",cy="RECOVER_EMAIL",uy="REVERT_SECOND_FACTOR_ADDITION",dy="VERIFY_AND_CHANGE_EMAIL",hy="VERIFY_EMAIL";function fy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const py=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},my=fy,gy=new A("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vy=new fe("@firebase/auth");function yy(e){if(vy.logLevel<=le.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vy.error("Auth (".concat(Ge,"): ").concat(e),...n)}}function by(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Sy(e,...n)}function wy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sy(e,...n)}function _y(e,t,n){const r=Object.assign(Object.assign({},my()),{[t]:n});return new A("auth","Firebase",r).create(t,{appName:e.name})}function xy(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&by(e,"argument-error"),_y(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Sy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return gy.create(e,...n)}function ky(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Sy(t,...r)}}function Ey(e){const t="INTERNAL ASSERTION FAILED: "+e;throw yy(t),new Error(t)}function Cy(e,t){e||Ey(t)}function Iy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ty(){return"http:"===Ry()||"https:"===Ry()}function Ry(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Py{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cy(t>e,"Short delay should be less than long delay!"),this.isMobile=k()||I()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ty()||C()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ny(e,t){Cy(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ay{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ey("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ey("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ey("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Oy=new Py(3e4,6e4);function My(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ly(e,t,n,r){return Fy(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=V(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ay.fetch()(jy(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Fy(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Dy),t);try{const t=new Zy(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uy(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Uy(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Uy(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Uy(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw _y(e,a,s);by(e,a)}}catch(i){if(i instanceof N)throw i;by(e,"network-request-failed",{message:String(i)})}}async function zy(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Ly(e,t,n,r,i);return"mfaPendingCredential"in o&&by(e,"multi-factor-auth-required",{_serverResponse:o}),o}function jy(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ny(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Zy{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(wy(this.auth,"network-request-failed"))),Oy.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uy(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wy(e,t,r);return i.customData._tokenResponse=n,i}function By(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Vy(e){return 1e3*Number(e)}function qy(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return yy("JWT malformed, contained fewer than 3 sections"),null;try{const e=m(n);return e?JSON.parse(e):(yy("Failed to decode base64 JWT payload"),null)}catch(i){return yy("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Wy(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof N&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Hy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Gy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=By(this.lastLoginAt),this.creationTime=By(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ky(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wy(e,async function(e,t){return Ly(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ky(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=oy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gy(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Qy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ky(e.idToken,"internal-error"),ky("undefined"!==typeof e.idToken,"internal-error"),ky("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=qy(e);return ky(t,"internal-error"),ky("undefined"!==typeof t.exp,"internal-error"),ky("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ky(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Fy(e,{},(async()=>{const n=V({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=jy(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ay.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Qy;return n&&(ky("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ky("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ky("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qy,this.toJSON())}_performRefresh(){return Ey("not implemented")}}function $y(e,t){ky("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Yy{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wy(this,this.stsTokenManager.getToken(this.auth,e));return ky(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=te(e),r=await n.getIdToken(t),i=qy(r);ky(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:By(Vy(i.auth_time)),issuedAtTime:By(Vy(i.iat)),expirationTime:By(Vy(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=te(e);await Ky(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ky(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yy(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ky(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ky(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wy(this,async function(e,t){return Ly(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:x}=t;ky(y&&x,e,"internal-error");const S=Qy.fromJSON(this.name,x);ky("string"===typeof y,e,"internal-error"),$y(u,e.name),$y(d,e.name),ky("boolean"===typeof b,e,"internal-error"),ky("boolean"===typeof w,e,"internal-error"),$y(h,e.name),$y(f,e.name),$y(p,e.name),$y(m,e.name),$y(g,e.name),$y(v,e.name);const k=new Yy({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(k.providerData=_.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Qy;r.updateFromServerResponse(t);const i=new Yy({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ky(i),i}}const Xy=new Map;function Jy(e){Cy(e instanceof Function,"Expected a class definition");let t=Xy.get(e);return t?(Cy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Xy.set(e,t),t)}class eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eb.type="NONE";const tb=eb;function nb(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class rb{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=nb(this.userKey,r.apiKey,i),this.fullPersistenceKey=nb("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yy._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new rb(Jy(tb),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Jy(tb);const o=nb(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Yy._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(em){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(em){}}))),new rb(i,e,n)):new rb(i,e,n)}}function ib(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ob(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ub(t))return"Blackberry";if(db(t))return"Webos";if(sb(t))return"Safari";if((t.includes("chrome/")||ab(t))&&!t.includes("edge/"))return"Chrome";if(cb(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ob(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/firefox\//i.test(e)}function sb(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/crios\//i.test(e)}function lb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iemobile/i.test(e)}function cb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/android/i.test(e)}function ub(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/blackberry/i.test(e)}function db(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/webos/i.test(e)}function hb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return hb(e)||cb(e)||db(e)||ub(e)||/windows phone/i.test(e)||lb(e)}function pb(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ib(S());break;case"Worker":t="".concat(ib(S()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ge,"/").concat(r)}async function mb(e,t){return Ly(e,"GET","/v2/recaptchaConfig",My(e,t))}function gb(e){return void 0!==e&&void 0!==e.getResponse}function vb(e){return void 0!==e&&void 0!==e.enterprise}class yb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function bb(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=wy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wb(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class _b{constructor(e){this.type="recaptcha-enterprise",this.auth=Eb(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;vb(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{mb(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new yb(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&vb(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));bb("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function xb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new _b(e);let o;try{o=await i.verify(n)}catch(wS){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class Sb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class kb{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cb(this),this.idTokenSubscription=new Cb(this),this.beforeStateQueue=new Sb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jy(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rb.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ky(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ky(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?te(e):null;return t&&ky(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ky(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Jy(e))}))}async initializeRecaptchaConfig(){const e=await mb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new yb(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new _b(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new A("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jy(e)||this._popupRedirectResolver;ky(t,this,"argument-error"),this.redirectPersistenceManager=await rb.create(this,[Jy(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ky(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ky(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(vy.logLevel<=le.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vy.warn("Auth (".concat(Ge,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Eb(e){return te(e)}class Cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=G((e=>this.observer=e))}get next(){return ky(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ib(e,t,n){const r=Eb(e);ky(r._canInitEmulator,r,"emulator-config-failed"),ky(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Tb(t),{host:s,port:a}=function(e){const t=Tb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Rb(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Rb(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Tb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ey("not implemented")}_getIdTokenResponse(e){return Ey("not implemented")}_linkToIdToken(e,t){return Ey("not implemented")}_getReauthenticationResolver(e){return Ey("not implemented")}}async function Nb(e,t){return Ly(e,"POST","/v1/accounts:resetPassword",My(e,t))}async function Ab(e,t){return Ly(e,"POST","/v1/accounts:update",t)}async function Db(e,t){return zy(e,"POST","/v1/accounts:signInWithPassword",My(e,t))}async function Ob(e,t){return Ly(e,"POST","/v1/accounts:sendOobCode",My(e,t))}async function Mb(e,t){return Ob(e,t)}async function Lb(e,t){return Ob(e,t)}class Fb extends Pb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Fb(e,t,"password")}static _fromEmailAndCode(e,t){return new Fb(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await xb(e,n,"signInWithPassword");return Db(e,t)}return Db(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await xb(e,n,"signInWithPassword");return Db(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return zy(e,"POST","/v1/accounts:signInWithEmailLink",My(e,t))}(e,{email:this._email,oobCode:this._password});default:by(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ab(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return zy(e,"POST","/v1/accounts:signInWithEmailLink",My(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:by(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zb(e,t){return zy(e,"POST","/v1/accounts:signInWithIdp",My(e,t))}class jb extends Pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jb(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):by("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=oy(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new jb(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return zb(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zb(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zb(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=V(t)}return e}}const Zb={USER_NOT_FOUND:"user-not-found"};class Ub extends Pb{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ub({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ub({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zy(e,"POST","/v1/accounts:signInWithPhoneNumber",My(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zy(e,"POST","/v1/accounts:signInWithPhoneNumber",My(e,t));if(n.temporaryProof)throw Uy(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zy(e,"POST","/v1/accounts:signInWithPhoneNumber",My(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Zb)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ub({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Bb{constructor(e){var t,n,r,i,o,s;const a=q(W(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ky(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=q(W(e)).link,n=t?q(W(t)).deep_link_id:null,r=q(W(e)).deep_link_id;return(r?q(W(r)).link:null)||r||n||t||e}(e);try{return new Bb(t)}catch(em){return null}}}class Vb{constructor(){this.providerId=Vb.PROVIDER_ID}static credential(e,t){return Fb._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Bb.parseLink(t);return ky(n,"argument-error"),Fb._fromEmailAndCode(e,n.code,n.tenantId)}}Vb.PROVIDER_ID="password",Vb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wb extends qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hb extends Wb{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ky("providerId"in t&&"signInMethod"in t,"argument-error"),jb._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ky(e.idToken||e.accessToken,"argument-error"),jb._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Hb.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Hb.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new Hb(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(l){return null}}}class Gb extends Wb{constructor(){super("facebook.com")}static credential(e){return jb._fromParams({providerId:Gb.PROVIDER_ID,signInMethod:Gb.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gb.credentialFromTaggedObject(e)}static credentialFromError(e){return Gb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Gb.credential(t.oauthAccessToken)}catch(em){return null}}}Gb.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gb.PROVIDER_ID="facebook.com";class Kb extends Wb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jb._fromParams({providerId:Kb.PROVIDER_ID,signInMethod:Kb.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kb.credentialFromTaggedObject(e)}static credentialFromError(e){return Kb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Kb.credential(n,r)}catch(em){return null}}}Kb.GOOGLE_SIGN_IN_METHOD="google.com",Kb.PROVIDER_ID="google.com";class Qb extends Wb{constructor(){super("github.com")}static credential(e){return jb._fromParams({providerId:Qb.PROVIDER_ID,signInMethod:Qb.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qb.credentialFromTaggedObject(e)}static credentialFromError(e){return Qb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qb.credential(t.oauthAccessToken)}catch(em){return null}}}Qb.GITHUB_SIGN_IN_METHOD="github.com",Qb.PROVIDER_ID="github.com";class $b extends Pb{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return zb(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zb(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zb(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new $b(n,i):null}static _create(e,t){return new $b(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yb extends qb{constructor(e){ky(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Yb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Yb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=$b.fromJSON(e);return ky(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return $b._create(r,n)}catch(i){return null}}}class Xb extends Wb{constructor(){super("twitter.com")}static credential(e,t){return jb._fromParams({providerId:Xb.PROVIDER_ID,signInMethod:Xb.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xb.credentialFromTaggedObject(e)}static credentialFromError(e){return Xb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xb.credential(n,r)}catch(em){return null}}}async function Jb(e,t){return zy(e,"POST","/v1/accounts:signUp",My(e,t))}Xb.TWITTER_SIGN_IN_METHOD="twitter.com",Xb.PROVIDER_ID="twitter.com";class ew{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Yy._fromIdTokenResponse(e,n,r),o=tw(n);return new ew({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=tw(n);return new ew({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function tw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class nw extends N{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,nw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new nw(e,t,n,r)}}function rw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw nw._fromErrorAndOperation(e,n,t,r);throw n}))}function iw(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function ow(e,t){const n=te(e);await aw(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ly(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=iw(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function sw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ew._forOperation(e,"link",r)}async function aw(e,t,n){await Ky(t);const r=!1===e?"provider-already-linked":"no-such-provider";ky(iw(t.providerData).has(n)===e,t.auth,r)}async function lw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Wy(e,rw(r,i,t,e),n);ky(o.idToken,r,"internal-error");const s=qy(o.idToken);ky(s,r,"internal-error");const{sub:a}=s;return ky(e.uid===a,r,"user-mismatch"),ew._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&by(r,"user-mismatch"),o}}async function cw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await rw(e,r,t),o=await ew._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function uw(e,t){return cw(Eb(e),t)}async function dw(e,t){const n=te(e);return await aw(!1,n,t.providerId),sw(n,t)}async function hw(e,t){return lw(te(e),t)}async function fw(e,t){const n=Eb(e),r=await async function(e,t){return zy(e,"POST","/v1/accounts:signInWithCustomToken",My(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ew._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class pw{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?mw._fromServerResponse(e,t):"totpInfo"in t?gw._fromServerResponse(e,t):by(e,"internal-error")}}class mw extends pw{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new mw(t)}}class gw extends pw{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new gw(t)}}function vw(e,t,n){var r;ky((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ky("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ky(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ky(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function yw(e,t){await async function(e,t){return Ly(e,"POST","/v1/accounts:update",My(e,t))}(te(e),{oobCode:t})}async function bw(e,t){const n=te(e),r=await Nb(n,{oobCode:t}),i=r.requestType;switch(ky(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ky(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ky(r.mfaInfo,n,"internal-error");default:ky(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=pw._fromServerResponse(Eb(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function ww(e,t){const n={identifier:t,continueUri:Ty()?Iy():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ly(e,"POST","/v1/accounts:createAuthUri",My(e,t))}(te(e),n);return r||[]}async function _w(e,t){const n=te(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&vw(n.auth,r,t);const{email:i}=await async function(e,t){return Ob(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function xw(e,t,n){const r=te(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&vw(r.auth,i,n);const{email:o}=await async function(e,t){return Ob(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Sw(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=te(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Wy(i,async function(e,t){return Ly(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function kw(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Wy(e,Ab(r,i));await e._updateTokensIfNecessary(o,!0)}class Ew{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Cw extends Ew{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Iw extends Ew{constructor(e,t){super(e,"facebook.com",t)}}class Tw extends Cw{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Rw extends Ew{constructor(e,t){super(e,"google.com",t)}}class Pw extends Cw{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Nw(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=qy(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ew(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Iw(o,i);case"github.com":return new Tw(o,i);case"google.com":return new Rw(o,i);case"twitter.com":return new Pw(o,i,e.screenName||null);case"custom":case"anonymous":return new Ew(o,null);default:return new Ew(o,r,i)}}(n)}class Aw{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Aw("enroll",e,t)}static _fromMfaPendingCredential(e){return new Aw("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Aw._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Aw._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Dw{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Eb(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>pw._fromServerResponse(n,e)));ky(r.mfaPendingCredential,n,"internal-error");const o=Aw._fromMfaPendingCredential(r.mfaPendingCredential);return new Dw(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ew._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ky(t.user,n,"internal-error"),ew._forOperation(t.user,t.operationType,s);default:by(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ow{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>pw._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ow(e)}async getSession(){return Aw._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Wy(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Wy(this.user,function(e,t){return Ly(e,"POST","/v2/accounts/mfaEnrollment:withdraw",My(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Mw=new WeakMap;const Lw="__sak";class Fw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lw,"1"),this.storage.removeItem(Lw),Promise.resolve(!0)):Promise.resolve(!1)}catch(em){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class zw extends Fw{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=S();return sb(e)||hb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);T()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zw.type="LOCAL";const jw=zw;class Zw extends Fw{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zw.type="SESSION";const Uw=Zw;class Bw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Bw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bw.receivers=[];class qw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Vw("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ww(){return window}function Hw(){return"undefined"!==typeof Ww().WorkerGlobalScope&&"function"===typeof Ww().importScripts}const Gw="firebaseLocalStorageDb",Kw="firebaseLocalStorage",Qw="fbase_key";class $w{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Yw(e,t){return e.transaction([Kw],t?"readwrite":"readonly").objectStore(Kw)}function Xw(){const e=indexedDB.open(Gw,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Kw,{keyPath:Qw})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Kw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Gw);return new $w(e).toPromise()}(),t(await Xw()))}))}))}async function Jw(e,t,n){const r=Yw(e,!0).put({[Qw]:t,value:n});return new $w(r).toPromise()}function e_(e,t){const n=Yw(e,!0).delete(t);return new $w(n).toPromise()}class t_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Xw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bw._getInstance(Hw()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(em){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xw();return await Jw(e,Lw,"1"),await e_(e,Lw),!0}catch(em){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Jw(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Yw(e,!1).get(t),r=await new $w(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>e_(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Yw(e,!1).getAll();return new $w(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}t_.type="LOCAL";const n_=t_;const r_=1e12;class i_{constructor(e){this.auth=e,this.counter=r_,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new o_(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||r_;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||r_;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||r_;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class o_{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ky(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const s_=wb("rcb"),a_=new Py(3e4,6e4);class l_{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ww().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ky(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&gb(Ww().grecaptcha)?Promise.resolve(Ww().grecaptcha):new Promise(((n,r)=>{const i=Ww().setTimeout((()=>{r(wy(e,"network-request-failed"))}),a_.get());Ww()[s_]=()=>{Ww().clearTimeout(i),delete Ww()[s_];const o=Ww().grecaptcha;if(!o||!gb(o))return void r(wy(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};bb("".concat("https://www.google.com/recaptcha/api.js?","?").concat(V({onload:s_,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(wy(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ww().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class c_{async load(e){return new i_(e)}clearedOneInstance(){}}const u_="recaptcha",d_={theme:"light",type:"image"};class h_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},d_),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=u_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Eb(n),this.isInvisible="invisible"===this.parameters.size,ky("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;ky(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new c_:new l_,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ky(!this.parameters.sitekey,this.auth,"argument-error"),ky(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ky("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ww()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ky(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ky(Ty()&&!Hw(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ly(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ky(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ky(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class f_{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ub._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function p_(e,t,n){var r;const i=await n.verify();try{let o;if(ky("string"===typeof i,e,"argument-error"),ky(n.type===u_,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ky("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ly(e,"POST","/v2/accounts/mfaEnrollment:start",My(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ky("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ky(n,e,"missing-multi-factor-info");const s=await function(e,t){return Ly(e,"POST","/v2/accounts/mfaSignIn:start",My(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ly(e,"POST","/v1/accounts:sendVerificationCode",My(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class m_{constructor(e){this.providerId=m_.PROVIDER_ID,this.auth=Eb(e)}verifyPhoneNumber(e,t){return p_(this.auth,e,te(t))}static credential(e,t){return Ub._fromVerification(e,t)}static credentialFromResult(e){const t=e;return m_.credentialFromTaggedObject(t)}static credentialFromError(e){return m_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ub._fromTokenResponse(n,r):null}}function g_(e,t){return t?Jy(t):(ky(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}m_.PROVIDER_ID="phone",m_.PHONE_SIGN_IN_METHOD="phone";class v_ extends Pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zb(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function y_(e){return cw(e.auth,new v_(e),e.bypassAuthState)}function b_(e){const{auth:t,user:n}=e;return ky(n,t,"internal-error"),lw(n,new v_(e),e.bypassAuthState)}async function w_(e){const{auth:t,user:n}=e;return ky(n,t,"internal-error"),sw(n,new v_(e),e.bypassAuthState)}class __{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y_;case"linkViaPopup":case"linkViaRedirect":return w_;case"reauthViaPopup":case"reauthViaRedirect":return b_;default:by(this.auth,"internal-error")}}resolve(e){Cy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x_=new Py(2e3,1e4);class S_ extends __{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,S_.currentPopupAction&&S_.currentPopupAction.cancel(),S_.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ky(e,this.auth,"internal-error"),e}async onExecution(){Cy(1===this.filter.length,"Popup operations only handle one event");const e=Vw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(wy(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(wy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S_.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(wy(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,x_.get())};e()}}S_.currentPopupAction=null;const k_="pendingRedirect",E_=new Map;class C_ extends __{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=E_.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=P_(t),r=R_(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}E_.set(this.auth._key(),e)}return this.bypassAuthState||E_.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function I_(e,t){return R_(e)._set(P_(t),"true")}function T_(e,t){E_.set(e._key(),t)}function R_(e){return Jy(e._redirectPersistence)}function P_(e){return nb(k_,e.config.apiKey,e.name)}function N_(e,t,n){return async function(e,t,n){const r=Eb(e);xy(e,t,qb),await r._initializationPromise;const i=g_(r,n);return await I_(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function A_(e,t,n){return async function(e,t,n){const r=te(e);xy(r.auth,t,qb),await r.auth._initializationPromise;const i=g_(r.auth,n);await I_(i,r.auth);const o=await M_(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function D_(e,t,n){return async function(e,t,n){const r=te(e);xy(r.auth,t,qb),await r.auth._initializationPromise;const i=g_(r.auth,n);await aw(!1,r,t.providerId),await I_(i,r.auth);const o=await M_(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function O_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Eb(e),i=g_(r,t),o=new C_(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function M_(e){const t=Vw("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class L_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!z_(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wy(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function z_(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function j_(e){return Ly(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Z_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U_=/^https?/;function B_(e){const t=Iy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!U_.test(n))return!1;if(Z_.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const V_=new Py(3e4,6e4);function q_(){const e=Ww().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let W_=null;function H_(e){return W_=W_||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{q_(),n(wy(e,"network-request-failed"))},timeout:V_.get()})}if(null===(i=null===(r=Ww().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ww().gapi)||void 0===o?void 0:o.load)){const t=wb("iframefcb");return Ww()[t]=()=>{gapi.load?s():n(wy(e,"network-request-failed"))},bb("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw W_=null,e}))}(e),W_}const G_=new Py(5e3,15e3),K_="__/auth/iframe",Q_="emulator/auth/iframe",$_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X_(e){const t=e.config;ky(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ny(t,Q_):"https://".concat(e.config.authDomain,"/").concat(K_),r={apiKey:t.apiKey,appName:e.name,v:Ge},i=Y_.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(V(r).slice(1))}const J_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function tx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},J_),{width:r.toString(),height:i.toString(),top:o,left:s}),c=S().toLowerCase();n&&(a=ab(c)?"_blank":n),ob(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return hb(arguments.length>0&&void 0!==arguments[0]?arguments[0]:S())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ex(null);const d=window.open(t||"",a,u);ky(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ex(d)}const nx="__/auth/handler",rx="emulator/auth/handler",ix=encodeURIComponent("fac");async function ox(e,t,n,r,i,o){ky(e.config.authDomain,e,"auth-domain-config-required"),ky(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ge,eventId:i};if(t instanceof qb){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",j(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Wb){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ix,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nx);return Ny(t,rx)}(e),"?").concat(V(a).slice(1)).concat(c)}const sx="webStorageSupport";const ax=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uw,this._completeRedirectFn=O_,this._overrideRedirectResult=T_}async _openPopup(e,t,n,r){var i;Cy(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return tx(e,await ox(e,t,n,Iy(),r),Vw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ww().location.href=e}(await ox(e,t,n,Iy(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Cy(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await H_(e),n=Ww().gapi;return ky(n,e,"internal-error"),t.open({where:document.body,url:X_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=wy(e,"network-request-failed"),o=Ww().setTimeout((()=>{r(i)}),G_.get());function s(){Ww().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new L_(e);return t.register("authEvent",(t=>{ky(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sx,{type:sx},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[sx];void 0!==i&&t(!!i),by(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await j_(e);for(const n of t)try{if(B_(n))return}catch(em){}by(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fb()||sb()||hb()}};class lx{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ey("unexpected MultiFactorSessionType")}}}class cx extends lx{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new cx(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ly(e,"POST","/v2/accounts/mfaEnrollment:finalize",My(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ly(e,"POST","/v2/accounts/mfaSignIn:finalize",My(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ux{constructor(){}static assertion(e){return cx._fromCredential(e)}}ux.FACTOR_ID="phone";var dx="@firebase/auth",hx="0.23.2";class fx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ky(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=y())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var px;function mx(){return window}px="Browser",Ue(new ne("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ky(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:px,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(px)},c=new kb(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ue(new ne("auth-internal",(e=>(e=>new fx(e))(Eb(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(dx,hx,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(px)),Xe(dx,hx,"esm2017");async function gx(e,t,n){var r;const{BuildInfo:i}=mx();Cy(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Cy(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return hb()?s.ibi=i.packageName:cb()?s.apn=i.packageName:by(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,ox(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function vx(e){const{cordova:t}=mx();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const yx=20;class bx extends L_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function wx(e){const t=await Sx()._get(kx(e));return t&&await Sx()._remove(kx(e)),t}function _x(e,t){var n,r;const i=function(e){const t=Ex(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ex(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ex(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ex(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?wy(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xx(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<yx;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Sx(){return Jy(jw)}function kx(e){return nb("authEvent",e.config.apiKey,e.name)}function Ex(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return q(n.join("?"))}const Cx=class{constructor(){this._redirectPersistence=Uw,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O_,this._overrideRedirectResult=T_}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new bx(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){by(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,l,c,u;const d=mx();ky("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ky("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ky("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ky("function"===typeof(null===(l=null===(a=null===(s=null===d||void 0===d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ky("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),E_.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:xx(),postBody:null,tenantId:e.tenantId,error:wy(e,"no-auth-event")}}(e,n,r);await function(e,t){return Sx()._set(kx(e),t)}(e,o);const s=await gx(e,o,t);return async function(e,t,n){const{cordova:r}=mx();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(wy(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),cb()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await vx(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=mx(),n={};hb()?n.iosBundleId=t.packageName:cb()?n.androidPackageName=t.packageName:by(e,"operation-not-supported-in-this-environment"),await j_(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=mx(),o=setTimeout((async()=>{await wx(e),t.onEvent(Ix())}),500),s=async n=>{clearTimeout(o);const r=await wx(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=_x(r,n.url)),t.onEvent(i||Ix())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l="".concat(i.packageName.toLowerCase(),"://");mx().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Ix(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wy("no-auth-event")}}function Tx(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Rx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return!("file:"!==Tx()&&"ionic:"!==Tx()&&"capacitor:"!==Tx()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Px(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return T()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S();return/Edge\/\d+/.test(e)}(e)}function Nx(){try{const e=self.localStorage,t=Vw();if(e)return e.setItem(t,"1"),e.removeItem(t),!Px()||P()}catch(e){return Ax()&&P()}return!1}function Ax(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Dx(){return("http:"===Tx()||"https:"===Tx()||C()||Rx())&&!(I()||E())&&Nx()&&!Ax()}function Ox(){return Rx()&&"undefined"!==typeof document}const Mx={LOCAL:"local",NONE:"none",SESSION:"session"},Lx=ky,Fx="persistence";async function zx(e){await e._initializationPromise;const t=jx(),n=nb(Fx,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function jx(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Zx=ky;class Ux{constructor(){this.browserResolver=Jy(ax),this.cordovaResolver=Jy(Cx),this.underlyingResolver=null,this._redirectPersistence=Uw,this._completeRedirectFn=O_,this._overrideRedirectResult=T_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ox()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zx(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ox()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Bx(e){return e.unwrap()}function Vx(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Gx(e,function(e,t){var n;const r=te(e),i=t;return ky(t.customData.operationType,r,"argument-error"),ky(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Dw._fromError(r,i)}(e,t))}else if(r){const e=qx(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function qx(e){const{_tokenResponse:t}=e instanceof N?e.customData:e;if(!t)return null;if(!(e instanceof N)&&"temporaryProof"in t&&"phoneNumber"in t)return m_.credentialFromResult(e);const n=t.providerId;if(!n||n===sy.PASSWORD)return null;let r;switch(n){case sy.GOOGLE:r=Kb;break;case sy.FACEBOOK:r=Gb;break;case sy.GITHUB:r=Qb;break;case sy.TWITTER:r=Xb;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?$b._create(n,s):jb._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Hb(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof N?r.credentialFromError(e):r.credentialFromResult(e)}function Wx(e,t){return t.catch((t=>{throw t instanceof N&&Vx(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,qx(r)),additionalUserInfo:Nw(e),user:Kx.getOrCreate(n)};var r}))}async function Hx(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Wx(e,n.confirm(t))}}class Gx{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wx(Bx(this.auth),this.resolver.resolveSignIn(e))}}class Kx{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=te(e);return Mw.has(t)||Mw.set(t,Ow._fromUser(t)),Mw.get(t)}(e)}static getOrCreate(e){return Kx.USER_MAP.has(e)||Kx.USER_MAP.set(e,new Kx(e)),Kx.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wx(this.auth,dw(this._delegate,e))}async linkWithPhoneNumber(e,t){return Hx(this.auth,async function(e,t,n){const r=te(e);await aw(!1,r,"phone");const i=await p_(r.auth,t,te(n));return new f_(i,(e=>dw(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Wx(this.auth,async function(e,t,n){const r=te(e);xy(r.auth,t,qb);const i=g_(r.auth,n);return new S_(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ux))}async linkWithRedirect(e){return await zx(Eb(this.auth)),D_(this._delegate,e,Ux)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wx(this.auth,hw(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Hx(this.auth,async function(e,t,n){const r=te(e),i=await p_(r.auth,t,te(n));return new f_(i,(e=>hw(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wx(this.auth,async function(e,t,n){const r=te(e);xy(r.auth,t,qb);const i=g_(r.auth,n);return new S_(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ux))}async reauthenticateWithRedirect(e){return await zx(Eb(this.auth)),A_(this._delegate,e,Ux)}sendEmailVerification(e){return _w(this._delegate,e)}async unlink(e){return await ow(this._delegate,e),this}updateEmail(e){return function(e,t){return kw(te(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return kw(te(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await sw(te(e),t)}(this._delegate,e)}updateProfile(e){return Sw(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return xw(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kx.USER_MAP=new WeakMap;const Qx=ky;class $x{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Qx(n,"invalid-api-key",{appName:e.name}),Qx(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Ux:void 0;this._delegate=t.initialize({options:{persistence:Xx(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(py),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ib(this._delegate,e,t)}applyActionCode(e){return yw(this._delegate,e)}checkActionCode(e){return bw(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Nb(te(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wx(this._delegate,async function(e,t,n){var r;const i=Eb(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await xb(i,o,"signUpPassword");s=Jb(i,e)}else s=Jb(i,o).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await xb(i,o,"signUpPassword");return Jb(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await ew._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return ww(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Bb.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Qx(Dx(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Eb(e)._initializationPromise,O_(e,t,!1)}(this._delegate,Ux);return e?Wx(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Eb(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Yx(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Yx(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=Eb(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){ky(t.handleCodeInApp,i,"argument-error"),t&&vw(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await xb(i,o,"getOobCode",!0);s(e,n),await Lb(i,e)}else s(o,n),await Lb(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await xb(i,o,"getOobCode",!0);s(e,n),await Lb(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=Eb(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await xb(i,o,"getOobCode",!0);n&&vw(i,e,n),await Mb(i,e)}else n&&vw(i,o,n),await Mb(i,o).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await xb(i,o,"getOobCode",!0);n&&vw(i,e,n),await Mb(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Lx(Object.values(Mx).includes(t),e,"invalid-persistence-type"),I()?Lx(t!==Mx.SESSION,e,"unsupported-persistence-type"):E()?Lx(t===Mx.NONE,e,"unsupported-persistence-type"):Ax()?Lx(t===Mx.NONE||t===Mx.LOCAL&&P(),e,"unsupported-persistence-type"):Lx(t===Mx.NONE||Nx(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Mx.SESSION:t=Uw;break;case Mx.LOCAL:t=await Jy(n_)._isAvailable()?n_:jw;break;case Mx.NONE:t=tb;break;default:return by("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wx(this._delegate,async function(e){var t;const n=Eb(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ew({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Jb(n,{returnSecureToken:!0}),i=await ew._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Wx(this._delegate,uw(this._delegate,e))}signInWithCustomToken(e){return Wx(this._delegate,fw(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wx(this._delegate,function(e,t,n){return uw(te(e),Vb.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wx(this._delegate,async function(e,t,n){const r=te(e),i=Vb.credentialWithLink(t,n||Iy());return ky(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),uw(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Hx(this._delegate,async function(e,t,n){const r=Eb(e),i=await p_(r,t,te(n));return new f_(i,(e=>uw(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Qx(Dx(),this._delegate,"operation-not-supported-in-this-environment"),Wx(this._delegate,async function(e,t,n){const r=Eb(e);xy(e,t,qb);const i=g_(r,n);return new S_(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Ux))}async signInWithRedirect(e){return Qx(Dx(),this._delegate,"operation-not-supported-in-this-environment"),await zx(this._delegate),N_(this._delegate,e,Ux)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await bw(te(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Yx(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Kx.getOrCreate(e)),error:t,complete:n}}function Xx(e,t){const n=function(e,t){const n=jx();if(!n)return[];const r=nb(Fx,e,t);switch(n.getItem(r)){case Mx.NONE:return[tb];case Mx.LOCAL:return[n_,Uw];case Mx.SESSION:return[Uw];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(n_)||n.push(n_),"undefined"!==typeof window)for(const r of[jw,Uw])n.includes(r)||n.push(r);return n.includes(tb)||n.push(tb),n}$x.Persistence=Mx;class Jx{constructor(){this.providerId="phone",this._delegate=new m_(Bx(Av.auth()))}static credential(e,t){return m_.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Jx.PHONE_SIGN_IN_METHOD=m_.PHONE_SIGN_IN_METHOD,Jx.PROVIDER_ID=m_.PROVIDER_ID;const eS=ky;class tS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Av.app();var r;eS(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new h_(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new ne("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $x(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ay,PASSWORD_RESET:ly,RECOVER_EMAIL:cy,REVERT_SECOND_FACTOR_ADDITION:uy,VERIFY_AND_CHANGE_EMAIL:dy,VERIFY_EMAIL:hy}},EmailAuthProvider:Vb,FacebookAuthProvider:Gb,GithubAuthProvider:Qb,GoogleAuthProvider:Kb,OAuthProvider:Hb,SAMLAuthProvider:Yb,PhoneAuthProvider:Jx,PhoneMultiFactorGenerator:ux,RecaptchaVerifier:tS,TwitterAuthProvider:Xb,Auth:$x,AuthCredential:Pb,Error:N}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(Av);const nS="@firebase/database",rS="0.14.4";let iS="";function oS(e){iS=e}class sS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),M(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:O(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class aS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return F(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const lS=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new sS(t)}}catch(t){}return new aS},cS=lS("localStorage"),uS=lS("sessionStorage"),dS=new fe("@firebase/database"),hS=function(){let e=1;return function(){return e++}}(),fS=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,l(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new H;n.update(t);const r=n.digest();return d.encodeByteArray(r)},pS=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=pS.apply(null,n):e+="object"===typeof n?M(n):n,e+=" "}return e};let mS=null,gS=!0;const vS=function(e,t){l(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(dS.logLevel=le.VERBOSE,mS=dS.log.bind(dS),t&&uS.set("logging_enabled",!0)):"function"===typeof e?mS=e:(mS=null,uS.remove("logging_enabled"))},yS=function(){if(!0===gS&&(gS=!1,null===mS&&!0===uS.get("logging_enabled")&&vS(!0)),mS){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=pS.apply(null,t);mS(r)}},bS=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];yS(e,...n)}},wS=function(){const e="FIREBASE INTERNAL ERROR: "+pS(...arguments);dS.error(e)},_S=function(){const e="FIREBASE FATAL ERROR: ".concat(pS(...arguments));throw dS.error(e),new Error(e)},xS=function(){const e="FIREBASE WARNING: "+pS(...arguments);dS.warn(e)},SS=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},kS="[MIN_NAME]",ES="[MAX_NAME]",CS=function(e,t){if(e===t)return 0;if(e===kS||t===ES)return-1;if(t===kS||e===ES)return 1;{const n=OS(e),r=OS(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},IS=function(e,t){return e===t?0:e<t?-1:1},TS=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+M(t))},RS=function(e){if("object"!==typeof e||null===e)return M(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=M(t[r]),n+=":",n+=RS(e[t[r]]);return n+="}",n},PS=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function NS(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const AS=function(e){l(!SS(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const c=a.join("");let u="";for(s=0;s<64;s+=8){let e=parseInt(c.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const DS=new RegExp("^-?(0*)\\d{1,10}$"),OS=function(e){if(DS.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},MS=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw xS("Exception was thrown by user callback.",e),t}),Math.floor(0))}},LS=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class FS{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){xS('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class zS{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(yS("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xS(e)}}class jS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jS.OWNER="owner";const ZS="5",US=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BS="ac",VS="websocket",qS="long_polling";class WS{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cS.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cS.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function HS(e,t,n){let r;if(l("string"===typeof t,"typeof type must == string"),l("object"===typeof n,"typeof params must == object"),t===VS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==qS)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return NS(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class GS{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;F(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return g(void 0,this.counters_)}}const KS={},QS={};function $S(e){const t=e.toString();return KS[t]||(KS[t]=new GS),KS[t]}class YS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&MS((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const XS="start";class JS{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bS(e),this.stats_=$S(t),this.urlFn=e=>(this.appCheckToken&&(e[BS]=this.appCheckToken),HS(t,qS,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new YS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(R()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new ek((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===XS)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[XS]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=ZS,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[BS]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&US.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){JS.forceAllow_=!0}static forceDisallow(){JS.forceDisallow_=!0}static isAvailable(){return!R()&&(!!JS.forceAllow_||!JS.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=M(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=f(t),r=PS(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(R())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=M(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ek{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,R())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=hS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ek.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){yS("frame writing exception"),i.stack&&yS(i.stack),yS(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yS("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){R()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{yS("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let tk=null;"undefined"!==typeof MozWebSocket?tk=MozWebSocket:"undefined"!==typeof WebSocket&&(tk=WebSocket);class nk{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bS(this.connId),this.stats_=$S(t),this.connURL=nk.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=ZS,!R()&&"undefined"!==typeof location&&location.hostname&&US.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[BS]=r),i&&(o.p=i),HS(e,VS,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cS.set("previous_websocket_failure",!0);try{let e;if(R()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(ZS,"/").concat(iS,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new tk(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){nk.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tk&&!nk.forceDisallow_}static previouslyFailed(){return cS.isInMemoryStorage||!0===cS.get("previous_websocket_failure")}markConnectionHealthy(){cS.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=O(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(l(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=M(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=PS(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nk.responsesRequiredToBeHealthy=2,nk.healthyTimeout=3e4;class rk{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[JS,nk]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=nk&&nk.isAvailable();let n=t&&!nk.previouslyFailed();if(e.webSocketOnly&&(t||xS("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[nk];else{const e=this.transports_=[];for(const t of rk.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);rk.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rk.globalTransportInitialized_=!1;class ik{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bS("c:"+this.id+":"),this.transportManager_=new rk(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=LS((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=TS("t",e),n=TS("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=TS("t",e),n=TS("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=TS("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?wS("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ZS!==n&&xS("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),LS((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):LS((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cS.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ok{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class sk{constructor(e){this.allowedEvents_=e,this.listeners_={},l(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){l(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class ak extends sk{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||k()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new ak}getInitialEvent(e){return l("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const lk=32,ck=768;class uk{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function dk(){return new uk("")}function hk(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fk(e){return e.pieces_.length-e.pieceNum_}function pk(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new uk(e.pieces_,t)}function mk(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function vk(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new uk(t,0)}function yk(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof uk)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new uk(n,0)}function bk(e){return e.pieceNum_>=e.pieces_.length}function wk(e,t){const n=hk(e),r=hk(t);if(null===n)return t;if(n===r)return wk(pk(e),pk(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _k(e,t){const n=gk(e,0),r=gk(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=CS(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function xk(e,t){if(fk(e)!==fk(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Sk(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(fk(e)>fk(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class kk{constructor(e,t){this.errorPrefix_=t,this.parts_=gk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=ee(this.parts_[n]);Ek(this)}}function Ek(e){if(e.byteLength_>ck)throw new Error(e.errorPrefix_+"has a key path longer than "+ck+" bytes ("+e.byteLength_+").");if(e.parts_.length>lk)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lk+") or object contains a cycle "+Ck(e))}function Ck(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ik extends sk{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ik}getInitialEvent(e){return l("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Tk=1e3;class Rk extends ok{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Rk.nextPersistentConnectionId_++,this.log_=bS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tk,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!R())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ik.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ak.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(M(i)),l(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new _,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),l(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Rk.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&F(e,"w")){const n=z(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();xS("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=L(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+M(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):wS("Unrecognized action received from server: "+M(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){l(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tk,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Tk,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Tk),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Rk.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},c=function(e){l(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?yS("getToken() completed but was canceled"):(yS("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new ik(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{xS(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(wS){this.log_("Failed to get token: "+wS),o||(this.repoInfo_.nodeAdmin&&xS(wS),a())}}}interrupt(e){yS("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yS("Resuming connection for reason: "+e),delete this.interruptReasons_[e],j(this.interruptReasons_)&&(this.reconnectDelay_=Tk,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>RS(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new uk(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){yS("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){yS("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";R()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+iS.replace(/\./g,"-")]=1,k()?e["framework.cordova"]=1:I()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ak.getInstance().currentlyOnline();return j(this.interruptReasons_)&&e}}Rk.nextPersistentConnectionId_=0,Rk.nextConnectionId_=0;class Pk{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Pk(e,t)}}class Nk{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Pk(kS,e),r=new Pk(kS,t);return 0!==this.compare(n,r)}minPost(){return Pk.MIN}}let Ak;class Dk extends Nk{static get __EMPTY_NODE(){return Ak}static set __EMPTY_NODE(e){Ak=e}compare(e,t){return CS(e.name,t.name)}isDefinedOn(e){throw c("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Pk.MIN}maxPost(){return new Pk(ES,Ak)}makePost(e,t){return l("string"===typeof e,"KeyIndex indexValue must always be a string."),new Pk(e,Ak)}toString(){return".key"}}const Ok=new Dk;class Mk{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Lk{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lk.RED,this.left=null!=r?r:Fk.EMPTY_NODE,this.right=null!=i?i:Fk.EMPTY_NODE}copy(e,t,n,r,i){return new Lk(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fk.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Fk.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Lk.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Lk.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Lk.RED=!0,Lk.BLACK=!1;class Fk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fk.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Fk(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Lk.BLACK,null,null))}remove(e){return new Fk(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lk.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Mk(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Mk(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Mk(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Mk(this.root_,null,this.comparator_,!0,e)}}function zk(e,t){return CS(e.name,t.name)}function jk(e,t){return CS(e,t)}let Zk;Fk.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Lk(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Uk=function(e){return"number"===typeof e?"number:"+AS(e):"string:"+e},Bk=function(e){if(e.isLeafNode()){const t=e.val();l("string"===typeof t||"number"===typeof t||"object"===typeof t&&F(t,".sv"),"Priority must be a string or number.")}else l(e===Zk||e.isEmpty(),"priority of unexpected type.");l(e===Zk||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Vk,qk,Wk;class Hk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hk.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,l(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Bk(this.priorityNode_)}static set __childrenNodeConstructor(e){Vk=e}static get __childrenNodeConstructor(){return Vk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Hk(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Hk.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bk(e)?this:".priority"===hk(e)?this.priorityNode_:Hk.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Hk.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=hk(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(l(".priority"!==n||1===fk(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Hk.__childrenNodeConstructor.EMPTY_NODE.updateChild(pk(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Uk(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?AS(this.value_):this.value_,this.lazyHash_=fS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Hk.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Hk.__childrenNodeConstructor?-1:(l(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Hk.VALUE_TYPE_ORDER.indexOf(t),i=Hk.VALUE_TYPE_ORDER.indexOf(n);return l(r>=0,"Unknown leaf type: "+t),l(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Hk.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Gk=new class extends Nk{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?CS(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Pk.MIN}maxPost(){return new Pk(ES,new Hk("[PRIORITY-POST]",Wk))}makePost(e,t){const n=qk(e);return new Pk(t,new Hk("[PRIORITY-POST]",n))}toString(){return".priority"}},Kk=Math.log(2);class Qk{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Kk,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $k=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Lk(a,s.node,Lk.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Lk(a,s.node,Lk.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new Lk(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Lk.BLACK):(a(r,Lk.BLACK),a(r,Lk.RED))}return o}(new Qk(e.length));return new Fk(r||t,o)};let Yk;const Xk={};class Jk{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return l(Xk&&Gk,"ChildrenNode.ts has not been loaded"),Yk=Yk||new Jk({".priority":Xk},{".priority":Gk}),Yk}get(e){const t=z(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fk?t:null}hasIndex(e){return F(this.indexSet_,e.toString())}addIndex(e,t){l(e!==Ok,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Pk.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?$k(n,e.getCompare()):Xk;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=o,new Jk(u,c)}addToIndexes(e,t){const n=Z(this.indexes_,((n,r)=>{const i=z(this.indexSet_,r);if(l(i,"Missing index implementation for "+r),n===Xk){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Pk.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),$k(n,i.getCompare())}return Xk}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Pk(e.name,r))),i.insert(e,e.node)}}));return new Jk(n,this.indexSet_)}removeFromIndexes(e,t){const n=Z(this.indexes_,(n=>{if(n===Xk)return n;{const r=t.get(e.name);return r?n.remove(new Pk(e.name,r)):n}}));return new Jk(n,this.indexSet_)}}let eE;class tE{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Bk(this.priorityNode_),this.children_.isEmpty()&&l(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eE||(eE=new tE(new Fk(jk),null,Jk.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eE}updatePriority(e){return this.children_.isEmpty()?this:new tE(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?eE:t}}getChild(e){const t=hk(e);return null===t?this:this.getImmediateChild(t).getChild(pk(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(l(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Pk(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?eE:this.priorityNode_;return new tE(r,o,i)}}updateChild(e,t){const n=hk(e);if(null===n)return t;{l(".priority"!==hk(e)||1===fk(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(pk(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Gk,((o,s)=>{t[o]=s.val(e),n++,i&&tE.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Uk(this.getPriority().val())+":"),this.forEachChild(Gk,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":fS(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Pk(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Pk(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Pk(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Pk.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Pk.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nE?-1:0}withIndex(e){if(e===Ok||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new tE(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ok||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Gk),n=t.getIterator(Gk);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Ok?null:this.indexMap_.get(e.toString())}}tE.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const nE=new class extends tE{constructor(){super(new Fk(jk),tE.EMPTY_NODE,Jk.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tE.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pk,{MIN:{value:new Pk(kS,tE.EMPTY_NODE)},MAX:{value:new Pk(ES,nE)}}),Dk.__EMPTY_NODE=tE.EMPTY_NODE,Hk.__childrenNodeConstructor=tE,Zk=nE,function(e){Wk=e}(nE);const rE=!0;function iE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return tE.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),l(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Hk(e,iE(t))}if(e instanceof Array||!rE){let n=tE.EMPTY_NODE;return NS(e,((t,r)=>{if(F(e,t)&&"."!==t.substring(0,1)){const e=iE(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(iE(t))}{const n=[];let r=!1;if(NS(e,((e,t)=>{if("."!==e.substring(0,1)){const i=iE(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Pk(e,i)))}})),0===n.length)return tE.EMPTY_NODE;const i=$k(n,zk,(e=>e.name),jk);if(r){const e=$k(n,Gk.getCompare());return new tE(i,iE(t),new Jk({".priority":e},{".priority":Gk}))}return new tE(i,iE(t),Jk.Default)}}!function(e){qk=e}(iE);class oE extends Nk{constructor(e){super(),this.indexPath_=e,l(!bk(e)&&".priority"!==hk(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?CS(e.name,t.name):i}makePost(e,t){const n=iE(e),r=tE.EMPTY_NODE.updateChild(this.indexPath_,n);return new Pk(t,r)}maxPost(){const e=tE.EMPTY_NODE.updateChild(this.indexPath_,nE);return new Pk(ES,e)}toString(){return gk(this.indexPath_,0).join("/")}}const sE=new class extends Nk{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?CS(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Pk.MIN}maxPost(){return Pk.MAX}makePost(e,t){const n=iE(e);return new Pk(t,n)}toString(){return".value"}};function aE(e){return{type:"value",snapshotNode:e}}function lE(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function cE(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function uE(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class dE{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){l(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(cE(t,s)):l(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(lE(t,n)):o.trackChildChange(uE(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Gk,((e,r)=>{t.hasChild(e)||n.trackChildChange(cE(e,r))})),t.isLeafNode()||t.forEachChild(Gk,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(uE(t,r,i))}else n.trackChildChange(lE(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?tE.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hE{constructor(e){this.indexedFilter_=new dE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hE.getStartPost_(e),this.endPost_=hE.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Pk(t,n))||(n=tE.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=tE.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(tE.EMPTY_NODE);const i=this;return t.forEachChild(Gk,((e,t)=>{i.matches(new Pk(e,t))||(r=r.updateImmediateChild(e,tE.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class fE{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new hE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Pk(t,n))||(n=tE.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=tE.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=tE.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(tE.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,tE.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;l(s.numChildren()===this.limit_,"");const a=new Pk(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let l=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=l&&(l.name===t||s.hasChild(l.name));)l=r.getChildAfterChild(this.index_,l,this.reverse_);const d=null==l?1:o(l,a);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(uE(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(cE(t,e));const n=s.updateImmediateChild(t,tE.EMPTY_NODE);return null!=l&&this.rangedFilter_.matches(l)?(null!=i&&i.trackChildChange(lE(l.name,l.node)),n.updateImmediateChild(l.name,l.node)):n}}return n.isEmpty()?e:u&&o(c,a)>=0?(null!=i&&(i.trackChildChange(cE(c.name,c.node)),i.trackChildChange(lE(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,tE.EMPTY_NODE)):e}}class pE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gk}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return l(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return l(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:kS}hasEnd(){return this.endSet_}getIndexEndValue(){return l(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return l(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ES}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return l(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gk}copy(){const e=new pE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mE(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function gE(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function vE(e,t){const n=e.copy();return n.index_=t,n}function yE(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Gk?n="$priority":e.index_===sE?n="$value":e.index_===Ok?n="$key":(l(e.index_ instanceof oE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=M(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=M(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+M(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=M(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+M(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function bE(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Gk&&(t.i=e.index_.toString()),t}class wE extends ok{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=bS("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(l(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=wE.getListenId_(e,n),s={};this.listens_[o]=s;const a=yE(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),z(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=wE.getListenId_(e,t);delete this.listens_[n]}get(e){const t=yE(e._queryParams),n=e._path.toString(),r=new _;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+V(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=O(a.responseText)}catch(e){xS("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&xS("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class _E{constructor(){this.rootNode_=tE.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xE(){return{value:null,children:new Map}}function SE(e,t,n){if(bk(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=hk(t);e.children.has(r)||e.children.set(r,xE());SE(e.children.get(r),t=pk(t),n)}}function kE(e,t){if(bk(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Gk,((t,n)=>{SE(e,new uk(t),n)})),kE(e,t)}}if(e.children.size>0){const n=hk(t);if(t=pk(t),e.children.has(n)){kE(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function EE(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{EE(r,new uk(t.toString()+"/"+e),n)}))}class CE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&NS(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class IE{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new CE(e);const n=1e4+2e4*Math.random();LS(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;NS(e,((e,r)=>{r>0&&F(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),LS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var TE;function RE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(TE||(TE={}));class PE{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=TE.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(bk(this.path)){if(null!=this.affectedTree.value)return l(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new uk(e));return new PE(dk(),t,this.revert)}}return l(hk(this.path)===e,"operationForChild called for unrelated child."),new PE(pk(this.path),this.affectedTree,this.revert)}}class NE{constructor(e,t){this.source=e,this.path=t,this.type=TE.LISTEN_COMPLETE}operationForChild(e){return bk(this.path)?new NE(this.source,dk()):new NE(this.source,pk(this.path))}}class AE{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=TE.OVERWRITE}operationForChild(e){return bk(this.path)?new AE(this.source,dk(),this.snap.getImmediateChild(e)):new AE(this.source,pk(this.path),this.snap)}}class DE{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=TE.MERGE}operationForChild(e){if(bk(this.path)){const t=this.children.subtree(new uk(e));return t.isEmpty()?null:t.value?new AE(this.source,dk(),t.value):new DE(this.source,dk(),t)}return l(hk(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new DE(this.source,pk(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class OE{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bk(e))return this.isFullyInitialized()&&!this.filtered_;const t=hk(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ME{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function LE(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw c("Should only compare child_ events.");const r=new Pk(t.childName,t.snapshotNode),i=new Pk(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function FE(e,t){return{eventCache:e,serverCache:t}}function zE(e,t,n,r){return FE(new OE(t,n,r),e.serverCache)}function jE(e,t,n,r){return FE(e.eventCache,new OE(t,n,r))}function ZE(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function UE(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let BE;class VE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(BE||(BE=new Fk(IS)),BE);this.value=e,this.children=t}static fromObject(e){let t=new VE(null);return NS(e,((e,n)=>{t=t.set(new uk(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:dk(),value:this.value};if(bk(e))return null;{const n=hk(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(pk(e),t);if(null!=i){return{path:yk(new uk(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(bk(e))return this;{const t=hk(e),n=this.children.get(t);return null!==n?n.subtree(pk(e)):new VE(null)}}set(e,t){if(bk(e))return new VE(t,this.children);{const n=hk(e),r=(this.children.get(n)||new VE(null)).set(pk(e),t),i=this.children.insert(n,r);return new VE(this.value,i)}}remove(e){if(bk(e))return this.children.isEmpty()?new VE(null):new VE(null,this.children);{const t=hk(e),n=this.children.get(t);if(n){const r=n.remove(pk(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new VE(null):new VE(this.value,i)}return this}}get(e){if(bk(e))return this.value;{const t=hk(e),n=this.children.get(t);return n?n.get(pk(e)):null}}setTree(e,t){if(bk(e))return t;{const n=hk(e),r=(this.children.get(n)||new VE(null)).setTree(pk(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new VE(this.value,i)}}fold(e){return this.fold_(dk(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(yk(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,dk(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(bk(e))return null;{const r=hk(e),i=this.children.get(r);return i?i.findOnPath_(pk(e),yk(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,dk(),t)}foreachOnPath_(e,t,n){if(bk(e))return this;{this.value&&n(t,this.value);const r=hk(e),i=this.children.get(r);return i?i.foreachOnPath_(pk(e),yk(t,r),n):new VE(null)}}foreach(e){this.foreach_(dk(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(yk(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class qE{constructor(e){this.writeTree_=e}static empty(){return new qE(new VE(null))}}function WE(e,t,n){if(bk(t))return new qE(new VE(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=wk(i,t);return o=o.updateChild(s,n),new qE(e.writeTree_.set(i,o))}{const r=new VE(n),i=e.writeTree_.setTree(t,r);return new qE(i)}}}function HE(e,t,n){let r=e;return NS(n,((e,n)=>{r=WE(r,yk(t,e),n)})),r}function GE(e,t){if(bk(t))return qE.empty();{const n=e.writeTree_.setTree(t,new VE(null));return new qE(n)}}function KE(e,t){return null!=QE(e,t)}function QE(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(wk(n.path,t)):null}function $E(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Gk,((e,n)=>{t.push(new Pk(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Pk(e,n.value))})),t}function YE(e,t){if(bk(t))return e;{const n=QE(e,t);return new qE(null!=n?new VE(n):e.writeTree_.subtree(t))}}function XE(e){return e.writeTree_.isEmpty()}function JE(e,t){return eC(dk(),e.writeTree_,t)}function eC(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(l(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=eC(yk(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(yk(e,".priority"),r)),n}}function tC(e,t){return pC(t,e)}function nC(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));l(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&rC(t,r.path)?i=!1:Sk(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=oC(e.allWrites,iC,dk()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=GE(e.visibleWrites,r.path);else{NS(r.children,(t=>{e.visibleWrites=GE(e.visibleWrites,yk(r.path,t))}))}return!0}return!1}function rC(e,t){if(e.snap)return Sk(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Sk(yk(e.path,n),t))return!0;return!1}function iC(e){return e.visible}function oC(e,t,n){let r=qE.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Sk(n,e)?(t=wk(n,e),r=WE(r,t,o.snap)):Sk(e,n)&&(t=wk(e,n),r=WE(r,dk(),o.snap.getChild(t)));else{if(!o.children)throw c("WriteRecord should have .snap or .children");if(Sk(n,e))t=wk(n,e),r=HE(r,t,o.children);else if(Sk(e,n))if(t=wk(e,n),bk(t))r=HE(r,dk(),o.children);else{const e=z(o.children,hk(t));if(e){const n=e.getChild(pk(t));r=WE(r,dk(),n)}}}}}return r}function sC(e,t,n,r,i){if(r||i){const o=YE(e.visibleWrites,t);if(!i&&XE(o))return n;if(i||null!=n||KE(o,dk())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Sk(e.path,t)||Sk(t,e.path))};return JE(oC(e.allWrites,o,t),n||tE.EMPTY_NODE)}return null}{const r=QE(e.visibleWrites,t);if(null!=r)return r;{const r=YE(e.visibleWrites,t);if(XE(r))return n;if(null!=n||KE(r,dk())){return JE(r,n||tE.EMPTY_NODE)}return null}}}function aC(e,t,n,r){return sC(e.writeTree,e.treePath,t,n,r)}function lC(e,t){return function(e,t,n){let r=tE.EMPTY_NODE;const i=QE(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Gk,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=YE(e.visibleWrites,t);return n.forEachChild(Gk,((e,t)=>{const n=JE(YE(i,new uk(e)),t);r=r.updateImmediateChild(e,n)})),$E(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return $E(YE(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function cC(e,t,n,r){return function(e,t,n,r,i){l(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=yk(t,n);if(KE(e.visibleWrites,o))return null;{const t=YE(e.visibleWrites,o);return XE(t)?i.getChild(n):JE(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function uC(e,t){return function(e,t){return QE(e.visibleWrites,t)}(e.writeTree,yk(e.treePath,t))}function dC(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=YE(e.visibleWrites,t),c=QE(l,dk());if(null!=c)a=c;else{if(null==n)return[];a=JE(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function hC(e,t,n){return function(e,t,n,r){const i=yk(t,n),o=QE(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return JE(YE(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function fC(e,t){return pC(yk(e.treePath,t),e.writeTree)}function pC(e,t){return{treePath:e,writeTree:t}}class mC{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;l("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),l(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,uE(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,cE(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,lE(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw c("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,uE(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const gC=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class vC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new OE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hC(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:UE(this.viewCache_),i=dC(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function yC(e,t,n,r,i){const o=new mC;let s,a;if(n.type===TE.OVERWRITE){const c=n;c.source.fromUser?s=_C(e,t,c.path,c.snap,r,i,o):(l(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!bk(c.path),s=wC(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===TE.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=yk(n,r);xC(t,hk(c))&&(a=_C(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=yk(n,r);xC(t,hk(c))||(a=_C(e,a,c,l,i,o,s))})),a}(e,t,c.path,c.children,r,i,o):(l(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=kC(e,t,c.path,c.children,r,i,a,o))}else if(n.type===TE.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=uC(r,n))return t;{const a=new vC(r,t,i),c=t.eventCache.getNode();let u;if(bk(n)||".priority"===hk(n)){let n;if(t.serverCache.isFullyInitialized())n=aC(r,UE(t));else{const e=t.serverCache.getNode();l(e instanceof tE,"serverChildren would be complete if leaf node"),n=lC(r,e)}u=e.filter.updateFullNode(c,n,o)}else{const i=hk(n);let l=hC(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=c.getImmediateChild(i)),u=null!=l?e.filter.updateChild(c,i,l,pk(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,tE.EMPTY_NODE,pk(n),a,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=aC(r,UE(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=uC(r,dk()),zE(t,u,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=uC(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(bk(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return wC(e,t,n,l.getNode().getChild(n),i,o,a,s);if(bk(n)){let r=new VE(null);return l.getNode().forEachChild(Ok,((e,t)=>{r=r.set(new uk(e),t)})),kC(e,t,n,r,i,o,a,s)}return t}{let c=new VE(null);return r.foreach(((e,t)=>{const r=yk(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),kC(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==TE.LISTEN_COMPLETE)throw c("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=jE(t,o.getNode(),o.isFullyInitialized()||bk(n),o.isFiltered());return bC(e,s,n,r,gC,i)}(e,t,n.path,r,o)}const u=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ZE(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(aE(ZE(t)))}}(t,s,u),{viewCache:s,changes:u}}function bC(e,t,n,r,i,o){const s=t.eventCache;if(null!=uC(r,n))return t;{let a,c;if(bk(n))if(l(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=UE(t),i=lC(r,n instanceof tE?n:tE.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=aC(r,UE(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=hk(n);if(".priority"===u){l(1===fk(n),"Can't have a priority with additional path components");const i=s.getNode();c=t.serverCache.getNode();const o=cC(r,n,i,c);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const l=pk(n);let d;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();const e=cC(r,n,s.getNode(),c);d=null!=e?s.getNode().getImmediateChild(u).updateChild(l,e):s.getNode().getImmediateChild(u)}else d=hC(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,l,i,o):s.getNode()}}return zE(t,a,s.isFullyInitialized()||bk(n),e.filter.filtersNodes())}}function wC(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(bk(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=hk(n);if(!l.isCompleteForPath(n)&&fk(n)>1)return t;const i=pk(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,gC,null)}const d=jE(t,c,l.isFullyInitialized()||bk(n),u.filtersNodes());return bC(e,d,n,i,new vC(i,d,o),a)}function _C(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new vC(i,t,o);if(bk(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=zE(t,c,!0,e.filter.filtersNodes());else{const i=hk(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=zE(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=pk(n),c=a.getNode().getImmediateChild(i);let d;if(bk(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===mk(o)&&e.getChild(vk(o)).isEmpty()?e:e.updateChild(o,r):tE.EMPTY_NODE}if(c.equals(d))l=t;else{l=zE(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function xC(e,t){return e.eventCache.isCompleteForChild(t)}function SC(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function kC(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=bk(n)?r:new VE(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=SC(0,t.serverCache.getNode().getImmediateChild(n),r);c=wC(e,c,new uk(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=SC(0,t.serverCache.getNode().getImmediateChild(n),r);c=wC(e,c,new uk(n),l,i,o,s,a)}})),c}class EC{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new dE(n.getIndex()),i=(o=n).loadsAllData()?new dE(o.getIndex()):o.hasLimit()?new fE(o):new hE(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(tE.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(tE.EMPTY_NODE,a.getNode(),null),u=new OE(l,s.isFullyInitialized(),r.filtersNodes()),d=new OE(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=FE(d,u),this.eventGenerator_=new ME(this.query_)}get query(){return this.query_}}function CC(e,t){const n=UE(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!bk(t)&&!n.getImmediateChild(hk(t)).isEmpty())?n.getChild(t):null}function IC(e){return 0===e.eventRegistrations_.length}function TC(e,t,n){const r=[];if(n){l(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function RC(e,t,n,r){t.type===TE.MERGE&&null!==t.source.queryId&&(l(UE(e.viewCache_),"We should always have a full cache before handling merges"),l(ZE(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=yC(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,l(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),l(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),l(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,PC(e,o.changes,o.viewCache.eventCache.getNode(),null)}function PC(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),LE(e,i,"child_removed",t,r,n),LE(e,i,"child_added",t,r,n),LE(e,i,"child_moved",o,r,n),LE(e,i,"child_changed",t,r,n),LE(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let NC,AC;class DC{constructor(){this.views=new Map}}function OC(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return l(null!=o,"SyncTree gave us an op for an invalid query."),RC(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(RC(o,t,n,r));return i}}function MC(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=aC(n,i?r:null),o=!1;e?o=!0:r instanceof tE?(e=lC(n,r),o=!1):(e=tE.EMPTY_NODE,o=!1);const s=FE(new OE(e,o,!1),new OE(r,i,!1));return new EC(t,s)}return s}function LC(e,t,n,r,i,o){const s=MC(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Gk,((e,t)=>{r.push(lE(e,t))}));return n.isFullyInitialized()&&r.push(aE(n.getNode())),PC(e,r,n.getNode(),t)}(s,n)}function FC(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=BC(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(TC(c,n,r)),IC(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(TC(t,n,r)),IC(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!BC(e)&&o.push(new(l(NC,"Reference.ts has not been loaded"),NC)(t._repo,t._path)),{removed:o,events:s}}function zC(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function jC(e,t){let n=null;for(const r of e.views.values())n=n||CC(r,t);return n}function ZC(e,t){if(t._queryParams.loadsAllData())return VC(e);{const n=t._queryIdentifier;return e.views.get(n)}}function UC(e,t){return null!=ZC(e,t)}function BC(e){return null!=VC(e)}function VC(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qC=1;class WC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new VE(null),this.pendingWriteTree_={visibleWrites:qE.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HC(e,t,n,r,i){return function(e,t,n,r,i){l(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=WE(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?tI(e,new AE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function GC(e,t,n,r){!function(e,t,n,r){l(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=HE(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=VE.fromObject(n);return tI(e,new DE({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function KC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(nC(e.pendingWriteTree_,t)){let t=new VE(null);return null!=r.snap?t=t.set(dk(),!0):NS(r.children,(e=>{t=t.set(new uk(e),!0)})),tI(e,new PE(r.path,t,n))}return[]}function QC(e,t,n){return tI(e,new AE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function $C(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||UC(s,t))){const l=FC(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>BC(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&BC(t)){return[VC(t)]}{let e=[];return t&&(e=zC(t)),NS(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=iI(e,r);e.listenProvider_.startListening(uI(i),oI(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(uI(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(sI(t));e.listenProvider_.stopListening(uI(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=sI(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function YC(e,t,n,r){const i=aI(e,r);if(null!=i){const r=lI(i),o=r.path,s=r.queryId,a=wk(o,t);return cI(e,o,new AE(RE(s),a,n))}return[]}function XC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=wk(e,i);o=o||jC(t,n),s=s||BC(t)}));let a,c=e.syncPointTree_.get(i);if(c?(s=s||BC(c),o=o||jC(c,dk())):(c=new DC,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=o)a=!0;else{a=!1,o=tE.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=jC(t,dk());n&&(o=o.updateImmediateChild(e,n))}))}const u=UC(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=sI(t);l(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=qC++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=LC(c,t,n,tC(e.pendingWriteTree_,i),o,a);if(!u&&!s&&!r){const n=ZC(c,t);d=d.concat(function(e,t,n){const r=t._path,i=oI(e,t),o=iI(e,n),s=e.listenProvider_.startListening(uI(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)l(!BC(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!bk(e)&&t&&BC(t))return[VC(t).query];{let e=[];return t&&(e=e.concat(zC(t).map((e=>e.query)))),NS(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(uI(r),oI(e,r))}}return s}(e,t,n))}return d}function JC(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=jC(n,wk(e,t));if(r)return r}));return sC(r,t,i,n,!0)}function eI(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=wk(e,n);r=r||jC(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||jC(i,dk()):(i=new DC,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new OE(r,!0,!1):null;return function(e){return ZE(e.viewCache_)}(MC(i,t,tC(e.pendingWriteTree_,t._path),o?s.getNode():tE.EMPTY_NODE,o))}function tI(e,t){return nI(t,e.syncPointTree_,null,tC(e.pendingWriteTree_,dk()))}function nI(e,t,n,r){if(bk(e.path))return rI(e,t,n,r);{const i=t.get(dk());null==n&&null!=i&&(n=jC(i,dk()));let o=[];const s=hk(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=fC(r,s);o=o.concat(nI(a,l,e,t))}return i&&(o=o.concat(OC(i,e,r,n))),o}}function rI(e,t,n,r){const i=t.get(dk());null==n&&null!=i&&(n=jC(i,dk()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=fC(r,t),l=e.operationForChild(t);l&&(o=o.concat(rI(l,i,s,a)))})),i&&(o=o.concat(OC(i,e,r,n))),o}function iI(e,t){const n=t.query,r=oI(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||tE.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=aI(e,n);if(r){const n=lI(r),i=n.path,o=n.queryId,s=wk(i,t);return cI(e,i,new NE(RE(o),s))}return[]}(e,n._path,r):function(e,t){return tI(e,new NE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return $C(e,n,null,r)}}}}function oI(e,t){const n=sI(t);return e.queryToTagMap.get(n)}function sI(e){return e._path.toString()+"$"+e._queryIdentifier}function aI(e,t){return e.tagToQueryMap.get(t)}function lI(e){const t=e.indexOf("$");return l(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new uk(e.substr(0,t))}}function cI(e,t,n){const r=e.syncPointTree_.get(t);l(r,"Missing sync point for query tag that we're tracking");return OC(r,n,tC(e.pendingWriteTree_,t),null)}function uI(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(l(AC,"Reference.ts has not been loaded"),AC)(e._repo,e._path):e}class dI{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dI(t)}node(){return this.node_}}class hI{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=yk(this.path_,e);return new hI(this.syncTree_,t)}node(){return JC(this.syncTree_,this.path_)}}const fI=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},pI=function(e,t,n){return e&&"object"===typeof e?(l(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?mI(e[".sv"],t,n):"object"===typeof e[".sv"]?gI(e[".sv"],t):void l(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mI=function(e,t,n){if("timestamp"===e)return n.timestamp;l(!1,"Unexpected server value: "+e)},gI=function(e,t,n){e.hasOwnProperty("increment")||l(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&l(!1,"Unexpected increment value: "+r);const i=t.node();if(l(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},vI=function(e,t,n,r){return bI(t,new hI(n,e),r)},yI=function(e,t,n){return bI(e,new dI(t),n)};function bI(e,t,n){const r=e.getPriority().val(),i=pI(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=pI(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Hk(o,iE(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Hk(i))),r.forEachChild(Gk,((e,r)=>{const i=bI(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class wI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function _I(e,t){let n=t instanceof uk?t:new uk(t),r=e,i=hk(n);for(;null!==i;){const e=z(r.node.children,i)||{children:{},childCount:0};r=new wI(i,r,e),n=pk(n),i=hk(n)}return r}function xI(e){return e.node.value}function SI(e,t){e.node.value=t,TI(e)}function kI(e){return e.node.childCount>0}function EI(e,t){NS(e.node.children,((n,r)=>{t(new wI(n,e,r))}))}function CI(e,t,n,r){n&&!r&&t(e),EI(e,(e=>{CI(e,t,!0,r)})),n&&r&&t(e)}function II(e){return new uk(null===e.parent?e.name:II(e.parent)+"/"+e.name)}function TI(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===xI(e)&&!kI(e)}(n),i=F(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,TI(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,TI(e))}(e.parent,e.name,e)}const RI=/[\[\].#$\/\u0000-\u001F\u007F]/,PI=/[\[\].#$\u0000-\u001F\u007F]/,NI=10485760,AI=function(e){return"string"===typeof e&&0!==e.length&&!RI.test(e)},DI=function(e){return"string"===typeof e&&0!==e.length&&!PI.test(e)},OI=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!SS(e)||e&&"object"===typeof e&&F(e,".sv")},MI=function(e,t,n,r){r&&void 0===t||LI(Y(e,"value"),t,n)},LI=function(e,t,n){const r=n instanceof uk?new kk(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ck(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ck(r)+" with contents = "+t.toString());if(SS(t))throw new Error(e+"contains "+t.toString()+" "+Ck(r));if("string"===typeof t&&t.length>NI/3&&ee(t)>NI)throw new Error(e+"contains a string greater than "+NI+" utf8 bytes "+Ck(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(NS(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!AI(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ck(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ee(t),Ek(e)}(r,t),LI(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=ee(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ck(r)+" in addition to actual children.")}},FI=function(e,t,n,r){if(r&&void 0===t)return;const i=Y(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];NS(t,((e,t)=>{const r=new uk(e);if(LI(i,t,yk(n,r)),".priority"===mk(r)&&!OI(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=gk(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!AI(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_k);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Sk(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},zI=function(e,t,n){if(!n||void 0!==t){if(SS(t))throw new Error(Y(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!OI(t))throw new Error(Y(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jI=function(e,t,n,r){if((!r||void 0!==n)&&!AI(n))throw new Error(Y(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ZI=function(e,t,n,r){if((!r||void 0!==n)&&!DI(n))throw new Error(Y(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},UI=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ZI(e,t,n,r)},BI=function(e,t){if(".info"===hk(t))throw new Error(e+" failed = Can't modify data under /.info/")},VI=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!AI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),DI(e)}(n))throw new Error(Y(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function WI(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||xk(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function HI(e,t,n){WI(e,n),KI(e,(e=>xk(e,t)))}function GI(e,t,n){WI(e,n),KI(e,(e=>Sk(e,t)||Sk(t,e)))}function KI(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(QI(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function QI(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();mS&&yS("event: "+n.toString()),MS(r)}}}const $I="repo_interrupt",YI=25;class XI{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xE(),this.transactionQueueTree_=new wI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JI(e,t,n){if(e.stats_=$S(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wE(e.repoInfo_,((t,n,r,i)=>{nT(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>rT(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{M(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Rk(e.repoInfo_,t,((t,n,r,i)=>{nT(e,t,n,r,i)}),(t=>{rT(e,t)}),(t=>{!function(e,t){NS(t,((t,n)=>{iT(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return QS[n]||(QS[n]=t()),QS[n]}(e.repoInfo_,(()=>new IE(e.stats_,e.server_))),e.infoData_=new _E,e.infoSyncTree_=new WC({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=QC(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),iT(e,"connected",!1),e.serverSyncTree_=new WC({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);GI(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function eT(e){const t=e.infoData_.getNode(new uk(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function tT(e){return fI({timestamp:eT(e)})}function nT(e,t,n,r,i){e.dataUpdateCount++;const o=new uk(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Z(n,(e=>iE(e)));s=function(e,t,n,r){const i=aI(e,r);if(i){const r=lI(i),o=r.path,s=r.queryId,a=wk(o,t),l=VE.fromObject(n);return cI(e,o,new DE(RE(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=iE(n);s=YC(e.serverSyncTree_,o,t,i)}else if(r){const t=Z(n,(e=>iE(e)));s=function(e,t,n){const r=VE.fromObject(n);return tI(e,new DE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=iE(n);s=QC(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=mT(e,o)),GI(e.eventQueue_,a,s)}function rT(e,t){iT(e,"connected",t),!1===t&&function(e){dT(e,"onDisconnectEvents");const t=tT(e),n=xE();EE(e.onDisconnect_,dk(),((r,i)=>{const o=vI(r,i,e.serverSyncTree_,t);SE(n,r,o)}));let r=[];EE(n,dk(),((t,n)=>{r=r.concat(QC(e.serverSyncTree_,t,n));const i=wT(e,t);mT(e,i)})),e.onDisconnect_=xE(),GI(e.eventQueue_,dk(),r)}(e)}function iT(e,t,n){const r=new uk("/.info/"+t),i=iE(n);e.infoData_.updateSnapshot(r,i);const o=QC(e.infoSyncTree_,r,i);GI(e.eventQueue_,r,o)}function oT(e){return e.nextWriteId_++}function sT(e,t,n,r,i){dT(e,"set",{path:t.toString(),value:n,priority:r});const o=tT(e),s=iE(n,r),a=JC(e.serverSyncTree_,t),l=yI(s,a,o),c=oT(e),u=HC(e.serverSyncTree_,t,l,c,!0);WI(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||xS("set at "+t+" failed: "+n);const s=KC(e.serverSyncTree_,c,!o);GI(e.eventQueue_,t,s),hT(e,i,n,r)}));const d=wT(e,t);mT(e,d),GI(e.eventQueue_,d,[])}function aT(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&kE(e.onDisconnect_,t),hT(e,n,r,i)}))}function lT(e,t,n,r){const i=iE(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&SE(e.onDisconnect_,t,i),hT(e,r,n,o)}))}function cT(e,t,n){let r;r=".info"===hk(t._path)?$C(e.infoSyncTree_,t,n):$C(e.serverSyncTree_,t,n),HI(e.eventQueue_,t._path,r)}function uT(e){e.persistentConnection_&&e.persistentConnection_.interrupt($I)}function dT(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];yS(t,...r)}function hT(e,t,n,r){t&&MS((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function fT(e,t,n){return JC(e.serverSyncTree_,t,n)||tE.EMPTY_NODE}function pT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||bT(e,t),xI(t)){const n=vT(e,t);l(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=fT(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const e=n[u];l(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=wk(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,(r=>{dT(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(KC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();bT(e,_I(e.transactionQueueTree_,t)),pT(e,e.transactionQueueTree_),GI(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)MS(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{xS("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}mT(e,t)}}),s)}(e,II(t),n)}else kI(t)&&EI(t,(t=>{pT(e,t)}))}function mT(e,t){const n=gT(e,t),r=II(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const o=t[c],u=wk(n,o.path);let d,h=!1;if(l(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)h=!0,d=o.abortReason,i=i.concat(KC(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=YI)h=!0,d="maxretry",i=i.concat(KC(e.serverSyncTree_,o.currentWriteId,!0));else{const n=fT(e,o.path,s);o.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){LI("transaction failed: Data returned ",r,o.path);let t=iE(r);"object"===typeof r&&null!=r&&F(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=tT(e),c=yI(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=oT(e),s.splice(s.indexOf(a),1),i=i.concat(HC(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(KC(e.serverSyncTree_,a,!0))}else h=!0,d="nodata",i=i.concat(KC(e.serverSyncTree_,o.currentWriteId,!0))}GI(e.eventQueue_,n,i),i=[],h&&(t[c].status=2,a=t[c].unwatcher,setTimeout(a,Math.floor(0)),t[c].onComplete&&("nodata"===d?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(d),!1,null)))))}var a;bT(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)MS(r[l]);pT(e,e.transactionQueueTree_)}(e,vT(e,n),r),r}function gT(e,t){let n,r=e.transactionQueueTree_;for(n=hk(t);null!==n&&void 0===xI(r);)r=_I(r,n),n=hk(t=pk(t));return r}function vT(e,t){const n=[];return yT(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function yT(e,t,n){const r=xI(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);EI(t,(t=>{yT(e,t,n)}))}function bT(e,t){const n=xI(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,SI(t,n.length>0?n:void 0)}EI(t,(t=>{bT(e,t)}))}function wT(e,t){const n=II(gT(e,t)),r=_I(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{_T(e,t)})),_T(e,r),CI(r,(t=>{_T(e,t)})),n}function _T(e,t){const n=xI(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(l(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(l(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(KC(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?SI(t,void 0):n.length=o+1,GI(e.eventQueue_,II(t),i);for(let e=0;e<r.length;e++)MS(r[e])}}const xT=function(e,t){const n=ST(e),r=n.namespace;"firebase.com"===n.domain&&_S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||_S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xS("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new WS(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new uk(n.pathString)}},ST=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xS("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},kT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ET=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=kT.charAt(n%64),n=Math.floor(n/64);l(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=kT.charAt(t[i]);return l(20===s.length,"nextPushId: Length should be 20."),s}}();class CT{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+M(this.snapshot.exportVal())}}class IT{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class TT{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return l(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class RT{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new _;return aT(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){BI("OnDisconnect.remove",this._path);const e=new _;return lT(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){BI("OnDisconnect.set",this._path),MI("OnDisconnect.set",e,this._path,!1);const t=new _;return lT(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){BI("OnDisconnect.setWithPriority",this._path),MI("OnDisconnect.setWithPriority",e,this._path,!1),zI("OnDisconnect.setWithPriority",t,!1);const n=new _;return function(e,t,n,r,i){const o=iE(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&SE(e.onDisconnect_,t,o),hT(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){BI("OnDisconnect.update",this._path),FI("OnDisconnect.update",e,this._path,!1);const t=new _;return function(e,t,n,r){if(j(n))return yS("onDisconnect().update() called with empty data.  Don't do anything."),void hT(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&NS(n,((n,r)=>{const i=iE(r);SE(e.onDisconnect_,yk(t,n),i)})),hT(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class PT{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return bk(this._path)?null:mk(this._path)}get ref(){return new OT(this._repo,this._path)}get _queryIdentifier(){const e=bE(this._queryParams),t=RS(e);return"{}"===t?"default":t}get _queryObject(){return bE(this._queryParams)}isEqual(e){if(!((e=te(e))instanceof PT))return!1;const t=this._repo===e._repo,n=xk(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function NT(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function AT(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ok){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==kS)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==ES)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Gk){if(null!=t&&!OI(t)||null!=n&&!OI(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(l(e.getIndex()instanceof oE||e.getIndex()===sE,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function DT(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class OT extends PT{constructor(e,t){super(e,t,new pE,!1)}get parent(){const e=vk(this._path);return null===e?null:new OT(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class MT{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new uk(e),n=zT(this.ref,e);return new MT(this._node.getChild(t),n,Gk)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new MT(n,zT(this.ref,t),Gk))))}hasChild(e){const t=new uk(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function LT(e,t){return(e=te(e))._checkNotDeleted("ref"),void 0!==t?zT(e._root,t):e._root}function FT(e,t){(e=te(e))._checkNotDeleted("refFromURL");const n=xT(t,e._repo.repoInfo_.nodeAdmin);VI("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||_S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),LT(e,n.path.toString())}function zT(e,t){return null===hk((e=te(e))._path)?UI("child","path",t,!1):ZI("child","path",t,!1),new OT(e._repo,yk(e._path,t))}function jT(e,t){e=te(e),BI("set",e._path),MI("set",t,e._path,!1);const n=new _;return sT(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function ZT(e,t){FI("update",t,e._path,!1);const n=new _;return function(e,t,n,r){dT(e,"update",{path:t.toString(),value:n});let i=!0;const o=tT(e),s={};if(NS(n,((n,r)=>{i=!1,s[n]=vI(yk(t,n),iE(r),e.serverSyncTree_,o)})),i)yS("update() called with empty data.  Don't do anything."),hT(0,r,"ok",void 0);else{const i=oT(e),o=GC(e.serverSyncTree_,t,s,i);WI(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||xS("update at "+t+" failed: "+n);const a=KC(e.serverSyncTree_,i,!s),l=a.length>0?mT(e,t):t;GI(e.eventQueue_,l,a),hT(0,r,n,o)})),NS(n,(n=>{const r=wT(e,yk(t,n));mT(e,r)})),GI(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function UT(e){e=te(e);const t=new TT((()=>{})),n=new BT(t);return function(e,t,n){const r=eI(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=iE(r).withIndex(t._queryParams.getIndex());let o;if(XC(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=QC(e.serverSyncTree_,t._path,i);else{const n=oI(e.serverSyncTree_,t);o=YC(e.serverSyncTree_,t._path,i,n)}return GI(e.eventQueue_,t._path,o),$C(e.serverSyncTree_,t,n,null,!0),i}),(n=>(dT(e,"get for query "+M(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new MT(t,new OT(e._repo,e._path),e._queryParams.getIndex())))}class BT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new CT("value",this,new MT(e.snapshotNode,new OT(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new IT(this,e,t):null}matches(e){return e instanceof BT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class VT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new IT(this,e,t):null}createEvent(e,t){l(null!=e.childName,"Child events should have a childName.");const n=zT(new OT(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new CT(e.type,this,new MT(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof VT&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function qT(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{cT(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new TT(n,o||void 0),a="value"===t?new BT(s):new VT(t,s);return function(e,t,n){let r;r=".info"===hk(t._path)?XC(e.infoSyncTree_,t,n):XC(e.serverSyncTree_,t,n),HI(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>cT(e._repo,e,a)}function WT(e,t,n,r){return qT(e,"value",t,n,r)}function HT(e,t,n,r){return qT(e,"child_added",t,n,r)}function GT(e,t,n,r){return qT(e,"child_changed",t,n,r)}function KT(e,t,n,r){return qT(e,"child_moved",t,n,r)}function QT(e,t,n,r){return qT(e,"child_removed",t,n,r)}function $T(e,t,n){let r=null;const i=n?new TT(n):null;"value"===t?r=new BT(i):t&&(r=new VT(t,i)),cT(e._repo,e,r)}class YT{}class XT extends YT{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){MI("endAt",this._value,e._path,!0);const t=gE(e._queryParams,this._value,this._key);if(DT(t),AT(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new PT(e._repo,e._path,t,e._orderByCalled)}}class JT extends YT{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){MI("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Ok||n?gE(e,t,n):gE(e,t,kS),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(DT(t),AT(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new PT(e._repo,e._path,t,e._orderByCalled)}}class eR extends YT{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){MI("startAt",this._value,e._path,!0);const t=mE(e._queryParams,this._value,this._key);if(DT(t),AT(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new PT(e._repo,e._path,t,e._orderByCalled)}}class tR extends YT{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){MI("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;return r=e.index_===Ok||n?mE(e,t,n):mE(e,t,ES),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(DT(t),AT(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new PT(e._repo,e._path,t,e._orderByCalled)}}class nR extends YT{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new PT(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class rR extends YT{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new PT(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class iR extends YT{constructor(e){super(),this._path=e}_apply(e){NT(e,"orderByChild");const t=new uk(this._path);if(bk(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new oE(t),r=vE(e._queryParams,n);return AT(r),new PT(e._repo,e._path,r,!0)}}class oR extends YT{_apply(e){NT(e,"orderByKey");const t=vE(e._queryParams,Ok);return AT(t),new PT(e._repo,e._path,t,!0)}}class sR extends YT{_apply(e){NT(e,"orderByPriority");const t=vE(e._queryParams,Gk);return AT(t),new PT(e._repo,e._path,t,!0)}}class aR extends YT{_apply(e){NT(e,"orderByValue");const t=vE(e._queryParams,sE);return AT(t),new PT(e._repo,e._path,t,!0)}}class lR extends YT{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(MI("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new XT(this._value,this._key)._apply(new eR(this._value,this._key)._apply(e))}}function cR(e){let t=te(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of r)t=o._apply(t);return t}!function(e){l(!NC,"__referenceConstructor has already been defined"),NC=e}(OT),function(e){l(!AC,"__referenceConstructor has already been defined"),AC=e}(OT);const uR="FIREBASE_DATABASE_EMULATOR_HOST",dR={};let hR=!1;function fR(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||_S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yS("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=xT(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[uR]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=xT(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new jS(jS.OWNER):new zS(e.name,e.options,t);VI("Invalid Firebase Database URL",l),bk(l.path)||_S("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=dR[t.name];i||(i={},dR[t.name]=i);let o=i[e.toURLString()];o&&_S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new XI(e,hR,n,r),i[e.toURLString()]=o,o}(c,e,u,new FS(e.name,n));return new pR(d,e)}class pR{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new OT(this._repo,dk())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=dR[t];n&&n[e.key]===e||_S("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),uT(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_S("Cannot call "+e+" on a deleted database.")}}function mR(){rk.IS_TRANSPORT_INITIALIZED&&xS("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gR(){mR(),JS.forceDisallow()}function vR(){mR(),nk.forceDisallow(),JS.forceAllow()}function yR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=te(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&_S("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new jS(jS.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:x(r.mockUserToken,e.app.options.projectId);o=new jS(t)}!function(e,t,n,r){e.repoInfo_=new WS("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function bR(e){var t;(e=te(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume($I)}function wR(e,t){vS(e,t)}const _R={".sv":"timestamp"};class xR{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function SR(e,t,n){var r;if(e=te(e),BI("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new _,s=WT(e,(()=>{}));return function(e,t,n,r,i,o){dT(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:hS(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=fT(e,t,void 0);s.currentInputSnapshot=a;const c=s.update(a.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{LI("transaction failed: Data returned ",c,s.path),s.status=0;const n=_I(e.transactionQueueTree_,t),r=xI(n)||[];let i;r.push(s),SI(n,r),"object"===typeof c&&null!==c&&F(c,".priority")?(i=z(c,".priority"),l(OI(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(JC(e.serverSyncTree_,t)||tE.EMPTY_NODE).getPriority().val();const o=tT(e),u=iE(c,i),d=yI(u,a,o);s.currentOutputSnapshotRaw=u,s.currentOutputSnapshotResolved=d,s.currentWriteId=oT(e);const h=HC(e.serverSyncTree_,t,d,s.currentWriteId,s.applyLocally);GI(e.eventQueue_,t,h),pT(e,e.transactionQueueTree_)}}(e._repo,e._path,t,((t,n,r)=>{let i=null;t?o.reject(t):(i=new MT(r,new OT(e._repo,e._path),Gk),o.resolve(new xR(n,i)))}),s,i),o.promise}Rk.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Rk.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){oS(Ge),Ue(new ne("database",((e,t)=>{let{instanceIdentifier:n}=t;return fR(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Xe(nS,rS,e),Xe(nS,rS,"esm2017")}();const kR=new fe("@firebase/database-compat"),ER=function(e){const t="FIREBASE WARNING: "+e;kR.warn(t)};class CR{constructor(e){this._delegate=e}cancel(e){$("OnDisconnect.cancel",0,1,arguments.length),X("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then((()=>e(null)),(t=>e(t))),t}remove(e){$("OnDisconnect.remove",0,1,arguments.length),X("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then((()=>e(null)),(t=>e(t))),t}set(e,t){$("OnDisconnect.set",1,2,arguments.length),X("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){$("OnDisconnect.setWithPriority",2,3,arguments.length),X("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}update(e,t){if($("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,ER("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}X("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then((()=>t(null)),(e=>t(e))),n}}class IR{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return $("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class TR{constructor(e,t){this._database=e,this._delegate=t}val(){return $("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return $("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return $("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return $("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return $("DataSnapshot.child",0,1,arguments.length),e=String(e),ZI("DataSnapshot.child","path",e,!1),new TR(this._database,this._delegate.child(e))}hasChild(e){return $("DataSnapshot.hasChild",1,1,arguments.length),ZI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return $("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return $("DataSnapshot.forEach",1,1,arguments.length),X("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((t=>e(new TR(this._database,t))))}hasChildren(){return $("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return $("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return $("DataSnapshot.ref",0,0,arguments.length),new PR(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class RR{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;$("Query.on",2,4,arguments.length),X("Query.on","callback",t,!1);const o=RR.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new TR(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return WT(this._delegate,s,a),t;case"child_added":return HT(this._delegate,s,a),t;case"child_removed":return QT(this._delegate,s,a),t;case"child_changed":return GT(this._delegate,s,a),t;case"child_moved":return KT(this._delegate,s,a),t;default:throw new Error(Y("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if($("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Y(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),X("Query.off","callback",t,!0),J("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,$T(this._delegate,e,r)}else $T(this._delegate,e)}get(){return UT(this._delegate).then((e=>new TR(this.database,e)))}once(e,t,n,r){$("Query.once",1,4,arguments.length),X("Query.once","callback",t,!0);const i=RR.getCancelAndContextArgs_("Query.once",n,r),o=new _,s=(e,n)=>{const r=new TR(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":WT(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":HT(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":QT(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":GT(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":KT(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error(Y("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return $("Query.limitToFirst",1,1,arguments.length),new RR(this.database,cR(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new nR(e)}(e)))}limitToLast(e){return $("Query.limitToLast",1,1,arguments.length),new RR(this.database,cR(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rR(e)}(e)))}orderByChild(e){return $("Query.orderByChild",1,1,arguments.length),new RR(this.database,cR(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ZI("orderByChild","path",e,!1),new iR(e)}(e)))}orderByKey(){return $("Query.orderByKey",0,0,arguments.length),new RR(this.database,cR(this._delegate,new oR))}orderByPriority(){return $("Query.orderByPriority",0,0,arguments.length),new RR(this.database,cR(this._delegate,new sR))}orderByValue(){return $("Query.orderByValue",0,0,arguments.length),new RR(this.database,cR(this._delegate,new aR))}startAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $("Query.startAt",0,2,arguments.length),new RR(this.database,cR(this._delegate,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return jI("startAt","key",t,!0),new eR(e,t)}(e,t)))}startAfter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $("Query.startAfter",0,2,arguments.length),new RR(this.database,cR(this._delegate,function(e,t){return jI("startAfter","key",t,!0),new tR(e,t)}(e,t)))}endAt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $("Query.endAt",0,2,arguments.length),new RR(this.database,cR(this._delegate,function(e,t){return jI("endAt","key",t,!0),new XT(e,t)}(e,t)))}endBefore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return $("Query.endBefore",0,2,arguments.length),new RR(this.database,cR(this._delegate,function(e,t){return jI("endBefore","key",t,!0),new JT(e,t)}(e,t)))}equalTo(e,t){return $("Query.equalTo",1,2,arguments.length),new RR(this.database,cR(this._delegate,function(e,t){return jI("equalTo","key",t,!0),new lR(e,t)}(e,t)))}toString(){return $("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return $("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if($("Query.isEqual",1,1,arguments.length),!(e instanceof RR)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,X(e,"cancel",r.cancel,!0),r.context=n,J(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Y(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new PR(this.database,new OT(this._delegate._repo,this._delegate._path))}}class PR extends RR{constructor(e,t){super(e,new PT(t._repo,t._path,new pE,!1)),this.database=e,this._delegate=t}getKey(){return $("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return $("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new PR(this.database,zT(this._delegate,e))}getParent(){$("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new PR(this.database,e):null}getRoot(){return $("Reference.root",0,0,arguments.length),new PR(this.database,this._delegate.root)}set(e,t){$("Reference.set",1,2,arguments.length),X("Reference.set","onComplete",t,!0);const n=jT(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}update(e,t){if($("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,ER("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}BI("Reference.update",this._delegate._path),X("Reference.update","onComplete",t,!0);const n=ZT(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}setWithPriority(e,t,n){$("Reference.setWithPriority",2,3,arguments.length),X("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(BI("setWithPriority",e._path),MI("setWithPriority",t,e._path,!1),zI("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new _;return sT(e._repo,e._path,t,n,r.wrapCallback((()=>{}))),r.promise}(this._delegate,e,t);return n&&r.then((()=>n(null)),(e=>n(e))),r}remove(e){$("Reference.remove",0,1,arguments.length),X("Reference.remove","onComplete",e,!0);const t=function(e){return BI("remove",e._path),jT(e,null)}(this._delegate);return e&&t.then((()=>e(null)),(t=>e(t))),t}transaction(e,t,n){$("Reference.transaction",1,3,arguments.length),X("Reference.transaction","transactionUpdate",e,!1),X("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Y(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);const r=SR(this._delegate,e,{applyLocally:n}).then((e=>new IR(e.committed,new TR(this.database,e.snapshot))));return t&&r.then((e=>t(null,e.committed,e.snapshot)),(e=>t(e,!1,null))),r}setPriority(e,t){$("Reference.setPriority",1,2,arguments.length),X("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=te(e),BI("setPriority",e._path),zI("setPriority",t,!1);const n=new _;return sT(e._repo,yk(e._path,".priority"),t,null,n.wrapCallback((()=>{}))),n.promise}(this._delegate,e);return t&&n.then((()=>t(null)),(e=>t(e))),n}push(e,t){$("Reference.push",0,2,arguments.length),X("Reference.push","onComplete",t,!0);const n=function(e,t){e=te(e),BI("push",e._path),MI("push",t,e._path,!0);const n=eT(e._repo),r=ET(n),i=zT(e,r),o=zT(e,r);let s;return s=null!=t?jT(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),r=n.then((e=>new PR(this.database,e)));t&&r.then((()=>t(null)),(e=>t(e)));const i=new PR(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return BI("Reference.onDisconnect",this._delegate._path),new CR(new RT(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class NR{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gR,forceLongPolling:vR}}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yR(this._delegate,e,t,n)}ref(e){if($("database.ref",0,1,arguments.length),e instanceof PR){const t=FT(this._delegate,e.toString());return new PR(this,t)}{const t=LT(this._delegate,e);return new PR(this,t)}}refFromURL(e){$("database.refFromURL",1,1,arguments.length);const t=FT(this._delegate,e);return new PR(this,t)}goOffline(){return $("database.goOffline",0,0,arguments.length),function(e){(e=te(e))._checkNotDeleted("goOffline"),uT(e._repo)}(this._delegate)}goOnline(){return $("database.goOnline",0,0,arguments.length),bR(this._delegate)}}NR.ServerValue={TIMESTAMP:_R,increment:e=>function(e){return{".sv":{increment:e}}}(e)};var AR=Object.freeze({__proto__:null,initStandalone:function(e){let{app:t,url:n,version:r,customAuthImpl:i,namespace:o,nodeAdmin:s=!1}=e;oS(r);const a=new ie("auth-internal",new se("database-standalone"));return a.setComponent(new ne("auth-internal",(()=>i),"PRIVATE")),{instance:new NR(fR(t,a,void 0,n,s),t),namespace:o}}});const DR=NR.ServerValue;!function(e){e.INTERNAL.registerComponent(new ne("database-compat",((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new NR(i,r)}),"PUBLIC").setServiceProps({Reference:PR,Query:RR,Database:NR,DataSnapshot:TR,enableLogging:wR,INTERNAL:AR,ServerValue:DR}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(Av);const OR=Av.initializeApp({apiKey:"AIzaSyA1isKvGVxXcLsK78VoH324XvcuJnUPz7A",authDomain:"wiliot-asset-tracking.firebaseapp.com",databaseURL:"https://wiliot-asset-tracking-default-rtdb.firebaseio.com",projectId:"wiliot-asset-tracking",storageBucket:"wiliot-asset-tracking.appspot.com",messagingSenderId:"549531966324",appId:"1:549531966324:web:d3e21c5290cdf6cf3daa21"}),MR=(Av.auth(),Av.firestore()),LR=(Av.database(),"firebasestorage.googleapis.com"),FR="storageBucket";class zR extends N{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(UR(e),"Firebase Storage: ".concat(t," (").concat(UR(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zR.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var jR,ZR;function UR(e){return"storage/"+e}function BR(){return new zR(jR.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function VR(){return new zR(jR.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qR(){return new zR(jR.CANCELED,"User canceled the upload/download.")}function WR(){return new zR(jR.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HR(e){return new zR(jR.INVALID_ARGUMENT,e)}function GR(){return new zR(jR.APP_DELETED,"The Firebase app was deleted.")}function KR(e,t){return new zR(jR.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function QR(e){throw new zR(jR.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(jR||(jR={}));class $R{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=$R.makeFromUrl(e,t)}catch(i){return new $R(e,"")}if(""===n.path)return n;throw r=e,new zR(jR.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===LR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new $R(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new zR(jR.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class YR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function XR(e){return"string"===typeof e||e instanceof String}function JR(e){return eP()&&e instanceof Blob}function eP(){return"undefined"!==typeof Blob&&!E()}function tP(e,t,n,r){if(r<t)throw HR("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw HR("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function nP(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function rP(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function iP(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ZR||(ZR={}));class oP{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new sP(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===ZR.NO_ERROR,i=n.getStatus();if(!t||iP(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===ZR.ABORT;return void e(!1,new sP(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new sP(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=BR();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?GR():qR())}else{r(VR())}};this.canceled_?t(0,new sP(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sP{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function aP(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function lP(){const e=aP();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(eP())return new Blob(n);throw new zR(jR.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function cP(e){if("undefined"===typeof atob)throw t="base-64",new zR(jR.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const uP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dP{constructor(e,t){this.data=e,this.contentType=t||null}}function hP(e,t){switch(e){case uP.RAW:return new dP(fP(t));case uP.BASE64:case uP.BASE64URL:return new dP(pP(e,t));case uP.DATA_URL:return new dP(function(e){const t=new mP(e);return t.base64?pP(uP.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw KR(uP.DATA_URL,"Malformed data URL.")}return fP(t)}(t.rest)}(t),new mP(t).contentType)}throw BR()}function fP(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pP(e,t){switch(e){case uP.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw KR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case uP.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw KR(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cP(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw KR(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class mP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw KR(uP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class gP{constructor(e,t){let n=0,r="";JR(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(JR(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new gP(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new gP(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(eP()){const e=t.map((e=>e instanceof gP?e.data_:e));return new gP(lP.apply(null,e))}{const e=t.map((e=>XR(e)?hP(uP.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new gP(r,!0)}}uploadData(){return this.data_}}function vP(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function yP(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function bP(e,t){return t}class wP{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||bP}}let _P=null;function xP(){if(_P)return _P;const e=[];e.push(new wP("bucket")),e.push(new wP("generation")),e.push(new wP("metageneration")),e.push(new wP("name","fullPath",!0));const t=new wP("name");t.xform=function(e,t){return function(e){return!XR(e)||e.length<2?e:yP(e)}(t)},e.push(t);const n=new wP("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new wP("timeCreated")),e.push(new wP("updated")),e.push(new wP("md5Hash",null,!0)),e.push(new wP("cacheControl",null,!0)),e.push(new wP("contentDisposition",null,!0)),e.push(new wP("contentEncoding",null,!0)),e.push(new wP("contentLanguage",null,!0)),e.push(new wP("contentType",null,!0)),e.push(new wP("metadata","customMetadata",!0)),_P=e,_P}function SP(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new $R(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kP(e,t,n){const r=vP(t);if(null===r)return null;return SP(e,r,n)}function EP(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class CP{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function IP(e){if(!e)throw BR()}function TP(e,t){return function(n,r){const i=kP(e,r,t);return IP(null!==i),i}}function RP(e,t){return function(n,r){const i=kP(e,r,t);return IP(null!==i),function(e,t,n,r){const i=vP(t);if(null===i)return null;if(!XR(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return nP("/b/"+s(i)+"/o/"+s(o),n,r)+rP({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function PP(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new zR(jR.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new zR(jR.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new zR(jR.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new zR(jR.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function NP(e){const t=PP(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new zR(jR.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function AP(e,t,n){const r=nP(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new CP(r,"GET",TP(e,n),i);return o.errorHandler=NP(t),o}function DP(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function OP(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=DP(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+EP(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=gP.getBlob(c,r,u);if(null===d)throw WR();const h={name:l.fullPath},f=nP(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new CP(f,"POST",TP(e,n),p);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=PP(t),m}class MP{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function LP(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){IP(!1)}return IP(!!n&&-1!==(t||["active"]).indexOf(n)),n}const FP=262144;function zP(e,t,n,r,i,o,s,a){const l=new MP(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new zR(jR.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(d,h);if(null===m)throw WR();const g=t.maxUploadRetryTime,v=new CP(n,"POST",(function(e,n){const i=LP(e,["active","final"]),s=l.current+u,a=r.size();let c;return c="final"===i?TP(t,o)(e,n):null,new MP(s,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=PP(e),v}const jP="running",ZP="paused",UP="success",BP="canceled",VP="error";function qP(e){switch(e){case"running":case"pausing":case"canceling":return jP;case"paused":return ZP;case"success":return UP;case"canceled":return BP;default:return VP}}class WP{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function HP(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let GP=null;class KP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ZR.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=ZR.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=ZR.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw QR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QR("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw QR("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw QR("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class QP extends KP{initXhr(){this.xhr_.responseType="text"}}function $P(){return GP?GP():new QP}class YP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=xP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(jR.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(iP(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=VR()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(jR.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=DP(t,r,i),a={name:s.fullPath},l=nP(o,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=EP(s,n),d=e.maxUploadRetryTime,h=new CP(l,"POST",(function(e){let t;LP(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){IP(!1)}return IP(XR(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=PP(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,$P,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new CP(n,"POST",(function(e){const t=LP(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){IP(!1)}n||IP(!1);const i=Number(n);return IP(!isNaN(i)),new MP(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=PP(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,$P,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=FP*this._chunkMultiplier,t=new MP(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=zP(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,$P,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(FP*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=AP(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,$P,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=OP(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,$P,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=qR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=qP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new WP(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(qP(this._state)){case UP:HP(this._resolve.bind(null,this.snapshot))();break;case BP:case VP:HP(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qP(this._state)){case jP:case ZP:e.next&&HP(e.next.bind(e,this.snapshot))();break;case UP:e.complete&&HP(e.complete.bind(e))();break;default:e.error&&HP(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class XP{constructor(e,t){this._service=e,this._location=t instanceof $R?t:$R.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new XP(e,t)}get root(){const e=new $R(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yP(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new $R(this._location.bucket,e);return new XP(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new zR(jR.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function JP(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=nP(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new CP(r,"GET",RP(e,n),i);return o.errorHandler=NP(t),o}(e.storage,e._location,xP());return e.storage.makeRequestWithTokens(t,$P).then((e=>{if(null===e)throw new zR(jR.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function eN(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new $R(e._location.bucket,n);return new XP(e.storage,r)}function tN(e,t){if(e instanceof iN){const n=e;if(null==n._bucket)throw new zR(jR.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FR+"' property when initializing the app?");const r=new XP(n,n._bucket);return null!=t?tN(r,t):r}return void 0!==t?eN(e,t):e}function nN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof iN)return new XP(e,t);throw HR("To use ref(service, url), the first argument must be a Storage instance.")}return tN(e,t)}function rN(e,t){const n=null===t||void 0===t?void 0:t[FR];return null==n?null:$R.makeFromBucketSpec(n,e)}class iN{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=LR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?$R.makeFromBucketSpec(r,this._host):rN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=$R.makeFromBucketSpec(this._url,e):this._bucket=rN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new XP(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new YR(GR());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=rP(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new oP(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const oN="@firebase/storage",sN="0.11.2",aN="storage";function lN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new YP(e,new gP(t),n)}(e=te(e),t,n)}function cN(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new iN(r,i,o,n,Ge)}Ue(new ne(aN,cN,"PUBLIC").setMultipleInstances(!0)),Xe(oN,sN,""),Xe(oN,sN,"esm2017");const uN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe(),t=arguments.length>1?arguments[1]:void 0;e=te(e);const n=Be(e,aN).getImmediate({identifier:t}),r=b("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:x(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(OR),dN=async()=>(await pv(Wm(MR,"locations-boutique"))).docs.map((e=>e.data())),hN=async e=>(await pv(Wm(MR,"bridge-mapping-details-boutique"))).docs.map((e=>e.data())).filter((t=>t.locationId===e)),fN=async()=>(await pv(Wm(MR,"assets-boutique"))).docs.map((e=>e.data())),pN=async()=>(await pv(Wm(MR,"categories-boutique"))).docs.map((e=>e.data())),mN=async e=>{const t=await pv(Vg(Wm(MR,"zone-mapping-boutique"),Wg("locationId","==",e)));if(!t.empty){const[e]=t.docs;return{id:e.id,...e.data()}}return null},gN=async e=>{var t,n;const r=lN((t=uN,n="zone-mapping-images/".concat(e.name),nN(t=te(t),n)),e);return new Promise(((e,t)=>{r.on("state_changed",null,(e=>{console.error("Error uploading image: ",e),t(e)}),(async()=>{const t=await function(e){return JP(e=te(e))}(r.snapshot.ref);e(t)}))}))},vN=e=>bv(Hm(MR,"appConfig","settings"),(t=>{const n=t.data();e(n?n.bucketSize:10)}));let yN=100;vN((e=>{yN=e}));var bN=n(7462),wN=n(4928),_N=n(6865);const xN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,wN.Z)(e,(0,bN.Z)({defaultTheme:_N.Z},t))};var SN=n(5987),kN=n(8182),EN=n(8317),CN=n(3108),IN=n(4164),TN=n.t(IN,2),RN=n(9806),PN=n(2216),NN=n(1175),AN=n(2982),DN=n(3366),ON=n(7326),MN=n(1721);const LN=t.createContext(null);function FN(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function zN(e,t,n){return null!=n[t]?n[t]:e.props[t]}function jN(e,n,r){var i=FN(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:zN(a,"exit",e),enter:zN(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:zN(a,"exit",e),enter:zN(a,"enter",e)})}})),o}var ZN=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},UN=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,ON.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,MN.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,FN(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:zN(e,"appear",r),enter:zN(e,"enter",r),exit:zN(e,"exit",r)})}))):jN(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=FN(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,bN.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,DN.Z)(e,["component","childFactory"]),o=this.state.contextValue,s=ZN(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(LN.Provider,{value:o},s):t.createElement(LN.Provider,{value:o},t.createElement(n,i,s))},n}(t.Component);UN.propTypes={},UN.defaultProps={component:"div",childFactory:function(e){return e}};const BN=UN;var VN="undefined"===typeof window?t.useEffect:t.useLayoutEffect;const qN=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,o=e.rippleX,s=e.rippleY,a=e.rippleSize,l=e.in,c=e.onExited,u=void 0===c?function(){}:c,d=e.timeout,h=t.useState(!1),f=h[0],p=h[1],m=(0,kN.default)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),g={width:a,height:a,top:-a/2+s,left:-a/2+o},v=(0,kN.default)(n.child,f&&n.childLeaving,i&&n.childPulsate),y=(0,PN.Z)(u);return VN((function(){if(!l){p(!0);var e=setTimeout(y,d);return function(){clearTimeout(e)}}}),[y,l,d]),t.createElement("span",{className:m,style:g},t.createElement("span",{className:v}))};var WN=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,o=e.classes,s=e.className,a=(0,SN.Z)(e,["center","classes","className"]),l=t.useState([]),c=l[0],u=l[1],d=t.useRef(0),h=t.useRef(null);t.useEffect((function(){h.current&&(h.current(),h.current=null)}),[c]);var f=t.useRef(!1),p=t.useRef(null),m=t.useRef(null),g=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var v=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,s=e.rippleSize,a=e.cb;u((function(e){return[].concat((0,AN.Z)(e),[t.createElement(qN,{key:d.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:s})])})),d.current+=1,h.current=a}),[o]),y=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,s=t.center,a=void 0===s?i||t.pulsate:s,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&f.current)f.current=!1;else{"touchstart"===e.type&&(f.current=!0);var u,d,h,y=c?null:g.current,b=y?y.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(b.width/2),d=Math.round(b.height/2);else{var w=e.touches?e.touches[0]:e,_=w.clientX,x=w.clientY;u=Math.round(_-b.left),d=Math.round(x-b.top)}if(a)(h=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(h+=1);else{var S=2*Math.max(Math.abs((y?y.clientWidth:0)-u),u)+2,k=2*Math.max(Math.abs((y?y.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(S,2)+Math.pow(k,2))}e.touches?null===m.current&&(m.current=function(){v({pulsate:o,rippleX:u,rippleY:d,rippleSize:h,cb:n})},p.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):v({pulsate:o,rippleX:u,rippleY:d,rippleSize:h,cb:n})}}),[i,v]),b=t.useCallback((function(){y({},{pulsate:!0})}),[y]),w=t.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(p.current=setTimeout((function(){w(e,t)})));m.current=null,u((function(e){return e.length>0?e.slice(1):e})),h.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:b,start:y,stop:w}}),[b,y,w]),t.createElement("span",(0,bN.Z)({className:(0,kN.default)(o.root,s),ref:g},a),t.createElement(BN,{component:null,exit:!0},c))}));const HN=(0,EN.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(WN));var GN=t.forwardRef((function(e,n){var r=e.action,i=e.buttonRef,o=e.centerRipple,s=void 0!==o&&o,a=e.children,l=e.classes,c=e.className,u=e.component,d=void 0===u?"button":u,h=e.disabled,f=void 0!==h&&h,p=e.disableRipple,m=void 0!==p&&p,g=e.disableTouchRipple,v=void 0!==g&&g,y=e.focusRipple,b=void 0!==y&&y,w=e.focusVisibleClassName,_=e.onBlur,x=e.onClick,S=e.onFocus,k=e.onFocusVisible,E=e.onKeyDown,C=e.onKeyUp,I=e.onMouseDown,T=e.onMouseLeave,R=e.onMouseUp,P=e.onTouchEnd,N=e.onTouchMove,A=e.onTouchStart,D=e.onDragLeave,O=e.tabIndex,M=void 0===O?0:O,L=e.TouchRippleProps,F=e.type,z=void 0===F?"button":F,j=(0,SN.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Z=t.useRef(null);var U=t.useRef(null),B=t.useState(!1),V=B[0],q=B[1];f&&V&&q(!1);var W=(0,NN.Z)(),H=W.isFocusVisible,G=W.onBlurVisible,K=W.ref;function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return(0,PN.Z)((function(r){return t&&t(r),!n&&U.current&&U.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){q(!0),Z.current.focus()}}}),[]),t.useEffect((function(){V&&b&&!m&&U.current.pulsate()}),[m,b,V]);var $=Q("start",I),Y=Q("stop",D),X=Q("stop",R),J=Q("stop",(function(e){V&&e.preventDefault(),T&&T(e)})),ee=Q("start",A),te=Q("stop",P),ne=Q("stop",N),re=Q("stop",(function(e){V&&(G(e),q(!1)),_&&_(e)}),!1),ie=(0,PN.Z)((function(e){Z.current||(Z.current=e.currentTarget),H(e)&&(q(!0),k&&k(e)),S&&S(e)})),oe=function(){var e=IN.findDOMNode(Z.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},se=t.useRef(!1),ae=(0,PN.Z)((function(e){b&&!se.current&&V&&U.current&&" "===e.key&&(se.current=!0,e.persist(),U.current.stop(e,(function(){U.current.start(e)}))),e.target===e.currentTarget&&oe()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&oe()&&"Enter"===e.key&&!f&&(e.preventDefault(),x&&x(e))})),le=(0,PN.Z)((function(e){b&&" "===e.key&&U.current&&V&&!e.defaultPrevented&&(se.current=!1,e.persist(),U.current.stop(e,(function(){U.current.pulsate(e)}))),C&&C(e),x&&e.target===e.currentTarget&&oe()&&" "===e.key&&!e.defaultPrevented&&x(e)})),ce=d;"button"===ce&&j.href&&(ce="a");var ue={};"button"===ce?(ue.type=z,ue.disabled=f):("a"===ce&&j.href||(ue.role="button"),ue["aria-disabled"]=f);var de=(0,RN.Z)(i,n),he=(0,RN.Z)(K,Z),fe=(0,RN.Z)(de,he),pe=t.useState(!1),me=pe[0],ge=pe[1];t.useEffect((function(){ge(!0)}),[]);var ve=me&&!m&&!f;return t.createElement(ce,(0,bN.Z)({className:(0,kN.default)(l.root,c,V&&[l.focusVisible,w],f&&l.disabled),onBlur:re,onClick:x,onFocus:ie,onKeyDown:ae,onKeyUp:le,onMouseDown:$,onMouseLeave:J,onMouseUp:X,onDragLeave:Y,onTouchEnd:te,onTouchMove:ne,onTouchStart:ee,ref:fe,tabIndex:f?-1:M},ue,j),a,ve?t.createElement(HN,(0,bN.Z)({ref:U,center:s},L)):null)}));const KN=(0,EN.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(GN);var QN=n(5336),$N=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.color,a=void 0===s?"default":s,l=e.component,c=void 0===l?"button":l,u=e.disabled,d=void 0!==u&&u,h=e.disableElevation,f=void 0!==h&&h,p=e.disableFocusRipple,m=void 0!==p&&p,g=e.endIcon,v=e.focusVisibleClassName,y=e.fullWidth,b=void 0!==y&&y,w=e.size,_=void 0===w?"medium":w,x=e.startIcon,S=e.type,k=void 0===S?"button":S,E=e.variant,C=void 0===E?"text":E,I=(0,SN.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),T=x&&t.createElement("span",{className:(0,kN.default)(i.startIcon,i["iconSize".concat((0,QN.Z)(_))])},x),R=g&&t.createElement("span",{className:(0,kN.default)(i.endIcon,i["iconSize".concat((0,QN.Z)(_))])},g);return t.createElement(KN,(0,bN.Z)({className:(0,kN.default)(i.root,i[C],o,"inherit"===a?i.colorInherit:"default"!==a&&i["".concat(C).concat((0,QN.Z)(a))],"medium"!==_&&[i["".concat(C,"Size").concat((0,QN.Z)(_))],i["size".concat((0,QN.Z)(_))]],f&&i.disableElevation,d&&i.disabled,b&&i.fullWidth),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:(0,kN.default)(i.focusVisible,v),ref:n,type:k},I),t.createElement("span",{className:i.label},T,r,R))}));const YN=(0,EN.Z)((function(e){return{root:(0,bN.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,CN.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,CN.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,CN.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,CN.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,CN.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,CN.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,CN.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})($N);var XN=44,JN=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.color,s=void 0===o?"primary":o,a=e.disableShrink,l=void 0!==a&&a,c=e.size,u=void 0===c?40:c,d=e.style,h=e.thickness,f=void 0===h?3.6:h,p=e.value,m=void 0===p?0:p,g=e.variant,v=void 0===g?"indeterminate":g,y=(0,SN.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),b={},w={},_={};if("determinate"===v||"static"===v){var x=2*Math.PI*((XN-f)/2);b.strokeDasharray=x.toFixed(3),_["aria-valuenow"]=Math.round(m),b.strokeDashoffset="".concat(((100-m)/100*x).toFixed(3),"px"),w.transform="rotate(-90deg)"}return t.createElement("div",(0,bN.Z)({className:(0,kN.default)(r.root,i,"inherit"!==s&&r["color".concat((0,QN.Z)(s))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[v]),style:(0,bN.Z)({width:u,height:u},w,d),ref:n,role:"progressbar"},_,y),t.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(XN," ").concat(XN)},t.createElement("circle",{className:(0,kN.default)(r.circle,l&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[v]),style:b,cx:XN,cy:XN,r:(XN-f)/2,fill:"none",strokeWidth:f})))}));const eA=(0,EN.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(JN);var tA=n(7107);const nA=(0,tA.Z)({palette:{primary:{main:"#ff9900"},secondary:{main:"#232f3e",light:"#232f3e"},success:{main:"#30BE0D"}}});var rA=n(184);const iA=xN((()=>({input:{display:"none"},uploadBtn:{margin:nA.spacing(1),backgroundColor:nA.palette.secondary.main,color:"#fff"}})));const oA=function(e){let{handleImageUpload:t,isUploading:n}=e;const r=iA();return(0,rA.jsxs)("div",{style:{textAlign:"center"},children:[(0,rA.jsx)("input",{className:r.input,accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:t}),(0,rA.jsx)("label",{htmlFor:"contained-button-file",children:(0,rA.jsx)(YN,{variant:"contained",component:"span",size:"large",className:r.uploadBtn,disabled:n,children:n?(0,rA.jsx)(eA,{size:24,color:"primary"}):"Upload Floor Plan Image"})})]})},sA=e=>{const[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(null);(0,t.useEffect)((()=>{e&&r(e)}),[e]);return{zones:n,setZones:r,selectedZone:i,setSelectedZone:o,removeRectFromSelectedZone:()=>{if(!i)return;const e={...i,rect:null},t=n.findIndex((e=>e.name===i.name)),s=[...n];s[t]=e,r(s),o(e)},editSelectedZone:e=>{if(!i||!e)return;const t={...i,name:e},s=n.findIndex((e=>e.name===i.name)),a=[...n];a[s]=t,r(a),o(t)}}};var aA=n(6934);const lA=t.createContext(null);function cA(){return t.useContext(lA)}const uA="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const dA=function(e){const{children:n,theme:r}=e,i=cA(),o=t.useMemo((()=>{const e=null===i?r:function(e,t){if("function"===typeof t)return t(e);return(0,bN.Z)({},e,t)}(i,r);return null!=e&&(e[uA]=null!==i),e}),[r,i]);return(0,rA.jsx)(lA.Provider,{value:o,children:n})};var hA=n(2564),fA=n(9120);const pA={};function mA(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo((()=>{const t=e&&n[e]||n;if("function"===typeof r){const o=r(t),s=e?(0,bN.Z)({},n,{[e]:o}):o;return i?()=>s:s}return e?(0,bN.Z)({},n,{[e]:r}):(0,bN.Z)({},n,r)}),[e,n,r,i])}const gA=function(e){const{children:t,theme:n,themeId:r}=e,i=(0,fA.Z)(pA),o=cA()||pA,s=mA(r,i,n),a=mA(r,o,n,!0);return(0,rA.jsx)(dA,{theme:a,children:(0,rA.jsx)(hA.T.Provider,{value:s,children:t})})};var vA=n(988);const yA=["theme"];function bA(e){let{theme:t}=e,n=(0,DN.Z)(e,yA);const r=t[vA.Z];return(0,rA.jsx)(gA,(0,bN.Z)({},n,{themeId:r?vA.Z:void 0,theme:r||t}))}var wA=n(1402),_A=n(5438),xA=n(2561),SA=n(5207),kA=(n(3361),n(2110)),EA=n.n(kA),CA=(0,hA.w)((function(e,n){var r=e.styles,i=(0,SA.O)([r],void 0,t.useContext(hA.T));if(!hA.i){for(var o,s=i.name,a=i.styles,l=i.next;void 0!==l;)s+=" "+l.name,a+=l.styles,l=l.next;var c=!0===n.compat,u=n.insert("",{name:s,styles:a},n.sheet,c);return c?null:t.createElement("style",((o={})["data-emotion"]=n.key+"-global "+s,o.dangerouslySetInnerHTML={__html:u},o.nonce=n.sheet.nonce,o))}var d=t.useRef();return(0,xA.j)((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),d.current=[t,r],function(){t.flush()}}),[n]),(0,xA.j)((function(){var e=d.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,_A.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function IA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,SA.O)(t)}var TA=function(){var e=IA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function RA(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,rA.jsx)(CA,{styles:r})}var PA=n(418);const NA=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=(0,PA.Z)(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,rA.jsx)(RA,{styles:o})};var AA=n(6482);const DA=function(e){return(0,rA.jsx)(NA,(0,bN.Z)({},e,{defaultTheme:AA.Z,themeId:vA.Z}))},OA=(e,t)=>(0,bN.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),MA=e=>(0,bN.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const LA=function(e){const n=(0,wA.Z)({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=n;return(0,rA.jsxs)(t.Fragment,{children:[(0,rA.jsx)(DA,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,i]=t;var o;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(o=i.palette)?void 0:o.mode}}));let i=(0,bN.Z)({html:OA(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,bN.Z)({margin:0},MA(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(i=[i,o]),i}(e,i)}),r]})};var FA=n(9278),zA=n(4419),jA=n(6117);function ZA(e){return"string"===typeof e}function UA(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=UA(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const BA=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=UA(e))&&(r&&(r+=" "),r+=t);return r};function VA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function qA(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const WA=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function HA(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=(0,DN.Z)(e,WA),a=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=BA(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,bN.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,bN.Z)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=VA((0,bN.Z)({},i,r)),a=qA(r),l=qA(i),c=t(s),u=BA(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,bN.Z)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,bN.Z)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}((0,bN.Z)({},s,{externalSlotProps:a})),u=(0,jA.Z)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||ZA(e)?t:(0,bN.Z)({},t,{ownerState:(0,bN.Z)({},t.ownerState,n)})}(n,(0,bN.Z)({},l,{ref:u}),i);return d}var GA=n(4913),KA=n(7054),QA=n(8949),$A=n(5202);function YA(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function XA(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function JA(e){return parseInt((0,$A.Z)(e).getComputedStyle(e).paddingRight,10)||0}function eD(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&XA(e,i)}))}function tD(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function nD(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,GA.Z)(e);return t.body===e?(0,$A.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=YA((0,GA.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(JA(r)+e,"px");const t=(0,GA.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(JA(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,GA.Z)(r).body;else{const t=r.parentElement,n=(0,$A.Z)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const rD=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&XA(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);eD(t,e.mount,e.modalRef,r,!0);const i=tD(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=tD(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=nD(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=tD(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&XA(e.modalRef,t),eD(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&XA(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function iD(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=rD,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,f=t.useRef({}),p=t.useRef(null),m=t.useRef(null),g=(0,jA.Z)(m,h),[v,y]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),x=()=>{o.mount(_(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},S=(0,KA.Z)((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||(0,GA.Z)(p.current).body;o.add(_(),e),m.current&&x()})),k=t.useCallback((()=>o.isTopModal(_())),[o]),E=(0,KA.Z)((e=>{p.current=e,e&&(d&&k()?x():m.current&&XA(m.current,w))})),C=t.useCallback((()=>{o.remove(_(),w)}),[w,o]);t.useEffect((()=>()=>{C()}),[C]),t.useEffect((()=>{d?S():b&&s||C()}),[d,C,b,s,S]);const I=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=VA(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,bN.Z)({},n,t);return(0,bN.Z)({role:"presentation"},r,{onKeyDown:I(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,bN.Z)({"aria-hidden":!0},e,{onClick:T(e),open:d})},getTransitionProps:()=>({onEnter:(0,QA.Z)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,QA.Z)((()=>{y(!0),l&&l(),s&&C()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:E,isTopModal:k,exited:v,hasTransition:b}}const oD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sD(e){const t=[],n=[];return Array.from(e.querySelectorAll(oD)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function aD(){return!0}function lD(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=sD,isEnabled:a=aD,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=(0,jA.Z)(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,GA.Z)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,GA.Z)(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,rA.jsxs)(t.Fragment,{children:[(0,rA.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,rA.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var cD=n(2876),uD=n(2971);const dD=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=t.useState(null),l=(0,jA.Z)(t.isValidElement(r)?r.ref:null,n);if((0,cD.Z)((()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,cD.Z)((()=>{if(s&&!o)return(0,uD.Z)(n,s),()=>{(0,uD.Z)(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,rA.jsx)(t.Fragment,{children:r})}return(0,rA.jsx)(t.Fragment,{children:s?IN.createPortal(r,s):s})}));const hD=!1;var fD="unmounted",pD="exited",mD="entering",gD="entered",vD="exiting",yD=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=pD,r.appearStatus=mD):i=gD:i=t.unmountOnExit||t.mountOnEnter?fD:pD,r.state={status:i},r.nextCallback=null,r}(0,MN.Z)(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===fD?{status:pD}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==mD&&n!==gD&&(t=mD):n!==mD&&n!==gD||(t=vD)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===mD){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:IN.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pD&&this.setState({status:fD})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[IN.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||hD?this.safeSetState({status:gD},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:mD},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:gD},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:IN.findDOMNode(this);t&&!hD?(this.props.onExit(r),this.safeSetState({status:vD},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:pD},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:pD},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:IN.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===fD)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,DN.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(LN.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function bD(){}yD.contextType=LN,yD.propTypes={},yD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bD,onEntering:bD,onEntered:bD,onExit:bD,onExiting:bD,onExited:bD},yD.UNMOUNTED=fD,yD.EXITED=pD,yD.ENTERING=mD,yD.ENTERED=gD,yD.EXITING=vD;const wD=yD;function _D(){const e=(0,PA.Z)(AA.Z);return e[vA.Z]||e}const xD=e=>e.scrollTop;function SD(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var kD=n(2071);const ED=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],CD={entering:{opacity:1},entered:{opacity:1}},ID=t.forwardRef((function(e,n){const r=_D(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:v=i,TransitionComponent:y=wD}=e,b=(0,DN.Z)(e,ED),w=t.useRef(null),_=(0,kD.Z)(w,a.ref,n),x=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},S=x(h),k=x(((e,t)=>{xD(e);const n=SD({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)})),E=x(d),C=x(m),I=x((e=>{const t=SD({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),f&&f(e)})),T=x(p);return(0,rA.jsx)(y,(0,bN.Z)({appear:s,in:c,nodeRef:w,onEnter:k,onEntered:E,onEntering:S,onExit:I,onExited:T,onExiting:C,addEndListener:e=>{o&&o(w.current,e)},timeout:v},b,{children:(e,n)=>t.cloneElement(a,(0,bN.Z)({style:(0,bN.Z)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},CD[e],g,a.props.style),ref:_},n))}))})),TD=ID;var RD=n(5878),PD=n(1217);function ND(e){return(0,PD.Z)("MuiBackdrop",e)}(0,RD.Z)("MuiBackdrop",["root","invisible"]);const AD=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],DD=(0,aA.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),OD=t.forwardRef((function(e,t){var n,r,i;const o=(0,wA.Z)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=TD,transitionDuration:g}=o,v=(0,DN.Z)(o,AD),y=(0,bN.Z)({},o,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,zA.Z)(r,ND,t)})(y),w=null!=(n=f.root)?n:u.root;return(0,rA.jsx)(m,(0,bN.Z)({in:h,timeout:g},v,{children:(0,rA.jsx)(DD,(0,bN.Z)({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:(0,FA.Z)(b.root,a,null==w?void 0:w.className),ownerState:(0,bN.Z)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:s}))}))})),MD=OD;function LD(e){return(0,PD.Z)("MuiModal",e)}(0,RD.Z)("MuiModal",["root","hidden","backdrop"]);const FD=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],zD=(0,aA.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),jD=(0,aA.ZP)(MD,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ZD=t.forwardRef((function(e,n){var r,i,o,s,a,l;const c=(0,wA.Z)({name:"MuiModal",props:e}),{BackdropComponent:u=jD,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:x=!1,disableRestoreFocus:S=!1,disableScrollLock:k=!1,hideBackdrop:E=!1,keepMounted:C=!1,onBackdropClick:I,open:T,slotProps:R,slots:P}=c,N=(0,DN.Z)(c,FD),A=(0,bN.Z)({},c,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:x,disableRestoreFocus:S,disableScrollLock:k,hideBackdrop:E,keepMounted:C}),{getRootProps:D,getBackdropProps:O,getTransitionProps:M,portalRef:L,isTopModal:F,exited:z,hasTransition:j}=iD((0,bN.Z)({},A,{rootRef:n})),Z=(0,bN.Z)({},A,{exited:z}),U=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,zA.Z)(i,LD,r)})(Z),B={};if(void 0===p.props.tabIndex&&(B.tabIndex="-1"),j){const{onEnter:e,onExited:t}=M();B.onEnter=e,B.onExited=t}const V=null!=(r=null!=(i=null==P?void 0:P.root)?i:v.Root)?r:zD,q=null!=(o=null!=(s=null==P?void 0:P.backdrop)?s:v.Backdrop)?o:u,W=null!=(a=null==R?void 0:R.root)?a:y.root,H=null!=(l=null==R?void 0:R.backdrop)?l:y.backdrop,G=HA({elementType:V,externalSlotProps:W,externalForwardedProps:N,getSlotProps:D,additionalProps:{ref:n,as:g},ownerState:Z,className:(0,FA.Z)(h,null==W?void 0:W.className,null==U?void 0:U.root,!Z.open&&Z.exited&&(null==U?void 0:U.hidden))}),K=HA({elementType:q,externalSlotProps:H,additionalProps:d,getSlotProps:e=>O((0,bN.Z)({},e,{onClick:t=>{I&&I(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,FA.Z)(null==H?void 0:H.className,null==d?void 0:d.className,null==U?void 0:U.backdrop),ownerState:Z});return C||T||j&&!z?(0,rA.jsx)(dD,{ref:L,container:m,disablePortal:x,children:(0,rA.jsxs)(V,(0,bN.Z)({},G,{children:[!E&&u?(0,rA.jsx)(q,(0,bN.Z)({},K)):null,(0,rA.jsx)(lD,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:S,isEnabled:F,open:T,children:t.cloneElement(p,B)})]}))}):null})),UD=ZD;var BD=n(3070),VD=n(7602);const qD=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function WD(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=(0,VD.Z)(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+a-r.left:o.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:o.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const HD=t.forwardRef((function(e,n){const r=_D(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:f,onEntered:p,onEntering:m,onExit:g,onExited:v,onExiting:y,style:b,timeout:w=o,TransitionComponent:_=wD}=e,x=(0,DN.Z)(e,qD),S=t.useRef(null),k=(0,kD.Z)(l.ref,S,n),E=e=>t=>{e&&(void 0===t?e(S.current):e(S.current,t))},C=E(((e,t)=>{WD(u,e,c),xD(e),f&&f(e,t)})),I=E(((e,t)=>{const n=SD({timeout:w,style:b,easing:d},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,bN.Z)({},n)),e.style.transition=r.transitions.create("transform",(0,bN.Z)({},n)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),T=E(p),R=E(y),P=E((e=>{const t=SD({timeout:w,style:b,easing:d},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),WD(u,e,c),g&&g(e)})),N=E((e=>{e.style.webkitTransition="",e.style.transition="",v&&v(e)})),A=t.useCallback((()=>{S.current&&WD(u,S.current,c)}),[u,c]);return t.useEffect((()=>{if(h||"down"===u||"right"===u)return;const e=(0,BD.Z)((()=>{S.current&&WD(u,S.current,c)})),t=(0,VD.Z)(S.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,h,c]),t.useEffect((()=>{h||A()}),[h,A]),(0,rA.jsx)(_,(0,bN.Z)({nodeRef:S,onEnter:C,onEntered:T,onEntering:I,onExit:P,onExited:N,onExiting:R,addEndListener:e=>{s&&s(S.current,e)},appear:a,in:h,timeout:w},x,{children:(e,n)=>t.cloneElement(l,(0,bN.Z)({ref:k,style:(0,bN.Z)({visibility:"exited"!==e||h?void 0:"hidden"},b,l.props.style)},n))}))})),GD=HD;var KD=n(2065);const QD=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function $D(e){return(0,PD.Z)("MuiPaper",e)}(0,RD.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const YD=["className","component","elevation","square","variant"],XD=(0,aA.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,bN.Z)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,bN.Z)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,KD.Fq)("#fff",QD(n.elevation)),", ").concat((0,KD.Fq)("#fff",QD(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),JD=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=(0,DN.Z)(n,YD),c=(0,bN.Z)({},n,{component:i,elevation:o,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,zA.Z)(o,$D,i)})(c);return(0,rA.jsx)(XD,(0,bN.Z)({as:i,ownerState:c,className:(0,FA.Z)(u.root,r),ref:t},l))})),eO=JD;var tO=n(4036);function nO(e){return(0,PD.Z)("MuiDrawer",e)}(0,RD.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const rO=["BackdropProps"],iO=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],oO=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},sO=(0,aA.ZP)(UD,{name:"MuiDrawer",slot:"Root",overridesResolver:oO})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),aO=(0,aA.ZP)("div",{shouldForwardProp:aA.FO,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:oO})({flex:"0 0 auto"}),lO=(0,aA.ZP)(eO,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat((0,tO.Z)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,tO.Z)(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),cO={left:"right",right:"left",top:"down",bottom:"up"};const uO=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiDrawer"}),i=_D(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:a,children:l,className:c,elevation:u=16,hideBackdrop:d=!1,ModalProps:{BackdropProps:h}={},onClose:f,open:p=!1,PaperProps:m={},SlideProps:g,TransitionComponent:v=GD,transitionDuration:y=o,variant:b="temporary"}=r,w=(0,DN.Z)(r.ModalProps,rO),_=(0,DN.Z)(r,iO),x=t.useRef(!1);t.useEffect((()=>{x.current=!0}),[]);const S=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?cO[t]:t}(i,s),k=s,E=(0,bN.Z)({},r,{anchor:k,elevation:u,open:p,variant:b},_),C=(e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,tO.Z)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,tO.Z)(n))]};return(0,zA.Z)(i,nO,t)})(E),I=(0,rA.jsx)(lO,(0,bN.Z)({elevation:"temporary"===b?u:0,square:!0},m,{className:(0,FA.Z)(C.paper,m.className),ownerState:E,children:l}));if("permanent"===b)return(0,rA.jsx)(aO,(0,bN.Z)({className:(0,FA.Z)(C.root,C.docked,c),ownerState:E,ref:n},_,{children:I}));const T=(0,rA.jsx)(v,(0,bN.Z)({in:p,direction:cO[S],timeout:y,appear:x.current},g,{children:I}));return"persistent"===b?(0,rA.jsx)(aO,(0,bN.Z)({className:(0,FA.Z)(C.root,C.docked,c),ownerState:E,ref:n},_,{children:T})):(0,rA.jsx)(sO,(0,bN.Z)({BackdropProps:(0,bN.Z)({},a,h,{transitionDuration:y}),className:(0,FA.Z)(C.root,C.modal,c),open:p,ownerState:E,onClose:f,hideBackdrop:d,ref:n},_,w,{children:T}))})),dO=uO;function hO(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=hO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const fO=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=hO(e))&&(r&&(r+=" "),r+=t);return r};var pO=n(2421),mO=n(104),gO=n(2466),vO=n(7416);const yO=["sx"],bO=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:vO.Z;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function wO(e){const{sx:t}=e,n=(0,DN.Z)(e,yO),{systemProps:r,otherProps:i}=bO(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,gO.P)(e)?(0,bN.Z)({},r,e):r}:(0,bN.Z)({},r,t),(0,bN.Z)({},i,{sx:o})}const _O=["className","component"];var xO=n(5902);const SO=(0,RD.Z)("MuiBox",["root"]),kO=(0,tA.Z)(),EO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,s=(0,pO.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(mO.Z),a=t.forwardRef((function(e,t){const a=(0,PA.Z)(r),l=wO(e),{className:c,component:u="div"}=l,d=(0,DN.Z)(l,_O);return(0,rA.jsx)(s,(0,bN.Z)({as:u,ref:t,className:fO(c,o?o(i):i),theme:n&&a[n]||a},d))}));return a}({themeId:vA.Z,defaultTheme:kO,defaultClassName:SO.root,generateClassName:xO.Z.generate}),CO=EO;function IO(e){return(0,PD.Z)("MuiAppBar",e)}(0,RD.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const TO=["className","color","enableColorOnDark","position"],RO=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,PO=(0,aA.ZP)(eO,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,tO.Z)(n.position))],t["color".concat((0,tO.Z)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,bN.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,bN.Z)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,bN.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,bN.Z)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:RO(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:RO(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:RO(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:RO(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),NO=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:s="fixed"}=n,a=(0,DN.Z)(n,TO),l=(0,bN.Z)({},n,{color:i,position:s,enableColorOnDark:o}),c=(e=>{const{color:t,position:n,classes:r}=e,i={root:["root","color".concat((0,tO.Z)(t)),"position".concat((0,tO.Z)(n))]};return(0,zA.Z)(i,IO,r)})(l);return(0,rA.jsx)(PO,(0,bN.Z)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,FA.Z)(c.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))})),AO=NO;function DO(e){return(0,PD.Z)("MuiToolbar",e)}(0,RD.Z)("MuiToolbar",["root","gutters","regular","dense"]);const OO=["className","component","disableGutters","variant"],MO=(0,aA.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),LO=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:s="regular"}=n,a=(0,DN.Z)(n,OO),l=(0,bN.Z)({},n,{component:i,disableGutters:o,variant:s}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,i={root:["root",!n&&"gutters",r]};return(0,zA.Z)(i,DO,t)})(l);return(0,rA.jsx)(MO,(0,bN.Z)({as:i,className:(0,FA.Z)(c.root,r),ref:t,ownerState:l},a))})),FO=LO;function zO(e){return(0,PD.Z)("MuiDivider",e)}const jO=(0,RD.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),ZO=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],UO=(0,aA.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,KD.Fq)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,bN.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{ownerState:t}=e;return(0,bN.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),BO=(0,aA.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),VO=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,component:s=(i?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth"}=n,f=(0,DN.Z)(n,ZO),p=(0,bN.Z)({},n,{absolute:r,component:s,flexItem:a,light:l,orientation:c,role:u,textAlign:d,variant:h}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,zA.Z)(c,zO,r)})(p);return(0,rA.jsx)(UO,(0,bN.Z)({as:s,className:(0,FA.Z)(m.root,o),role:u,ref:t,ownerState:p},f,{children:i?(0,rA.jsx)(BO,{className:m.wrapper,ownerState:p,children:i}):null}))}));VO.muiSkipListHighlight=!0;const qO=VO;var WO=n(9683),HO=n(3031);function GO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const KO=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),f=(0,FA.Z)(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},m=(0,FA.Z)(r.child,d&&r.childLeaving,i&&r.childPulsate);return l||d||h(!0),t.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,rA.jsx)("span",{className:f,style:p,children:(0,rA.jsx)("span",{className:m})})};const QO=(0,RD.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var $O,YO,XO,JO;const eM=["center","classes","className"];let tM,nM,rM,iM;const oM=TA(tM||(tM=$O||($O=GO(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),sM=TA(nM||(nM=YO||(YO=GO(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),aM=TA(rM||(rM=XO||(XO=GO(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),lM=(0,aA.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cM=(0,aA.ZP)(KO,{name:"MuiTouchRipple",slot:"Ripple"})(iM||(iM=JO||(JO=GO(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),QO.rippleVisible,oM,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),QO.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),QO.child,QO.childLeaving,sM,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),QO.childPulsate,aM,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),uM=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=(0,DN.Z)(r,eM),[l,c]=t.useState([]),u=t.useRef(0),d=t.useRef(null);t.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=t.useRef(!1),f=t.useRef(0),p=t.useRef(null),m=t.useRef(null);t.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const g=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,rA.jsx)(cM,{classes:{ripple:(0,FA.Z)(o.ripple,QO.ripple),rippleVisible:(0,FA.Z)(o.rippleVisible,QO.rippleVisible),ripplePulsate:(0,FA.Z)(o.ripplePulsate,QO.ripplePulsate),child:(0,FA.Z)(o.child,QO.child),childLeaving:(0,FA.Z)(o.childLeaving,QO.childLeaving),childPulsate:(0,FA.Z)(o.childPulsate,QO.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g]),y=t.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=t.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(f.current=setTimeout((()=>{b(e,t)})));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[]);return t.useImperativeHandle(n,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,rA.jsx)(lM,(0,bN.Z)({className:(0,FA.Z)(QO.root,o.root,s),ref:m},a,{children:(0,rA.jsx)(BN,{component:null,exit:!0,children:l})}))})),dM=uM;function hM(e){return(0,PD.Z)("MuiButtonBase",e)}const fM=(0,RD.Z)("MuiButtonBase",["root","disabled","focusVisible"]),pM=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],mM=(0,aA.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(fM.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),gM=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:_,onMouseDown:x,onMouseLeave:S,onMouseUp:k,onTouchEnd:E,onTouchMove:C,onTouchStart:I,tabIndex:T=0,TouchRippleProps:R,touchRippleRef:P,type:N}=r,A=(0,DN.Z)(r,pM),D=t.useRef(null),O=t.useRef(null),M=(0,kD.Z)(O,P),{isFocusVisibleRef:L,onFocus:F,onBlur:z,ref:j}=(0,HO.Z)(),[Z,U]=t.useState(!1);c&&Z&&U(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{U(!0),D.current.focus()}})),[]);const[B,V]=t.useState(!1);t.useEffect((()=>{V(!0)}),[]);const q=B&&!u&&!c;function W(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,WO.Z)((r=>{t&&t(r);return!n&&O.current&&O.current[e](r),!0}))}t.useEffect((()=>{Z&&h&&!u&&B&&O.current.pulsate()}),[u,h,Z,B]);const H=W("start",x),G=W("stop",g),K=W("stop",v),Q=W("stop",k),$=W("stop",(e=>{Z&&e.preventDefault(),S&&S(e)})),Y=W("start",I),X=W("stop",E),J=W("stop",C),ee=W("stop",(e=>{z(e),!1===L.current&&U(!1),p&&p(e)}),!1),te=(0,WO.Z)((e=>{D.current||(D.current=e.currentTarget),F(e),!0===L.current&&(U(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=D.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=t.useRef(!1),ie=(0,WO.Z)((e=>{h&&!re.current&&Z&&O.current&&" "===e.key&&(re.current=!0,O.current.stop(e,(()=>{O.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=(0,WO.Z)((e=>{h&&" "===e.key&&O.current&&Z&&!e.defaultPrevented&&(re.current=!1,O.current.stop(e,(()=>{O.current.pulsate(e)}))),_&&_(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(A.href||A.to)&&(se=f);const ae={};"button"===se?(ae.type=void 0===N?"button":N,ae.disabled=c):(A.href||A.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,kD.Z)(n,j,D);const ce=(0,bN.Z)({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:T,focusVisible:Z}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,zA.Z)(o,hM,i);return n&&r&&(s.root+=" ".concat(r)),s})(ce);return(0,rA.jsxs)(mM,(0,bN.Z)({as:se,className:(0,FA.Z)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:H,onMouseLeave:$,onMouseUp:Q,onDragLeave:K,onTouchEnd:X,onTouchMove:J,onTouchStart:Y,ref:le,tabIndex:c?-1:T,type:N},ae,A,{children:[s,q?(0,rA.jsx)(dM,(0,bN.Z)({ref:M,center:o},R)):null]}))})),vM=gM;function yM(e){return(0,PD.Z)("MuiIconButton",e)}const bM=(0,RD.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),wM=["edge","children","className","color","disabled","disableFocusRipple","size"],_M=(0,aA.ZP)(vM,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,tO.Z)(n.color))],n.edge&&t["edge".concat((0,tO.Z)(n.edge))],t["size".concat((0,tO.Z)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,KD.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,bN.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,bN.Z)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,bN.Z)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,KD.Fq)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(bM.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),xM=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,DN.Z)(n,wM),d=(0,bN.Z)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,tO.Z)(r)),i&&"edge".concat((0,tO.Z)(i)),"size".concat((0,tO.Z)(o))]};return(0,zA.Z)(s,yM,t)})(d);return(0,rA.jsx)(_M,(0,bN.Z)({className:(0,FA.Z)(h.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t,ownerState:d},u,{children:i}))})),SM=xM;var kM=n(1009),EM=n(8996);const CM=e=>{let{logoWidth:t,logoHeight:n}=e;return(0,rA.jsx)(CO,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,rA.jsx)(CO,{component:"img",sx:{height:n||32,width:t||32,maxHeight:{xs:n||32,md:n||32},maxWidth:{xs:t||32,md:t||32},borderRadius:nA.spacing(1)},mr:1,alt:"Wiliot",src:"/img/logo/wiliot.png"})})};const IM=(0,n(4046).ZP)();var TM=n(6083),RM=n(5080),PM=n(1184),NM=n(5682);const AM=["component","direction","spacing","divider","children","className","useFlexGap"],DM=(0,RM.Z)(),OM=IM("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function MM(e){return(0,TM.Z)({props:e,name:"MuiStack",defaultTheme:DM})}function LM(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,i,o)=>(e.push(i),o<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(o)})),e)),[])}const FM=e=>{let{ownerState:t,theme:n}=e,r=(0,bN.Z)({display:"flex",flexDirection:"column"},(0,PM.k9)({theme:n},(0,PM.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,NM.hB)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,PM.P$)({values:t.direction,base:i}),s=(0,PM.P$)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,NM.NA)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,NM.NA)(e,n)}};var i};r=(0,gO.Z)(r,(0,PM.k9)({theme:n},s,a))}return r=(0,PM.dt)(n.breakpoints,r),r};const zM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=OM,useThemeProps:r=MM,componentName:i="MuiStack"}=e,o=n(FM),s=t.forwardRef((function(e,t){const n=wO(r(e)),{component:s="div",direction:a="column",spacing:l=0,divider:c,children:u,className:d,useFlexGap:h=!1}=n,f=(0,DN.Z)(n,AM),p={direction:a,spacing:l,useFlexGap:h},m=(0,zA.Z)({root:["root"]},(e=>(0,PD.Z)(i,e)),{});return(0,rA.jsx)(o,(0,bN.Z)({as:s,ownerState:p,ref:t,className:fO(m.root,d)},f,{children:c?LM(u,c):u}))}));return s}({createStyledComponent:(0,aA.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,wA.Z)({props:e,name:"MuiStack"})}),jM=zM;const ZM=t.createContext({});function UM(e){return(0,PD.Z)("MuiList",e)}(0,RD.Z)("MuiList",["root","padding","dense","subheader"]);const BM=["children","className","component","dense","disablePadding","subheader"],VM=(0,aA.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),qM=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=(0,DN.Z)(r,BM),d=t.useMemo((()=>({dense:a})),[a]),h=(0,bN.Z)({},r,{component:s,dense:a,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,zA.Z)(o,UM,t)})(h);return(0,rA.jsx)(ZM.Provider,{value:d,children:(0,rA.jsxs)(VM,(0,bN.Z)({as:s,className:(0,FA.Z)(f.root,o),ref:n,ownerState:h},u,{children:[c,i]}))})})),WM=qM;var HM=n(9103),GM=n(162);function KM(e){return(0,PD.Z)("MuiListItem",e)}const QM=(0,RD.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function $M(e){return(0,PD.Z)("MuiListItemButton",e)}const YM=(0,RD.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function XM(e){return(0,PD.Z)("MuiListItemSecondaryAction",e)}(0,RD.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);const JM=["className"],eL=(0,aA.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),tL=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=(0,DN.Z)(r,JM),s=t.useContext(ZM),a=(0,bN.Z)({},r,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,zA.Z)(r,XM,n)})(a);return(0,rA.jsx)(eL,(0,bN.Z)({className:(0,FA.Z)(l.root,i),ownerState:a,ref:n},o))}));tL.muiName="ListItemSecondaryAction";const nL=tL,rL=["className"],iL=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],oL=(0,aA.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,bN.Z)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{["& > .".concat(YM.root)]:{paddingRight:48}},{["&.".concat(QM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(QM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(QM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(QM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(QM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),sL=(0,aA.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),aL=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:p=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:b,secondaryAction:w,selected:_=!1,slotProps:x={},slots:S={}}=r,k=(0,DN.Z)(r.ContainerProps,rL),E=(0,DN.Z)(r,iL),C=t.useContext(ZM),I=t.useMemo((()=>({dense:p||C.dense||!1,alignItems:i,disableGutters:g})),[i,C.dense,p,g]),T=t.useRef(null);(0,GM.Z)((()=>{o&&T.current&&T.current.focus()}),[o]);const R=t.Children.toArray(a),P=R.length&&(0,HM.Z)(R[R.length-1],["ListItemSecondaryAction"]),N=(0,bN.Z)({},r,{alignItems:i,autoFocus:o,button:s,dense:I.dense,disabled:m,disableGutters:g,disablePadding:v,divider:y,hasSecondaryAction:P,selected:_}),A=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,zA.Z)(d,KM,r)})(N),D=(0,kD.Z)(T,n),O=S.root||u.Root||oL,M=x.root||d.root||{},L=(0,bN.Z)({className:(0,FA.Z)(A.root,M.className,l),disabled:m},E);let F=c||"li";return s&&(L.component=c||"div",L.focusVisibleClassName=(0,FA.Z)(QM.focusVisible,b),F=vM),P?(F=L.component||c?F:"div","li"===h&&("li"===F?F="div":"li"===L.component&&(L.component="div")),(0,rA.jsx)(ZM.Provider,{value:I,children:(0,rA.jsxs)(sL,(0,bN.Z)({as:h,className:(0,FA.Z)(A.container,f),ref:D,ownerState:N},k,{children:[(0,rA.jsx)(O,(0,bN.Z)({},M,!ZA(O)&&{as:F,ownerState:(0,bN.Z)({},N,M.ownerState)},L,{children:R})),R.pop()]}))})):(0,rA.jsx)(ZM.Provider,{value:I,children:(0,rA.jsxs)(O,(0,bN.Z)({},M,{as:F,ref:D},!ZA(O)&&{ownerState:(0,bN.Z)({},N,M.ownerState)},L,{children:[R,w&&(0,rA.jsx)(nL,{children:w})]}))})})),lL=aL,cL=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],uL=(0,aA.ZP)(vM,{shouldForwardProp:e=>(0,aA.FO)(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(YM.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(YM.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(YM.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(YM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(YM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),dL=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:f}=r,p=(0,DN.Z)(r,cL),m=t.useContext(ZM),g=t.useMemo((()=>({dense:l||m.dense||!1,alignItems:i,disableGutters:c})),[i,m.dense,l,c]),v=t.useRef(null);(0,GM.Z)((()=>{o&&v.current&&v.current.focus()}),[o]);const y=(0,bN.Z)({},r,{alignItems:i,dense:g.dense,disableGutters:c,divider:u,selected:h}),b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,l={root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},c=(0,zA.Z)(l,$M,n);return(0,bN.Z)({},n,c)})(y),w=(0,kD.Z)(v,n);return(0,rA.jsx)(ZM.Provider,{value:g,children:(0,rA.jsx)(uL,(0,bN.Z)({ref:w,href:p.href||p.to,component:(p.href||p.to)&&"div"===s?"button":s,focusVisibleClassName:(0,FA.Z)(b.focusVisible,d),ownerState:y,className:(0,FA.Z)(b.root,f)},p,{classes:b,children:a}))})})),hL=dL;function fL(e){return(0,PD.Z)("MuiListItemIcon",e)}const pL=(0,RD.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),mL=["className"],gL=(0,aA.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),vL=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=(0,DN.Z)(r,mL),s=t.useContext(ZM),a=(0,bN.Z)({},r,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,zA.Z)(r,fL,n)})(a);return(0,rA.jsx)(gL,(0,bN.Z)({className:(0,FA.Z)(l.root,i),ownerState:a,ref:n},o))})),yL=vL;function bL(e){return(0,PD.Z)("MuiTypography",e)}(0,RD.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const wL=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],_L=(0,aA.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,tO.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),xL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},SL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kL=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiTypography"}),r=(e=>SL[e]||e)(n.color),i=wO((0,bN.Z)({},n,{color:r})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=xL}=i,f=(0,DN.Z)(i,wL),p=(0,bN.Z)({},i,{align:o,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||xL[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&"align".concat((0,tO.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,zA.Z)(a,bL,s)})(p);return(0,rA.jsx)(_L,(0,bN.Z)({as:m,ref:t,ownerState:p,className:(0,FA.Z)(g.root,s)},f))})),EL=kL;function CL(e){return(0,PD.Z)("MuiListItemText",e)}const IL=(0,RD.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),TL=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],RL=(0,aA.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(IL.primary)]:t.primary},{["& .".concat(IL.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),PL=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,h=(0,DN.Z)(r,TL),{dense:f}=t.useContext(ZM);let p=null!=l?l:i,m=u;const g=(0,bN.Z)({},r,{disableTypography:s,inset:a,primary:!!p,secondary:!!m,dense:f}),v=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,zA.Z)(s,CL,t)})(g);return null==p||p.type===EL||s||(p=(0,rA.jsx)(EL,(0,bN.Z)({variant:f?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:p}))),null==m||m.type===EL||s||(m=(0,rA.jsx)(EL,(0,bN.Z)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,rA.jsxs)(RL,(0,bN.Z)({className:(0,FA.Z)(v.root,o),ownerState:g,ref:n},h,{children:[p,m]}))})),NL=PL;function AL(){return AL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AL.apply(this,arguments)}var DL;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(DL||(DL={}));const OL="popstate";function ML(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function LL(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function FL(e,t){return{usr:e.state,key:e.key,idx:t}}function zL(e,t,n,r){return void 0===n&&(n=null),AL({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ZL(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function jL(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ZL(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UL(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=DL.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){a=DL.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:jL(e);return ML(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(AL({},s.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(OL,d),l=e,()=>{i.removeEventListener(OL,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=DL.Push;let r=zL(f.location,e,t);n&&n(r,e),c=u()+1;let d=FL(r,c),h=f.createHref(r);try{s.pushState(d,"",h)}catch(wS){if(wS instanceof DOMException&&"DataCloneError"===wS.name)throw wS;i.location.assign(h)}o&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=DL.Replace;let r=zL(f.location,e,t);n&&n(r,e),c=u();let i=FL(r,c),d=f.createHref(r);s.replaceState(i,"",d),o&&l&&l({action:a,location:f.location,delta:0})},go:e=>s.go(e)};return f}var BL;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(BL||(BL={}));const VL=new Set(["lazy","caseSensitive","path","id","index","children"]);function qL(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,i],s="string"===typeof e.id?e.id:o.join("-");if(ML(!0!==e.index||!e.children,"Cannot specify children on an index route"),ML(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=AL({},e,t(e),{id:s});return r[s]=n,n}{let n=AL({},e,t(e),{id:s,children:void 0});return r[s]=n,e.children&&(n.children=qL(e.children,t,o,r)),n}}))}function WL(e,t,n){void 0===n&&(n="/");let r=oF(("string"===typeof t?ZL(t):t).pathname||"/",n);if(null==r)return null;let i=HL(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=nF(i[s],iF(r));return o}function HL(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(ML(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=cF([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(ML(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),HL(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:tF(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of GL(e.path))i(e,t,r);else i(e,t)})),t}function GL(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=GL(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const KL=/^:\w+$/,QL=3,$L=2,YL=1,XL=10,JL=-2,eF=e=>"*"===e;function tF(e,t){let n=e.split("/"),r=n.length;return n.some(eF)&&(r+=JL),t&&(r+=$L),n.filter((e=>!eF(e))).reduce(((e,t)=>e+(KL.test(t)?QL:""===t?YL:XL)),r)}function nF(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=rF({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:cF([i,c.pathname]),pathnameBase:uF(cF([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=cF([i,c.pathnameBase]))}return o}function rF(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);LL("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(wS){return LL(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+wS+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function iF(e){try{return decodeURI(e)}catch(wS){return LL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+wS+")."),e}}function oF(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function sF(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function aF(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function lF(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=ZL(e):(i=AL({},e),ML(!i.pathname||!i.pathname.includes("?"),sF("?","pathname","search",i)),ML(!i.pathname||!i.pathname.includes("#"),sF("#","pathname","hash",i)),ML(!i.search||!i.search.includes("#"),sF("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?ZL(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:dF(r),hash:hF(i)}}(i,o),c=a&&"/"!==a&&a.endsWith("/"),u=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const cF=e=>e.join("/").replace(/\/\/+/g,"/"),uF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dF=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",hF=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class fF{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function pF(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const mF=["post","put","patch","delete"],gF=new Set(mF),vF=["get",...mF],yF=new Set(vF),bF=new Set([301,302,303,307,308]),wF=new Set([307,308]),_F={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xF={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SF={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EF=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),CF="remix-router-transitions";function IF(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(ML(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=EF;let o,s={},a=qL(e.routes,i,void 0,s),l=e.basename||"/",c=AL({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),u=null,d=new Set,h=null,f=null,p=null,m=null!=e.hydrationData,g=WL(a,e.history.location,l),v=null;if(null==g){let t=qF(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=VF(a);g=n,v={[r.id]:t}}let y,b,w=!g.some((e=>e.route.lazy))&&(!g.some((e=>e.route.loader))||null!=e.hydrationData),_={historyAction:e.history.action,location:e.history.location,matches:g,initialized:w,navigation:_F,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},x=DL.Pop,S=!1,k=!1,E=new Map,C=null,I=!1,T=!1,R=[],P=[],N=new Map,A=0,D=-1,O=new Map,M=new Set,L=new Map,F=new Map,z=new Set,j=new Map,Z=new Map,U=!1;function B(e,t){void 0===t&&(t={}),_=AL({},_,e);let n=[],r=[];c.v7_fetcherPersist&&_.fetchers.forEach(((e,t)=>{"idle"===e.state&&(z.has(t)?r.push(t):n.push(t))})),[...d].forEach((e=>e(_,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),c.v7_fetcherPersist&&(n.forEach((e=>_.fetchers.delete(e))),r.forEach((e=>Y(e))))}function V(t,n,r){var i,s;let l,{flushSync:c}=void 0===r?{}:r,u=null!=_.actionData&&null!=_.navigation.formMethod&&XF(_.navigation.formMethod)&&"loading"===_.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?_.actionData:null;let d=n.loaderData?UF(_.loaderData,n.loaderData,n.matches||[],n.errors):_.loaderData,h=_.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,SF))));let f,p=!0===S||null!=_.navigation.formMethod&&XF(_.navigation.formMethod)&&!0!==(null==(s=t.state)?void 0:s._isRedirect);if(o&&(a=o,o=void 0),I||x===DL.Pop||(x===DL.Push?e.history.push(t,t.state):x===DL.Replace&&e.history.replace(t,t.state)),x===DL.Pop){let e=E.get(_.location.pathname);e&&e.has(t.pathname)?f={currentLocation:_.location,nextLocation:t}:E.has(t.pathname)&&(f={currentLocation:t,nextLocation:_.location})}else if(k){let e=E.get(_.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),E.set(_.location.pathname,e)),f={currentLocation:_.location,nextLocation:t}}B(AL({},n,{actionData:l,loaderData:d,historyAction:x,location:t,initialized:!0,navigation:_F,revalidation:"idle",restoreScrollPosition:ae(t,n.matches||_.matches),preventScrollReset:p,blockers:h}),{viewTransitionOpts:f,flushSync:!0===c}),x=DL.Pop,S=!1,k=!1,I=!1,T=!1,R=[],P=[]}async function q(t,n,r){b&&b.abort(),b=null,x=t,I=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(h&&p){let n=se(e,t);h[n]=p()}}(_.location,_.matches),S=!0===(r&&r.preventScrollReset),k=!0===(r&&r.enableViewTransition);let c=o||a,u=r&&r.overrideNavigation,d=WL(c,n,l),f=!0===(r&&r.flushSync);if(!d){let e=qF(404,{pathname:n.pathname}),{matches:t,route:r}=VF(c);return oe(),void V(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:f})}if(_.initialized&&!T&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(_.location,n)&&!(r&&r.submission&&XF(r.submission.formMethod)))return void V(n,{matches:d},{flushSync:f});b=new AbortController;let m,g,v=LF(e.history,n,b.signal,r&&r.submission);if(r&&r.pendingError)g={[BF(d).route.id]:r.pendingError};else if(r&&r.submission&&XF(r.submission.formMethod)){let e=await async function(e,t,n,r,o){void 0===o&&(o={});G();let a,c=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);B({navigation:c},{flushSync:!0===o.flushSync});let u=nz(r,t);if(u.route.action||u.route.lazy){if(a=await MF("action",e,u,r,s,i,l),e.signal.aborted)return{shortCircuited:!0}}else a={type:BL.error,error:qF(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(QF(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===_.location.pathname+_.location.search,await W(_,a,{submission:n,replace:e}),{shortCircuited:!0}}if(KF(a)){let e=BF(r,u.route.id);return!0!==(o&&o.replace)&&(x=DL.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(GF(a))throw qF(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:a.data}}}(v,n,r.submission,d,{replace:r.replace,flushSync:f});if(e.shortCircuited)return;m=e.pendingActionData,g=e.pendingActionError,u=iz(n,r.submission),f=!1,v=new Request(v.url,{signal:v.signal})}let{shortCircuited:y,loaderData:w,errors:E}=await async function(t,n,r,i,s,c,u,d,h,f){let p=i||iz(n,s),m=s||c||rz(p),g=o||a,[v,y]=NF(e.history,_,r,m,n,T,R,P,z,L,M,g,l,h,f);if(oe((e=>!(r&&r.some((t=>t.route.id===e)))||v&&v.some((t=>t.route.id===e)))),D=++A,0===v.length&&0===y.length){let e=ee();return V(n,AL({matches:r,loaderData:{},errors:f||null},h?{actionData:h}:{},e?{fetchers:new Map(_.fetchers)}:{}),{flushSync:d}),{shortCircuited:!0}}if(!I){y.forEach((e=>{let t=_.fetchers.get(e.key),n=oz(void 0,t?t.data:void 0);_.fetchers.set(e.key,n)}));let e=h||_.actionData;B(AL({navigation:p},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},y.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:d})}y.forEach((e=>{N.has(e.key)&&X(e.key),e.controller&&N.set(e.key,e.controller)}));let w=()=>y.forEach((e=>X(e.key)));b&&b.signal.addEventListener("abort",w);let{results:x,loaderResults:S,fetcherResults:k}=await H(_.matches,r,v,y,t);if(t.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",w);y.forEach((e=>N.delete(e.key)));let E=WF(x);if(E){if(E.idx>=v.length){let e=y[E.idx-v.length].key;M.add(e)}return await W(_,E.result,{replace:u}),{shortCircuited:!0}}let{loaderData:C,errors:O}=ZF(_,r,v,S,f,y,k,j);j.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&j.delete(t)}))}));let F=ee(),Z=te(D),U=F||Z||y.length>0;return AL({loaderData:C,errors:O},U?{fetchers:new Map(_.fetchers)}:{})}(v,n,d,u,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,f,m,g);y||(b=null,V(n,AL({matches:d},m?{actionData:m}:{},{loaderData:w,errors:E})))}async function W(r,i,o){let{submission:s,fetcherSubmission:a,replace:c}=void 0===o?{}:o;i.revalidate&&(T=!0);let u=zL(r.location,i.location,{_isRedirect:!0});if(ML(u,"Expected a location on the redirect navigation"),n){let n=!1;if(i.reloadDocument)n=!0;else if(kF.test(i.location)){const r=e.history.createURL(i.location);n=r.origin!==t.location.origin||null==oF(r.pathname,l)}if(n)return void(c?t.location.replace(i.location):t.location.assign(i.location))}b=null;let d=!0===c?DL.Replace:DL.Push,{formMethod:h,formAction:f,formEncType:p}=r.navigation;!s&&!a&&h&&f&&p&&(s=rz(r.navigation));let m=s||a;if(wF.has(i.status)&&m&&XF(m.formMethod))await q(d,u,{submission:AL({},m,{formAction:i.location}),preventScrollReset:S});else{let e=iz(u,s);await q(d,u,{overrideNavigation:e,fetcherSubmission:a,preventScrollReset:S})}}async function H(t,n,r,o,a){let c=await Promise.all([...r.map((e=>MF("loader",a,e,n,s,i,l))),...o.map((t=>{if(t.matches&&t.match&&t.controller)return MF("loader",LF(e.history,t.path,t.controller.signal),t.match,t.matches,s,i,l);return{type:BL.error,error:qF(404,{pathname:t.path})}}))]),u=c.slice(0,r.length),d=c.slice(r.length);return await Promise.all([JF(t,r,u,u.map((()=>a.signal)),!1,_.loaderData),JF(t,o.map((e=>e.match)),d,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:c,loaderResults:u,fetcherResults:d}}function G(){T=!0,R.push(...oe()),L.forEach(((e,t)=>{N.has(t)&&(P.push(t),X(t))}))}function K(e,t,n){void 0===n&&(n={}),_.fetchers.set(e,t),B({fetchers:new Map(_.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Q(e,t,n,r){void 0===r&&(r={});let i=BF(_.matches,t);Y(e),B({errors:{[i.route.id]:n},fetchers:new Map(_.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function $(e){return c.v7_fetcherPersist&&(F.set(e,(F.get(e)||0)+1),z.has(e)&&z.delete(e)),_.fetchers.get(e)||xF}function Y(e){let t=_.fetchers.get(e);!N.has(e)||t&&"loading"===t.state&&O.has(e)||X(e),L.delete(e),O.delete(e),M.delete(e),z.delete(e),_.fetchers.delete(e)}function X(e){let t=N.get(e);ML(t,"Expected fetch controller: "+e),t.abort(),N.delete(e)}function J(e){for(let t of e){let e=sz($(t).data);_.fetchers.set(t,e)}}function ee(){let e=[],t=!1;for(let n of M){let r=_.fetchers.get(n);ML(r,"Expected fetcher: "+n),"loading"===r.state&&(M.delete(n),e.push(n),t=!0)}return J(e),t}function te(e){let t=[];for(let[n,r]of O)if(r<e){let e=_.fetchers.get(n);ML(e,"Expected fetcher: "+n),"loading"===e.state&&(X(n),O.delete(n),t.push(n))}return J(t),t.length>0}function ne(e){_.blockers.delete(e),Z.delete(e)}function re(e,t){let n=_.blockers.get(e)||SF;ML("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(_.blockers);r.set(e,t),B({blockers:r})}function ie(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===Z.size)return;Z.size>1&&LL(!1,"A router only supports one blocker at a time");let i=Array.from(Z.entries()),[o,s]=i[i.length-1],a=_.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function oe(e){let t=[];return j.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),j.delete(r))})),t}function se(e,t){if(f){return f(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,_.loaderData))))||e.key}return e.key}function ae(e,t){if(h){let n=se(e,t),r=h[n];if("number"===typeof r)return r}return null}return y={get basename(){return l},get state(){return _},get routes(){return a},get window(){return t},initialize:function(){if(u=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(U)return void(U=!1);LL(0===Z.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ie({currentLocation:_.location,nextLocation:r,historyAction:n});return o&&null!=i?(U=!0,e.history.go(-1*i),void re(o,{state:"blocked",location:r,proceed(){re(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(_.blockers);e.set(o,SF),B({blockers:e})}})):q(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(CF);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,E);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(CF,JSON.stringify(n))}catch(wS){LL(!1,"Failed to save applied view transitions in sessionStorage ("+wS+").")}}}(t,E);t.addEventListener("pagehide",e),C=()=>t.removeEventListener("pagehide",e)}return _.initialized||q(DL.Pop,_.location),y},subscribe:function(e){return d.add(e),()=>d.delete(e)},enableScrollRestoration:function(e,t,n){if(h=e,p=t,f=n||null,!m&&_.navigation===_F){m=!0;let e=ae(_.location,_.matches);null!=e&&B({restoreScrollPosition:e})}return()=>{h=null,p=null,f=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=TF(_.location,_.matches,l,c.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:s,error:a}=RF(c.v7_normalizeFormMethod,!1,i,r),u=_.location,d=zL(_.location,o,r&&r.state);d=AL({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=DL.Push;!0===h?f=DL.Replace:!1===h||null!=s&&XF(s.formMethod)&&s.formAction===_.location.pathname+_.location.search&&(f=DL.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.unstable_flushSync),g=ie({currentLocation:u,nextLocation:d,historyAction:f});if(!g)return await q(f,d,{submission:s,pendingError:a,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:m});re(g,{state:"blocked",location:d,proceed(){re(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(_.blockers);e.set(g,SF),B({blockers:e})}})},fetch:function(t,n,u,d){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(t)&&X(t);let h=!0===(d&&d.unstable_flushSync),f=o||a,p=TF(_.location,_.matches,l,c.v7_prependBasename,u,n,null==d?void 0:d.relative),m=WL(f,p,l);if(!m)return void Q(t,n,qF(404,{pathname:p}),{flushSync:h});let{path:g,submission:v,error:y}=RF(c.v7_normalizeFormMethod,!0,p,d);if(y)return void Q(t,n,y,{flushSync:h});let w=nz(m,g);S=!0===(d&&d.preventScrollReset),v&&XF(v.formMethod)?async function(t,n,r,c,u,d,h){if(G(),L.delete(t),!c.route.action&&!c.route.lazy){let e=qF(405,{method:h.formMethod,pathname:r,routeId:n});return void Q(t,n,e,{flushSync:d})}let f=_.fetchers.get(t);K(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,f),{flushSync:d});let p=new AbortController,m=LF(e.history,r,p.signal,h);N.set(t,p);let g=A,v=await MF("action",m,c,u,s,i,l);if(m.signal.aborted)return void(N.get(t)===p&&N.delete(t));if(z.has(t))return void K(t,sz(void 0));if(QF(v))return N.delete(t),D>g?void K(t,sz(void 0)):(M.add(t),K(t,oz(h)),W(_,v,{fetcherSubmission:h}));if(KF(v))return void Q(t,n,v.error);if(GF(v))throw qF(400,{type:"defer-action"});let y=_.navigation.location||_.location,w=LF(e.history,y,p.signal),S=o||a,k="idle"!==_.navigation.state?WL(S,_.navigation.location,l):_.matches;ML(k,"Didn't find any matches after fetcher action");let E=++A;O.set(t,E);let C=oz(h,v.data);_.fetchers.set(t,C);let[I,F]=NF(e.history,_,k,h,y,T,R,P,z,L,M,S,l,{[c.route.id]:v.data},void 0);F.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=_.fetchers.get(t),r=oz(void 0,n?n.data:void 0);_.fetchers.set(t,r),N.has(t)&&X(t),e.controller&&N.set(t,e.controller)})),B({fetchers:new Map(_.fetchers)});let Z=()=>F.forEach((e=>X(e.key)));p.signal.addEventListener("abort",Z);let{results:U,loaderResults:q,fetcherResults:$}=await H(_.matches,k,I,F,w);if(p.signal.aborted)return;p.signal.removeEventListener("abort",Z),O.delete(t),N.delete(t),F.forEach((e=>N.delete(e.key)));let Y=WF(U);if(Y){if(Y.idx>=I.length){let e=F[Y.idx-I.length].key;M.add(e)}return W(_,Y.result)}let{loaderData:J,errors:ee}=ZF(_,_.matches,I,q,void 0,F,$,j);if(_.fetchers.has(t)){let e=sz(v.data);_.fetchers.set(t,e)}te(E),"loading"===_.navigation.state&&E>D?(ML(x,"Expected pending action"),b&&b.abort(),V(_.navigation.location,{matches:k,loaderData:J,errors:ee,fetchers:new Map(_.fetchers)})):(B({errors:ee,loaderData:UF(_.loaderData,J,k,ee),fetchers:new Map(_.fetchers)}),T=!1)}(t,n,g,w,m,h,v):(L.set(t,{routeId:n,path:g}),async function(t,n,r,o,a,c,u){let d=_.fetchers.get(t);K(t,oz(u,d?d.data:void 0),{flushSync:c});let h=new AbortController,f=LF(e.history,r,h.signal);N.set(t,h);let p=A,m=await MF("loader",f,o,a,s,i,l);GF(m)&&(m=await ez(m,f.signal,!0)||m);N.get(t)===h&&N.delete(t);if(f.signal.aborted)return;if(z.has(t))return void K(t,sz(void 0));if(QF(m))return D>p?void K(t,sz(void 0)):(M.add(t),void await W(_,m));if(KF(m))return void Q(t,n,m.error);ML(!GF(m),"Unhandled fetcher deferred data"),K(t,sz(m.data))}(t,n,g,w,m,h,v))},revalidate:function(){G(),B({revalidation:"loading"}),"submitting"!==_.navigation.state&&("idle"!==_.navigation.state?q(x||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation}):q(_.historyAction,_.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:$,deleteFetcher:function(e){if(c.v7_fetcherPersist){let t=(F.get(e)||0)-1;t<=0?(F.delete(e),z.add(e)):F.set(e,t)}else Y(e);B({fetchers:new Map(_.fetchers)})},dispose:function(){u&&u(),C&&C(),d.clear(),b&&b.abort(),_.fetchers.forEach(((e,t)=>Y(t))),_.blockers.forEach(((e,t)=>ne(t)))},getBlocker:function(e,t){let n=_.blockers.get(e)||SF;return Z.get(e)!==t&&Z.set(e,t),n},deleteBlocker:ne,_internalFetchControllers:N,_internalActiveDeferreds:j,_internalSetRoutes:function(e){s={},o=qL(e,i,void 0,s)}},y}Symbol("deferred");function TF(e,t,n,r,i,o,s){let a,l;if(o){a=[];for(let e of t)if(a.push(e),e.route.id===o){l=e;break}}else a=t,l=t[t.length-1];let c=lF(i||".",aF(a).map((e=>e.pathnameBase)),oF(e.pathname,n)||e.pathname,"path"===s);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||tz(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:cF([n,c.pathname])),jL(c)}function RF(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!YF(r.formMethod))return{path:n,error:qF(405,{method:r.formMethod})};let i,o,s=()=>({path:n,error:qF(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),c=HF(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!XF(l))return s();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!XF(l))return s();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(h){return s()}}}if(ML("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=FF(r.formData),o=r.formData;else if(r.body instanceof FormData)i=FF(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=zF(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=zF(i)}catch(h){return s()}let u={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(XF(u.formMethod))return{path:n,submission:u};let d=ZL(n);return t&&d.search&&tz(d.search)&&i.append("index",""),d.search="?"+i,{path:jL(d),submission:u}}function PF(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function NF(e,t,n,r,i,o,s,a,l,c,u,d,h,f,p){let m=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,g=e.createURL(t.location),v=e.createURL(i),y=p?Object.keys(p)[0]:void 0,b=PF(n,y).filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let i=t.matches[n],a=e;return DF(e,AL({currentUrl:g,currentParams:i.params,nextUrl:v,nextParams:a.params},r,{actionResult:m,defaultShouldRevalidate:o||g.pathname+g.search===v.pathname+v.search||g.search!==v.search||AF(i,a)}))})),w=[];return c.forEach(((e,i)=>{if(!n.some((t=>t.route.id===e.routeId))||l.has(i))return;let s=WL(d,e.path,h);if(!s)return void w.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(i),f=nz(s,e.path),p=!1;p=!u.has(i)&&(!!a.includes(i)||(c&&"idle"!==c.state&&void 0===c.data?o:DF(f,AL({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:m,defaultShouldRevalidate:o})))),p&&w.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:f,controller:new AbortController})})),[b,w]}function AF(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function DF(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function OF(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ML(i,"No route found in manifest");let o={};for(let s in r){let e=void 0!==i[s]&&"hasErrorBoundary"!==s;LL(!e,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||VL.has(s)||(o[s]=r[s])}Object.assign(i,o),Object.assign(i,AL({},t(i),{lazy:void 0}))}async function MF(e,t,n,r,i,o,s,a){let l,c,u;void 0===a&&(a={});let d=e=>{let r,i=new Promise(((e,t)=>r=t));return u=()=>r(),t.signal.addEventListener("abort",u),Promise.race([e({request:t,params:n.params,context:a.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([d(r).catch((t=>{e=t})),OF(n.route,o,i)]);if(e)throw e;c=t[0]}else{if(await OF(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw qF(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:BL.data,data:void 0}}c=await d(r)}else{if(!r){let e=new URL(t.url);throw qF(404,{pathname:e.pathname+e.search})}c=await d(r)}ML(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(p){l=BL.error,c=p}finally{u&&t.signal.removeEventListener("abort",u)}if($F(c)){let e,i=c.status;if(bF.has(i)){let e=c.headers.get("Location");if(ML(e,"Redirects returned/thrown from loaders/actions must have a Location header"),kF.test(e)){if(!a.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=oF(r.pathname,s);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=TF(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,e);if(a.isStaticRequest)throw c.headers.set("Location",e),c;return{type:BL.redirect,status:i,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(a.isRouteRequest){throw{type:l===BL.error?BL.error:BL.data,response:c}}let o=c.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await c.json():await c.text(),l===BL.error?{type:l,error:new fF(i,c.statusText,e),headers:c.headers}:{type:BL.data,data:e,statusCode:c.status,headers:c.headers}}return l===BL.error?{type:l,error:c}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(c)?{type:BL.deferred,deferredData:c,statusCode:null==(h=c.init)?void 0:h.status,headers:(null==(f=c.init)?void 0:f.headers)&&new Headers(c.init.headers)}:{type:BL.data,data:c};var h,f}function LF(e,t,n,r){let i=e.createURL(HF(t)).toString(),o={signal:n};if(r&&XF(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=FF(r.formData):o.body=r.formData}return new Request(i,o)}function FF(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function zF(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function jF(e,t,n,r,i){let o,s={},a=null,l=!1,c={};return n.forEach(((n,u)=>{let d=t[u].route.id;if(ML(!QF(n),"Cannot handle redirect results in processLoaderData"),KF(n)){let t=BF(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),s[d]=void 0,l||(l=!0,o=pF(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else GF(n)?(i.set(d,n.deferredData),s[d]=n.deferredData.data):s[d]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(a=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function ZF(e,t,n,r,i,o,s,a){let{loaderData:l,errors:c}=jF(t,n,r,i,a);for(let u=0;u<o.length;u++){let{key:t,match:n,controller:r}=o[u];ML(void 0!==s&&void 0!==s[u],"Did not find corresponding fetcher result");let i=s[u];if(!r||!r.signal.aborted)if(KF(i)){let r=BF(e.matches,null==n?void 0:n.route.id);c&&c[r.route.id]||(c=AL({},c,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(QF(i))ML(!1,"Unhandled fetcher revalidation redirect");else if(GF(i))ML(!1,"Unhandled fetcher deferred data");else{let n=sz(i.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function UF(e,t,n,r){let i=AL({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function BF(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function VF(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function qF(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?a="defer() is not supported in actions":"invalid-body"===o&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",a='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new fF(e||500,s,new Error(a),!0)}function WF(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(QF(n))return{result:n,idx:t}}}function HF(e){return jL(AL({},"string"===typeof e?ZL(e):e,{hash:""}))}function GF(e){return e.type===BL.deferred}function KF(e){return e.type===BL.error}function QF(e){return(e&&e.type)===BL.redirect}function $F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function YF(e){return yF.has(e.toLowerCase())}function XF(e){return gF.has(e.toLowerCase())}async function JF(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!AF(c,l)&&void 0!==(o&&o[l.route.id]);if(GF(a)&&(i||u)){let e=r[s];ML(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await ez(a,e,i).then((e=>{e&&(n[s]=e||n[s])}))}}}async function ez(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:BL.data,data:e.deferredData.unwrappedData}}catch(r){return{type:BL.error,error:r}}return{type:BL.data,data:e.deferredData.data}}}function tz(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function nz(e,t){let n="string"===typeof t?ZL(t).search:t.search;if(e[e.length-1].route.index&&tz(n||""))return e[e.length-1];let r=aF(e);return r[r.length-1]}function rz(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function iz(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oz(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sz(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function az(){return az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},az.apply(this,arguments)}const lz=t.createContext(null);const cz=t.createContext(null);const uz=t.createContext(null);const dz=t.createContext(null);const hz=t.createContext({outlet:null,matches:[],isDataRoute:!1});const fz=t.createContext(null);function pz(){return null!=t.useContext(dz)}function mz(){return pz()||ML(!1),t.useContext(dz).location}function gz(e){t.useContext(uz).static||t.useLayoutEffect(e)}function vz(){let{isDataRoute:e}=t.useContext(hz);return e?function(){let{router:e}=Iz(Ez.UseNavigateStable),n=Rz(Cz.UseNavigateStable),r=t.useRef(!1);gz((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,az({fromRouteId:n},i)))}),[e,n]);return i}():function(){pz()||ML(!1);let e=t.useContext(lz),{basename:n,navigator:r}=t.useContext(uz),{matches:i}=t.useContext(hz),{pathname:o}=mz(),s=JSON.stringify(aF(i).map((e=>e.pathnameBase))),a=t.useRef(!1);gz((()=>{a.current=!0}));let l=t.useCallback((function(t,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof t)return void r.go(t);let l=lF(t,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:cF([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,s,o,e]);return l}()}function yz(e,n){let{relative:r}=void 0===n?{}:n,{matches:i}=t.useContext(hz),{pathname:o}=mz(),s=JSON.stringify(aF(i).map((e=>e.pathnameBase)));return t.useMemo((()=>lF(e,JSON.parse(s),o,"path"===r)),[e,s,o,r])}function bz(e,n,r){pz()||ML(!1);let{navigator:i}=t.useContext(uz),{matches:o}=t.useContext(hz),s=o[o.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=mz();if(n){var d;let e="string"===typeof n?ZL(n):n;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||ML(!1),c=e}else c=u;let h=c.pathname||"/",f=WL(e,{pathname:"/"===l?h:h.slice(l.length)||"/"});let p=kz(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:cF([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:cF([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r);return n&&p?t.createElement(dz.Provider,{value:{location:az({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:DL.Pop}},p):p}function wz(){let e=function(){var e;let n=t.useContext(fz),r=Tz(Cz.UseRouteError),i=Rz(Cz.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=pF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const _z=t.createElement(wz,null);class xz extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(hz.Provider,{value:this.props.routeContext},t.createElement(fz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sz(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(lz);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(hz.Provider,{value:n},i)}function kz(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let s=e,a=null==(i=r)?void 0:i.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||ML(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight(((e,i,o)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;r&&(c=i.route.errorElement||_z);let u=n.concat(s.slice(0,o+1)),d=()=>{let n;return n=l?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Sz,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(xz,{location:r.location,revalidation:r.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var Ez=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ez||{}),Cz=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cz||{});function Iz(e){let n=t.useContext(lz);return n||ML(!1),n}function Tz(e){let n=t.useContext(cz);return n||ML(!1),n}function Rz(e){let n=function(e){let n=t.useContext(hz);return n||ML(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ML(!1),r.route.id}r.startTransition;function Pz(e){let{basename:n="/",children:r=null,location:i,navigationType:o=DL.Pop,navigator:s,static:a=!1}=e;pz()&&ML(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:s,static:a})),[l,s,a]);"string"===typeof i&&(i=ZL(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=t.useMemo((()=>{let e=oF(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:o}}),[l,u,d,h,f,p,o]);return null==m?null:t.createElement(uz.Provider,{value:c},t.createElement(dz.Provider,{children:r,value:m}))}new Promise((()=>{}));t.Component;function Nz(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function Az(){return Az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Az.apply(this,arguments)}function Dz(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Oz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function Mz(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Az({},t,{errors:Lz(t.errors)})),t}function Lz(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[i]=new fF(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"===typeof e)try{let t=new e(o.message);t.stack="",n[i]=t}catch(r){}}if(null==n[i]){let e=new Error(o.message);e.stack="",n[i]=e}}else n[i]=o;return n}const Fz=t.createContext({isTransitioning:!1});const zz=t.createContext(new Map);const jz=r.startTransition,Zz=TN.flushSync;function Uz(e){Zz?Zz(e):e()}class Bz{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Vz(e){let{fallbackElement:n,router:r,future:i}=e,[o,s]=t.useState(r.state),[a,l]=t.useState(),[c,u]=t.useState({isTransitioning:!1}),[d,h]=t.useState(),[f,p]=t.useState(),[m,g]=t.useState(),v=t.useRef(new Map),{v7_startTransition:y}=i||{},b=t.useCallback((e=>{y?function(e){jz?jz(e):e()}(e):e()}),[y]),w=t.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;n.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(o&&!a){if(i){Uz((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=r.window.document.startViewTransition((()=>{Uz((()=>s(e)))}));return t.finished.finally((()=>{Uz((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void Uz((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?Uz((()=>s(e))):b((()=>s(e)))}),[r.window,f,d,v,b]);t.useLayoutEffect((()=>r.subscribe(w)),[r,w]),t.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new Bz)}),[c]),t.useEffect((()=>{if(d&&a&&r.window){let e=a,t=d.promise,n=r.window.document.startViewTransition((async()=>{b((()=>s(e))),await t}));n.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[b,a,d,r.window]),t.useEffect((()=>{d&&a&&o.location.key===a.location.key&&d.resolve()}),[d,f,o.location,a]),t.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]);let _=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),x=r.basename||"/",S=t.useMemo((()=>({router:r,navigator:_,static:!1,basename:x})),[r,_,x]);return t.createElement(t.Fragment,null,t.createElement(lz.Provider,{value:S},t.createElement(cz.Provider,{value:o},t.createElement(zz.Provider,{value:v.current},t.createElement(Fz.Provider,{value:c},t.createElement(Pz,{basename:x,location:o.location,navigationType:o.historyAction,navigator:_},o.initialized?t.createElement(qz,{routes:r.routes,state:o}):n))))),null)}function qz(e){let{routes:t,state:n}=e;return bz(t,void 0,n)}const Wz="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Hz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gz=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=Dz(e,Oz),{basename:p}=t.useContext(uz),m=!1;if("string"===typeof u&&Hz.test(u)&&(r=u,Wz))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=oF(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(y){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;pz()||ML(!1);let{basename:i,navigator:o}=t.useContext(uz),{hash:s,pathname:a,search:l}=yz(e,{relative:r}),c=a;return"/"!==i&&(c="/"===a?i:cF([i,a])),o.createHref({pathname:c,search:l,hash:s})}(u,{relative:o}),v=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=vz(),u=mz(),d=yz(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:jL(u)===jL(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,o,r,e,s,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:o,unstable_viewTransition:h});return t.createElement("a",Az({},f,{href:r||g,onClick:m||s?i:function(e){i&&i(e),e.defaultPrevented||v(e)},ref:n,target:c}))}));var Kz,Qz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kz||(Kz={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Qz||(Qz={}));var $z=n(4865),Yz=n(501),Xz=n(6152),Jz=n(1992),ej=n(7122);const tj=xN((e=>({selectEmpty:{marginTop:e.spacing(2)},list:{},listItem:{padding:0}}))),nj=()=>{const e=tj(nA),[n,r]=(0,t.useState)(null);return(0,rA.jsxs)(jM,{direction:"column",justifyContent:"space-between",spacing:2,sx:{height:"100%"},children:[(0,rA.jsx)(CO,{children:(0,rA.jsxs)(WM,{className:e.list,children:[(0,rA.jsx)(lL,{disablePadding:!0,className:e.listItem,children:(0,rA.jsxs)(hL,{component:Gz,to:"/admin/view",sx:{minHeight:48,px:2.5},children:[(0,rA.jsx)(yL,{children:(0,rA.jsx)($z.Z,{})}),(0,rA.jsx)(NL,{primary:"Admin View"})]})}),(0,rA.jsx)(lL,{disablePadding:!0,className:e.listItem,children:(0,rA.jsxs)(hL,{component:Gz,to:"/user/view",sx:{minHeight:48,px:2.5},children:[(0,rA.jsx)(yL,{children:(0,rA.jsx)(Yz.Z,{})}),(0,rA.jsx)(NL,{primary:"User View"})]})})]})}),(0,rA.jsx)(CO,{children:(0,rA.jsxs)(WM,{children:[(0,rA.jsx)(lL,{disablePadding:!0,className:e.listItem,children:(0,rA.jsxs)(hL,{component:Gz,to:"/reports/issues",sx:{minHeight:48,px:2.5},children:[(0,rA.jsx)(yL,{children:(0,rA.jsx)(Xz.Z,{})}),(0,rA.jsx)(NL,{primary:"Reported Issues"})]})}),(0,rA.jsx)(lL,{disablePadding:!0,className:e.listItem,children:(0,rA.jsxs)(hL,{component:Gz,to:"/assets",sx:{minHeight:48,px:2.5},children:[(0,rA.jsx)(yL,{children:(0,rA.jsx)(Jz.Z,{})}),(0,rA.jsx)(NL,{primary:"Assets"})]})}),(0,rA.jsx)(lL,{disablePadding:!0,className:e.listItem,children:(0,rA.jsxs)(hL,{component:Gz,to:"/configuration",sx:{minHeight:48,px:2.5},children:[(0,rA.jsx)(yL,{children:(0,rA.jsx)(ej.Z,{})}),(0,rA.jsx)(NL,{primary:"Configuration"})]})})]})})]})},rj=((0,aA.ZP)(AO,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}})),(0,aA.ZP)(dO,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!n&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}}))),ij=((0,tA.Z)(),e=>{let{children:n}=e;const[r,i]=t.useState(!0);return(0,rA.jsx)(bA,{theme:nA,children:(0,rA.jsxs)(CO,{sx:{display:"flex"},children:[(0,rA.jsx)(LA,{}),(0,rA.jsxs)(rj,{variant:"permanent",open:r,children:[(0,rA.jsxs)(FO,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:[1]},children:[(0,rA.jsx)(CM,{}),(0,rA.jsx)(SM,{onClick:()=>{i(!r)},sx:{transform:r?"none":"translateX(-16px)"},children:r?(0,rA.jsx)(kM.Z,{}):(0,rA.jsx)(EM.Z,{})})]}),(0,rA.jsx)(qO,{}),(0,rA.jsx)(CO,{component:"nav",sx:{height:"100%"},children:(0,rA.jsx)(nj,{})})]}),(0,rA.jsx)(CO,{component:"main",sx:{backgroundColor:nA.palette.grey[100],flexGrow:1,height:"100vh",overflow:"auto"},children:n})]})})});const oj=t.createContext();function sj(e){return(0,PD.Z)("MuiGrid",e)}const aj=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],lj=(0,RD.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...aj.map((e=>"grid-xs-".concat(e))),...aj.map((e=>"grid-sm-".concat(e))),...aj.map((e=>"grid-md-".concat(e))),...aj.map((e=>"grid-lg-".concat(e))),...aj.map((e=>"grid-xl-".concat(e)))]),cj=lj,uj=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function dj(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function hj(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const fj=(0,aA.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,PM.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,PM.k9)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(cj.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,PM.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=hj({breakpoints:t.breakpoints.values,values:e})),o=(0,PM.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(dj(o)),["& > .".concat(cj.item)]:{paddingTop:dj(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(cj.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,PM.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=hj({breakpoints:t.breakpoints.values,values:e})),o=(0,PM.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(dj(o),")"),marginLeft:"-".concat(dj(o)),["& > .".concat(cj.item)]:{paddingLeft:dj(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(cj.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,PM.P$)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[i]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(dj(e),")");c={flexBasis:t,maxWidth:t}}}o=(0,bN.Z)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const pj=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]};return(0,zA.Z)(d,sj,t)},mj=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiGrid"}),{breakpoints:i}=_D(),o=wO(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,DN.Z)(o,uj),y=f||p,b=l||p,w=t.useContext(oj),_=u?a||12:w,x={},S=(0,bN.Z)({},v);i.keys.forEach((e=>{null!=v[e]&&(x[e]=v[e],delete S[e])}));const k=(0,bN.Z)({},o,{columns:_,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:p},x,{breakpoints:i.keys}),E=pj(k);return(0,rA.jsx)(oj.Provider,{value:_,children:(0,rA.jsx)(fj,(0,bN.Z)({ownerState:k,className:(0,FA.Z)(E.root,s),as:c,ref:n},S))})}));const gj=mj;var vj=n(1122);const yj=["className","component","disableGutters","fixed","maxWidth","classes"],bj=(0,RM.Z)(),wj=IM("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,vj.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),_j=e=>(0,TM.Z)({props:e,name:"MuiContainer",defaultTheme:bj});const xj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=wj,useThemeProps:r=_j,componentName:i="MuiContainer"}=e,o=n((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),s=t.forwardRef((function(e,t){const n=r(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=n,d=(0,DN.Z)(n,yj),h=(0,bN.Z)({},n,{component:a,disableGutters:l,fixed:c,maxWidth:u}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e,s={root:["root",o&&"maxWidth".concat((0,vj.Z)(String(o))),r&&"fixed",i&&"disableGutters"]};return(0,zA.Z)(s,(e=>(0,PD.Z)(t,e)),n)})(h,i);return(0,rA.jsx)(o,(0,bN.Z)({as:a,ownerState:h,className:fO(f.root,s),ref:t},d))}));return s}({createStyledComponent:(0,aA.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,tO.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,wA.Z)({props:e,name:"MuiContainer"})}),Sj=xj;var kj=n(9962),Ej=n.n(kj),Cj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ij=function(){return Ij=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ij.apply(this,arguments)},Tj={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},Rj=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return Cj(n,e),n.prototype.render=function(){return t.createElement("div",{className:this.props.className||"",style:Ij(Ij({position:"absolute",userSelect:"none"},Tj[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(t.PureComponent),Pj=n(8959),Nj=n.n(Pj),Aj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dj=function(){return Dj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dj.apply(this,arguments)},Oj={width:"auto",height:"auto"},Mj=Nj()((function(e,t,n){return Math.max(Math.min(e,n),t)})),Lj=Nj()((function(e,t){return Math.round(e/t)*t})),Fj=Nj()((function(e,t){return new RegExp(e,"i").test(t)})),zj=function(e){return Boolean(e.touches&&e.touches.length)},jj=Nj()((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),Zj=Nj()((function(e,t){return e.substr(e.length-t.length,t.length)===t})),Uj=Nj()((function(e){return"auto"===(e=e.toString())||Zj(e,"px")||Zj(e,"%")||Zj(e,"vh")||Zj(e,"vw")||Zj(e,"vmax")||Zj(e,"vmin")?e:e+"px"})),Bj=function(e,t,n,r){if(e&&"string"===typeof e){if(Zj(e,"px"))return Number(e.replace("px",""));if(Zj(e,"%"))return t*(Number(e.replace("%",""))/100);if(Zj(e,"vw"))return n*(Number(e.replace("vw",""))/100);if(Zj(e,"vh"))return r*(Number(e.replace("vh",""))/100)}return e},Vj=Nj()((function(e,t,n,r,i,o,s){return r=Bj(r,e.width,t,n),i=Bj(i,e.height,t,n),o=Bj(o,e.width,t,n),s=Bj(s,e.height,t,n),{maxWidth:"undefined"===typeof r?void 0:Number(r),maxHeight:"undefined"===typeof i?void 0:Number(i),minWidth:"undefined"===typeof o?void 0:Number(o),minHeight:"undefined"===typeof s?void 0:Number(s)}})),qj=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Wj="__resizable_base__",Hj=function(e){function n(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(Wj):t.className+=Wj,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.ref=function(e){e&&(n.resizable=e)},n.state={isResizing:!1,width:"undefined"===typeof(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:"undefined"===typeof(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return Aj(n,e),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Oj},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if("undefined"===typeof e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&Zj(e.propsSize[t].toString(),"%")){if(Zj(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return Uj(e.state[t])};return{width:t&&"undefined"!==typeof t.width&&!this.state.isResizing?Uj(t.width):n("width"),height:t&&"undefined"!==typeof t.height&&!this.state.isResizing?Uj(t.height):n("height")}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||"undefined"!==typeof n&&"auto"!==n?e:"auto"},n.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,o=this.state.direction,s=i&&Fj("left",o),a=i&&Fj("top",o);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=s?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=a?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,s=i.original,a=this.props,l=a.lockAspectRatio,c=a.lockAspectRatioExtraHeight,u=a.lockAspectRatioExtraWidth,d=s.width,h=s.height,f=c||0,p=u||0;return Fj("right",o)&&(d=s.width+(e-s.x)*r/n,l&&(h=(d-p)/this.ratio+f)),Fj("left",o)&&(d=s.width-(e-s.x)*r/n,l&&(h=(d-p)/this.ratio+f)),Fj("bottom",o)&&(h=s.height+(t-s.y)*r/n,l&&(d=(h-f)*this.ratio+p)),Fj("top",o)&&(h=s.height-(t-s.y)*r/n,l&&(d=(h-f)*this.ratio+p)),{newWidth:d,newHeight:h}},n.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,s=i.lockAspectRatioExtraHeight,a=i.lockAspectRatioExtraWidth,l="undefined"===typeof r.width?10:r.width,c="undefined"===typeof n.width||n.width<0?e:n.width,u="undefined"===typeof r.height?10:r.height,d="undefined"===typeof n.height||n.height<0?t:n.height,h=s||0,f=a||0;if(o){var p=(u-h)*this.ratio+f,m=(d-h)*this.ratio+f,g=(l-f)/this.ratio+h,v=(c-f)/this.ratio+h,y=Math.max(l,p),b=Math.min(c,m),w=Math.max(u,g),_=Math.min(d,v);e=Mj(e,y,b),t=Mj(t,w,_)}else e=Mj(e,l,c),t=Mj(t,u,d);return{newWidth:e,newHeight:t}},n.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&"string"!==typeof this.props.bounds){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top,s=r.right,a=r.bottom;this.resizableLeft=i,this.resizableRight=s,this.resizableTop=o,this.resizableBottom=a}},n.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&zj(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&("undefined"!==typeof this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),"undefined"!==typeof this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"===typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var s=this.parentNode;if(s){var a=this.window.getComputedStyle(s).flexDirection;this.flexDir=a.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Dj(Dj({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},n.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&zj(e))try{e.preventDefault(),e.stopPropagation()}catch(E){}var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,s=zj(e)?e.touches[0].clientX:e.clientX,a=zj(e)?e.touches[0].clientY:e.clientY,l=this.state,c=l.direction,u=l.original,d=l.width,h=l.height,f=this.getParentSize(),p=Vj(f,this.window.innerWidth,this.window.innerHeight,n,r,i,o);n=p.maxWidth,r=p.maxHeight,i=p.minWidth,o=p.minHeight;var m=this.calculateNewSizeFromDirection(s,a),g=m.newHeight,v=m.newWidth,y=this.calculateNewMaxFromBoundary(n,r);this.props.snap&&this.props.snap.x&&(v=jj(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=jj(g,this.props.snap.y,this.props.snapGap));var b=this.calculateNewSizeFromAspectRatio(v,g,{width:y.maxWidth,height:y.maxHeight},{width:i,height:o});if(v=b.newWidth,g=b.newHeight,this.props.grid){var w=Lj(v,this.props.grid[0]),_=Lj(g,this.props.grid[1]),x=this.props.snapGap||0;v=0===x||Math.abs(w-v)<=x?w:v,g=0===x||Math.abs(_-g)<=x?_:g}var S={width:v-u.width,height:g-u.height};if(d&&"string"===typeof d)if(Zj(d,"%"))v=v/f.width*100+"%";else if(Zj(d,"vw")){v=v/this.window.innerWidth*100+"vw"}else if(Zj(d,"vh")){v=v/this.window.innerHeight*100+"vh"}if(h&&"string"===typeof h)if(Zj(h,"%"))g=g/f.height*100+"%";else if(Zj(h,"vw")){g=g/this.window.innerWidth*100+"vw"}else if(Zj(h,"vh")){g=g/this.window.innerHeight*100+"vh"}var k={width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(g,"height")};"row"===this.flexDir?k.flexBasis=k.width:"column"===this.flexDir&&(k.flexBasis=k.height),this.setState(k),this.props.onResize&&this.props.onResize(e,c,this.resizable,S)}},n.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Dj(Dj({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},n.prototype.renderResizer=function(){var e=this,n=this.props,r=n.enable,i=n.handleStyles,o=n.handleClasses,s=n.handleWrapperStyle,a=n.handleWrapperClass,l=n.handleComponent;if(!r)return null;var c=Object.keys(r).map((function(n){return!1!==r[n]?t.createElement(Rj,{key:n,direction:n,onResizeStart:e.onResizeStart,replaceStyles:i&&i[n],className:o&&o[n]},l&&l[n]?l[n]:null):null}));return t.createElement("div",{className:a,style:s},c)},n.prototype.render=function(){var e=this,n=Object.keys(this.props).reduce((function(t,n){return-1!==qj.indexOf(n)||(t[n]=e.props[n]),t}),{}),r=Dj(Dj(Dj({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return t.createElement(i,Dj({ref:this.ref,style:r,className:this.props.className},n),this.state.isResizing&&t.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(t.PureComponent),Gj=function(e,t){return Gj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Gj(e,t)};var Kj=function(){return Kj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kj.apply(this,arguments)};var Qj=Ej(),$j={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Yj=function(e){function n(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e,n.resizableElement.current=e.resizable)},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}Gj(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),n.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-t,y:o-n}),this.forceUpdate()},n.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},n.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},n.prototype.getParentSize=function(){return this.resizable.getParentSize()},n.prototype.getMaxSizesFromProps=function(){return{maxWidth:"undefined"===typeof this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:"undefined"===typeof this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},n.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},n.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},n.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},n.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var s=i.getBoundingClientRect(),a=s.left,l=s.top,c=document.body.getBoundingClientRect(),u=-(a-i.offsetLeft*o-c.left)/o,d=-(l-i.offsetTop*o-c.top)/o,h=(document.body.offsetWidth-this.resizable.size.width*o)/o+u,f=(document.body.offsetHeight-this.resizable.size.height*o)/o+d;return this.setState({bounds:{top:d,right:h,bottom:f,left:u}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=i.getBoundingClientRect(),m=p.left,g=p.top,v=-(m-i.offsetLeft*o)/o,y=-(g-i.offsetTop*o)/o;h=(window.innerWidth-this.resizable.size.width*o)/o+v,f=(window.innerHeight-this.resizable.size.height*o)/o+y;return this.setState({bounds:{top:y,right:h,bottom:f,left:v}})}"string"===typeof this.props.bounds?r=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(r=this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var b=r.getBoundingClientRect(),w=b.left,_=b.top,x=i.getBoundingClientRect(),S=(w-x.left)/o,k=_-x.top;if(this.resizable){this.updateOffsetFromParent();var E=this.offsetFromParent;this.setState({bounds:{top:k-E.top,right:S+(r.offsetWidth-this.resizable.size.width)-E.left/o,bottom:k+(r.offsetHeight-this.resizable.size.height)-E.top,left:S-E.left/o}})}}}},n.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,Kj(Kj({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,Kj(Kj({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDrag(e,Kj(Kj({},t),{x:t.x-r,y:t.y-i}))}},n.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,Kj(Kj({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,Kj(Kj({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDragStop(e,Kj(Kj({},t),{x:t.x+r,y:t.y+i}))}},n.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+i.left,y:o.y+i.top},this.originalPosition=o,this.props.bounds){var s=this.getParent(),a=void 0;"parent"===this.props.bounds?a=s:"body"===this.props.bounds?a=document.body:"window"===this.props.bounds?a=window:"string"===typeof this.props.bounds?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(a instanceof HTMLElement||a===window)&&s instanceof HTMLElement){var c=this.getMaxSizesFromProps(),u=c.maxWidth,d=c.maxHeight,h=this.getParentSize();if(u&&"string"===typeof u)if(u.endsWith("%")){var f=Number(u.replace("%",""))/100;u=h.width*f}else u.endsWith("px")&&(u=Number(u.replace("px","")));if(d&&"string"===typeof d)if(d.endsWith("%")){f=Number(d.replace("%",""))/100;d=h.width*f}else d.endsWith("px")&&(d=Number(d.replace("px","")));var p=l.getBoundingClientRect(),m=p.left,g=p.top,v="window"===this.props.bounds?{left:0,top:0}:a.getBoundingClientRect(),y=v.left,b=v.top,w=this.getOffsetWidth(a),_=this.getOffsetHeight(a),x=t.toLowerCase().endsWith("left"),S=t.toLowerCase().endsWith("right"),k=t.startsWith("top"),E=t.startsWith("bottom");if((x||k)&&this.resizable){var C=(m-y)/r+this.resizable.size.width;this.setState({maxWidth:C>Number(u)?u:C})}if(S||this.props.lockAspectRatio&&!x&&!k){C=w+(y-m)/r;this.setState({maxWidth:C>Number(u)?u:C})}if((k||x)&&this.resizable){C=(g-b)/r+this.resizable.size.height;this.setState({maxHeight:C>Number(d)?d:C})}if(E||this.props.lockAspectRatio&&!k&&!x){C=_+(b-g)/r;this.setState({maxHeight:C>Number(d)?d:C})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},n.prototype.onResize=function(e,t,n,r){var i={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,s=-r.height;-1!==["top","left","topLeft","bottomLeft","topRight"].indexOf(t)&&("bottomLeft"===t?i.x+=o:("topRight"===t||(i.x+=o),i.y+=s)),i.x===this.draggable.state.x&&i.y===this.draggable.state.y||this.draggable.setState(i),this.updateOffsetFromParent();var a=this.offsetFromParent,l=this.getDraggablePosition().x+a.left,c=this.getDraggablePosition().y+a.top;this.resizingPosition={x:l,y:c},this.props.onResize&&this.props.onResize(e,t,n,r,{x:l,y:c})},n.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),o=i.maxWidth,s=i.maxHeight;this.setState({maxWidth:o,maxHeight:s}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},n.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},n.prototype.updatePosition=function(e){this.draggable.setState(e)},n.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,o=r.top,s=n.getBoundingClientRect(),a=this.getDraggablePosition(),l=t.scrollLeft,c=t.scrollTop;this.offsetFromParent={left:s.left-i+l-a.x*e,top:s.top-o+c-a.y*e}},n.prototype.render=function(){var e=this.props,n=e.disableDragging,r=e.style,i=e.dragHandleClassName,o=e.position,s=e.onMouseDown,a=e.onMouseUp,l=e.dragAxis,c=e.dragGrid,u=e.bounds,d=e.enableUserSelectHack,h=e.cancel,f=e.children,p=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),m=e.resizeHandleClasses,g=e.resizeHandleComponent,v=e.enableResizing,y=e.resizeGrid,b=e.resizeHandleWrapperClass,w=e.resizeHandleWrapperStyle,_=e.scale,x=e.allowAnyClick,S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),k=this.props.default?Kj({},this.props.default):void 0;delete S.default;var E,C=n||i?{cursor:"auto"}:{cursor:"move"},I=Kj(Kj(Kj({},$j),C),r),T=this.offsetFromParent,R=T.left,P=T.top;o&&(E={x:o.x-R,y:o.y-P});var N,A=this.state.resizing?void 0:E,D=this.state.resizing?"both":l;return(0,t.createElement)(Qj,{ref:this.refDraggable,handle:i?".".concat(i):void 0,defaultPosition:k,onMouseDown:s,onMouseUp:a,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:D,disabled:n,grid:c,bounds:u?this.state.bounds:void 0,position:A,enableUserSelectHack:d,cancel:h,scale:_,allowAnyClick:x,nodeRef:this.resizableElement},(0,t.createElement)(Hj,Kj({},S,{ref:this.refResizable,defaultSize:k,size:this.props.size,enable:"boolean"===typeof v?(N=v,{bottom:N,bottomLeft:N,bottomRight:N,left:N,right:N,top:N,topLeft:N,topRight:N}):v,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:I,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:b,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:p,handleClasses:m,handleComponent:g,scale:this.props.scale}),f))},n.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},n}(t.PureComponent),Xj=n(7351);function Jj(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function eZ(e){var t=function(t){var n=e(t);return t.css?(0,bN.Z)({},(0,Xj.Z)(n,e((0,bN.Z)({theme:t.theme},t.css))),Jj(t.css,[e.filterProps])):t.sx?(0,bN.Z)({},(0,Xj.Z)(n,e((0,bN.Z)({theme:t.theme},t.sx))),Jj(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,AN.Z)(e.filterProps)),t}const tZ=eZ;const nZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,Xj.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};var rZ=n(4942),iZ=n(6086);function oZ(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}const sZ=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=oZ(e.theme,i)||{};return(0,iZ.k)(e,n,(function(e){var t;return"function"===typeof s?t=s(e):Array.isArray(s)?t=s[e]||e:(t=oZ(s,e)||e,o&&(t=o(t))),!1===r?t:(0,rZ.Z)({},r,t)}))};return s.propTypes={},s.filterProps=[t],s};function aZ(e){return"number"!==typeof e?e:"".concat(e,"px solid")}const lZ=nZ(sZ({prop:"border",themeKey:"borders",transform:aZ}),sZ({prop:"borderTop",themeKey:"borders",transform:aZ}),sZ({prop:"borderRight",themeKey:"borders",transform:aZ}),sZ({prop:"borderBottom",themeKey:"borders",transform:aZ}),sZ({prop:"borderLeft",themeKey:"borders",transform:aZ}),sZ({prop:"borderColor",themeKey:"palette"}),sZ({prop:"borderRadius",themeKey:"shape"}));const cZ=nZ(sZ({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),sZ({prop:"display"}),sZ({prop:"overflow"}),sZ({prop:"textOverflow"}),sZ({prop:"visibility"}),sZ({prop:"whiteSpace"}));const uZ=nZ(sZ({prop:"flexBasis"}),sZ({prop:"flexDirection"}),sZ({prop:"flexWrap"}),sZ({prop:"justifyContent"}),sZ({prop:"alignItems"}),sZ({prop:"alignContent"}),sZ({prop:"order"}),sZ({prop:"flex"}),sZ({prop:"flexGrow"}),sZ({prop:"flexShrink"}),sZ({prop:"alignSelf"}),sZ({prop:"justifyItems"}),sZ({prop:"justifySelf"}));const dZ=nZ(sZ({prop:"gridGap"}),sZ({prop:"gridColumnGap"}),sZ({prop:"gridRowGap"}),sZ({prop:"gridColumn"}),sZ({prop:"gridRow"}),sZ({prop:"gridAutoFlow"}),sZ({prop:"gridAutoColumns"}),sZ({prop:"gridAutoRows"}),sZ({prop:"gridTemplateColumns"}),sZ({prop:"gridTemplateRows"}),sZ({prop:"gridTemplateAreas"}),sZ({prop:"gridArea"}));const hZ=nZ(sZ({prop:"position"}),sZ({prop:"zIndex",themeKey:"zIndex"}),sZ({prop:"top"}),sZ({prop:"right"}),sZ({prop:"bottom"}),sZ({prop:"left"}));const fZ=nZ(sZ({prop:"color",themeKey:"palette"}),sZ({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}));const pZ=sZ({prop:"boxShadow",themeKey:"shadows"});function mZ(e){return e<=1?"".concat(100*e,"%"):e}var gZ=sZ({prop:"width",transform:mZ}),vZ=sZ({prop:"maxWidth",transform:mZ}),yZ=sZ({prop:"minWidth",transform:mZ}),bZ=sZ({prop:"height",transform:mZ}),wZ=sZ({prop:"maxHeight",transform:mZ}),_Z=sZ({prop:"minHeight",transform:mZ});sZ({prop:"size",cssProperty:"width",transform:mZ}),sZ({prop:"size",cssProperty:"height",transform:mZ});const xZ=nZ(gZ,vZ,yZ,bZ,wZ,_Z,sZ({prop:"boxSizing"}));var SZ=n(9908);const kZ=nZ(sZ({prop:"fontFamily",themeKey:"typography"}),sZ({prop:"fontSize",themeKey:"typography"}),sZ({prop:"fontStyle",themeKey:"typography"}),sZ({prop:"fontWeight",themeKey:"typography"}),sZ({prop:"letterSpacing"}),sZ({prop:"lineHeight"}),sZ({prop:"textAlign"}));function EZ(e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,o=(0,SN.Z)(r,["name"]);var s,a=i,l="function"===typeof n?function(e){return{root:function(t){return n((0,bN.Z)({theme:e},t))}}}:{root:n},c=(0,wN.Z)(l,(0,bN.Z)({Component:e,name:i||e.displayName,classNamePrefix:a},o));n.filterProps&&(s=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var u=t.forwardRef((function(n,r){var i=n.children,o=n.className,a=n.clone,l=n.component,u=(0,SN.Z)(n,["children","className","clone","component"]),d=c(n),h=(0,kN.default)(d.root,o),f=u;if(s&&(f=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(f,s)),a)return t.cloneElement(i,(0,bN.Z)({className:(0,kN.default)(i.props.className,h)},f));if("function"===typeof i)return i((0,bN.Z)({className:h},f));var p=l||e;return t.createElement(p,(0,bN.Z)({ref:r,className:h},f),i)}));return EA()(u,e),u}}const CZ=function(e){var t=EZ(e);return function(e,n){return t(e,(0,bN.Z)({defaultTheme:_N.Z},n))}};var IZ=tZ(nZ(lZ,cZ,uZ,dZ,hZ,fZ,pZ,xZ,SZ.Z,kZ));const TZ=CZ("div")(IZ,{name:"MuiBox"}),RZ=xN((()=>({root:{position:"relative",width:"100%",height:"100%",cursor:"pointer"},zone:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"1px solid #FFFBB2"},deleteButton:{position:"absolute",top:0,right:0,width:"17px",height:"17px",backgroundColor:"red",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"16px",cursor:"pointer",borderRadius:2,"&:hover":{backgroundColor:"black"},"& span":{position:"relative",top:"-1px"}}}))),PZ=e=>{let{zone:t,selectedZone:n,zones:r,setZones:i}=e;const o=RZ();return t.rect&&t.isDragged?(0,rA.jsx)(Yj,{position:{x:t.rect.x,y:t.rect.y},size:{width:t.rect.width,height:t.rect.height},onDragStop:(e,n)=>((e,t)=>{const n=r.findIndex((t=>t.name===e.name)),o=[...r];o[n]={...e,rect:{...e.rect,x:t.x,y:t.y}},i(o)})(t,n),onResizeStop:(e,n,o,s,a)=>((e,t,n)=>{const o=r.findIndex((t=>t.name===e.name)),s=[...r];s[o]={...e,rect:{...e.rect,x:n.x,y:n.y,width:t.offsetWidth,height:t.offsetHeight}},i(s)})(t,o,a),disabled:!t.isDragged,enableResizing:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},children:(0,rA.jsxs)(TZ,{className:o.root,children:[(0,rA.jsx)(TZ,{className:o.zone,bgcolor:"rgba(255, 271, 0, ".concat(n===t?.5:.3,")"),border:n===t?"2px solid red":"none","data-name":t.name}),(0,rA.jsx)(TZ,{className:o.deleteButton,onClick:()=>(e=>{const t=r.map((t=>t.name===e.name?{...t,isDragged:!1}:t));i(t)})(t),children:(0,rA.jsx)("span",{children:"\xd7"})})]})}):null};function NZ(e){let{image:t,imgRef:n,setImageDimensions:r,zones:i,selectedZone:o,setZones:s,draggedZones:a,setDraggedZones:l,deleteZone:c}=e;return(0,rA.jsx)("div",{className:"floor-plan-container",children:t?(0,rA.jsxs)("div",{style:{position:"relative"},children:[(0,rA.jsx)("img",{ref:n,src:t,alt:"Floor Plan",onLoad:()=>{r({width:n.current.clientWidth,height:n.current.clientHeight})}}),i.map((e=>(0,rA.jsx)(PZ,{zone:e,selectedZone:o,zones:i,setZones:s,draggedZones:a,setDraggedZones:l,deleteZone:c},e.name)))]}):(0,rA.jsx)("div",{className:"image-upload-placeholder",children:(0,rA.jsx)("span",{className:"image-upload-placeholder-text",children:"\xd7"})})})}function AZ(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function DZ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(AZ(e.value)&&""!==e.value||t&&AZ(e.defaultValue)&&""!==e.defaultValue)}var OZ=n(3375),MZ=t.createContext();const LZ=MZ;var FZ=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.color,a=void 0===s?"primary":s,l=e.component,c=void 0===l?"div":l,u=e.disabled,d=void 0!==u&&u,h=e.error,f=void 0!==h&&h,p=e.fullWidth,m=void 0!==p&&p,g=e.focused,v=e.hiddenLabel,y=void 0!==v&&v,b=e.margin,w=void 0===b?"none":b,_=e.required,x=void 0!==_&&_,S=e.size,k=e.variant,E=void 0===k?"standard":k,C=(0,SN.Z)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),I=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){if((0,OZ.Z)(t,["Input","Select"])){var n=(0,OZ.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),T=I[0],R=I[1],P=t.useState((function(){var e=!1;return r&&t.Children.forEach(r,(function(t){(0,OZ.Z)(t,["Input","Select"])&&DZ(t.props,!0)&&(e=!0)})),e})),N=P[0],A=P[1],D=t.useState(!1),O=D[0],M=D[1],L=void 0!==g?g:O;d&&L&&M(!1);var F=t.useCallback((function(){A(!0)}),[]),z={adornedStart:T,setAdornedStart:R,color:a,disabled:d,error:f,filled:N,focused:L,fullWidth:m,hiddenLabel:y,margin:("small"===S?"dense":void 0)||w,onBlur:function(){M(!1)},onEmpty:t.useCallback((function(){A(!1)}),[]),onFilled:F,onFocus:function(){M(!0)},registerEffect:undefined,required:x,variant:E};return t.createElement(LZ.Provider,{value:z},t.createElement(c,(0,bN.Z)({className:(0,kN.default)(i.root,o,"none"!==w&&i["margin".concat((0,QN.Z)(w))],m&&i.fullWidth),ref:n},C),r))}));const zZ=(0,EN.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(FZ);function jZ(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function ZZ(){return t.useContext(LZ)}var UZ=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=(e.color,e.component),a=void 0===s?"label":s,l=(e.disabled,e.error,e.filled,e.focused,e.required,(0,SN.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=jZ({props:e,muiFormControl:ZZ(),states:["color","required","focused","disabled","error","filled"]});return t.createElement(a,(0,bN.Z)({className:(0,kN.default)(i.root,i["color".concat((0,QN.Z)(c.color||"primary"))],o,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required),ref:n},l),r,c.required&&t.createElement("span",{"aria-hidden":!0,className:(0,kN.default)(i.asterisk,c.error&&i.error)},"\u2009","*"))}));const BZ=(0,EN.Z)((function(e){return{root:(0,bN.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(UZ);var VZ=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.disableAnimation,s=void 0!==o&&o,a=(e.margin,e.shrink),l=(e.variant,(0,SN.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=ZZ(),u=a;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);var d=jZ({props:e,muiFormControl:c,states:["margin","variant"]});return t.createElement(BZ,(0,bN.Z)({"data-shrink":u,className:(0,kN.default)(r.root,i,c&&r.formControl,!s&&r.animated,u&&r.shrink,"dense"===d.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[d.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},l))}));const qZ=(0,EN.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(VZ);var WZ=n(5352),HZ=n(885),GZ=n(1002),KZ=n(7483),QZ=(n(3413),n(4667)),$Z=n(503),YZ=n(7636),XZ=n(7545),JZ=n(5522),eU=n(794),tU=n(1565);var nU="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,rU=t.forwardRef((function(e,n){var r=e.children,i=e.container,o=e.disablePortal,s=void 0!==o&&o,a=e.onRendered,l=t.useState(null),c=l[0],u=l[1],d=(0,RN.Z)(t.isValidElement(r)?r.ref:null,n);return nU((function(){s||u(function(e){return e="function"===typeof e?e():e,IN.findDOMNode(e)}(i)||document.body)}),[i,s]),nU((function(){if(c&&!s)return(0,tU.Z)(n,c),function(){(0,tU.Z)(n,null)}}),[n,c,s]),nU((function(){a&&(c||s)&&a()}),[a,c,s]),s?t.isValidElement(r)?t.cloneElement(r,{ref:d}):r:c?IN.createPortal(r,c):c}));const iU=rU;var oU=n(9535);var sU=n(3144);function aU(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function lU(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function cU(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function uU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,AN.Z)(r)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===s.indexOf(e.tagName)&&lU(e,i)}))}function dU(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function hU(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,QZ.Z)(e);return t.body===e?(0,YZ.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var s=aU();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(cU(o)+s,"px"),n=(0,QZ.Z)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(cU(e)+s,"px")}))}var a=o.parentElement,l="HTML"===a.nodeName&&"scroll"===window.getComputedStyle(a)["overflow-y"]?a:o;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var fU=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return(0,sU.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&lU(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);uU(t,e.mountNode,e.modalRef,r,!0);var i=dU(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=dU(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=hU(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=dU(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&lU(e.modalRef,!0),uU(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&lU(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();const pU=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,o=e.disableEnforceFocus,s=void 0!==o&&o,a=e.disableRestoreFocus,l=void 0!==a&&a,c=e.getDoc,u=e.isEnabled,d=e.open,h=t.useRef(),f=t.useRef(null),p=t.useRef(null),m=t.useRef(),g=t.useRef(null),v=t.useCallback((function(e){g.current=IN.findDOMNode(e)}),[]),y=(0,RN.Z)(n.ref,v),b=t.useRef();return t.useEffect((function(){b.current=d}),[d]),!b.current&&d&&"undefined"!==typeof window&&(m.current=c().activeElement),t.useEffect((function(){if(d){var e=(0,QZ.Z)(g.current);i||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&u()&&!h.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():h.current=!1)},n=function(t){!s&&u()&&9===t.keyCode&&e.activeElement===g.current&&(h.current=!0,t.shiftKey?p.current.focus():f.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[i,s,l,u,d]),t.createElement(t.Fragment,null,t.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:y}),t.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))};var mU={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},gU=t.forwardRef((function(e,n){var r=e.invisible,i=void 0!==r&&r,o=e.open,s=(0,SN.Z)(e,["invisible","open"]);return o?t.createElement("div",(0,bN.Z)({"aria-hidden":!0,ref:n},s,{style:(0,bN.Z)({},mU.root,i?mU.invisible:{},s.style)})):null}));const vU=gU;var yU=new fU,bU=t.forwardRef((function(e,n){var r=(0,JZ.Z)(),i=(0,eU.Z)({name:"MuiModal",props:(0,bN.Z)({},e),theme:r}),o=i.BackdropComponent,s=void 0===o?vU:o,a=i.BackdropProps,l=i.children,c=i.closeAfterTransition,u=void 0!==c&&c,d=i.container,h=i.disableAutoFocus,f=void 0!==h&&h,p=i.disableBackdropClick,m=void 0!==p&&p,g=i.disableEnforceFocus,v=void 0!==g&&g,y=i.disableEscapeKeyDown,b=void 0!==y&&y,w=i.disablePortal,_=void 0!==w&&w,x=i.disableRestoreFocus,S=void 0!==x&&x,k=i.disableScrollLock,E=void 0!==k&&k,C=i.hideBackdrop,I=void 0!==C&&C,T=i.keepMounted,R=void 0!==T&&T,P=i.manager,N=void 0===P?yU:P,A=i.onBackdropClick,D=i.onClose,O=i.onEscapeKeyDown,M=i.onRendered,L=i.open,F=(0,SN.Z)(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),z=t.useState(!0),j=z[0],Z=z[1],U=t.useRef({}),B=t.useRef(null),V=t.useRef(null),q=(0,RN.Z)(V,n),W=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),H=function(){return(0,QZ.Z)(B.current)},G=function(){return U.current.modalRef=V.current,U.current.mountNode=B.current,U.current},K=function(){N.mount(G(),{disableScrollLock:E}),V.current.scrollTop=0},Q=(0,PN.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,IN.findDOMNode(e)}(d)||H().body;N.add(G(),e),V.current&&K()})),$=t.useCallback((function(){return N.isTopModal(G())}),[N]),Y=(0,PN.Z)((function(e){B.current=e,e&&(M&&M(),L&&$()?K():lU(V.current,!0))})),X=t.useCallback((function(){N.remove(G())}),[N]);if(t.useEffect((function(){return function(){X()}}),[X]),t.useEffect((function(){L?Q():W&&u||X()}),[L,X,W,u,Q]),!R&&!L&&(!W||j))return null;var J=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:oU.Z}),ee={};return void 0===l.props.tabIndex&&(ee.tabIndex=l.props.tabIndex||"-1"),W&&(ee.onEnter=(0,XZ.Z)((function(){Z(!1)}),l.props.onEnter),ee.onExited=(0,XZ.Z)((function(){Z(!0),u&&X()}),l.props.onExited)),t.createElement(iU,{ref:Y,container:d,disablePortal:_},t.createElement("div",(0,bN.Z)({ref:q,onKeyDown:function(e){"Escape"===e.key&&$()&&(O&&O(e),b||(e.stopPropagation(),D&&D(e,"escapeKeyDown")))},role:"presentation"},F,{style:(0,bN.Z)({},J.root,!L&&j?J.hidden:{},F.style)}),I?null:t.createElement(s,(0,bN.Z)({open:L,onClick:function(e){e.target===e.currentTarget&&(A&&A(e),!m&&D&&D(e,"backdropClick"))}},a)),t.createElement(pU,{disableEnforceFocus:v,disableAutoFocus:f,disableRestoreFocus:S,getDoc:H,isEnabled:$,open:L},t.cloneElement(l,ee))))}));const wU=bU;function _U(){return(0,JZ.Z)()||_N.Z}function xU(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function SU(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var kU={entering:{opacity:1,transform:SU(1)},entered:{opacity:1,transform:"none"}},EU=t.forwardRef((function(e,n){var r=e.children,i=e.disableStrictModeCompat,o=void 0!==i&&i,s=e.in,a=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,h=e.onExiting,f=e.style,p=e.timeout,m=void 0===p?"auto":p,g=e.TransitionComponent,v=void 0===g?wD:g,y=(0,SN.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),b=t.useRef(),w=t.useRef(),_=_U(),x=_.unstable_strictMode&&!o,S=t.useRef(null),k=(0,RN.Z)(r.ref,n),E=(0,RN.Z)(x?S:void 0,k),C=function(e){return function(t,n){if(e){var r=x?[S.current,t]:[t,n],i=(0,HZ.Z)(r,2),o=i[0],s=i[1];void 0===s?e(o):e(o,s)}}},I=C(c),T=C((function(e,t){!function(e){e.scrollTop}(e);var n,r=xU({style:f,timeout:m},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===m?(n=_.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[_.transitions.create("opacity",{duration:n,delay:o}),_.transitions.create("transform",{duration:.666*n,delay:o})].join(","),a&&a(e,t)})),R=C(l),P=C(h),N=C((function(e){var t,n=xU({style:f,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(t=_.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[_.transitions.create("opacity",{duration:t,delay:i}),_.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=SU(.75),u&&u(e)})),A=C(d);return t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]),t.createElement(v,(0,bN.Z)({appear:!0,in:s,nodeRef:x?S:void 0,onEnter:T,onEntered:R,onEntering:I,onExit:N,onExited:A,onExiting:P,addEndListener:function(e,t){var n=x?e:t;"auto"===m&&(b.current=setTimeout(n,w.current||0))},timeout:"auto"===m?null:m},y),(function(e,n){return t.cloneElement(r,(0,bN.Z)({style:(0,bN.Z)({opacity:0,transform:SU(.75),visibility:"exited"!==e||s?void 0:"hidden"},kU[e],f,r.props.style),ref:E},n))}))}));EU.muiSupportAuto=!0;const CU=EU;var IU=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,s=void 0===o?"div":o,a=e.square,l=void 0!==a&&a,c=e.elevation,u=void 0===c?1:c,d=e.variant,h=void 0===d?"elevation":d,f=(0,SN.Z)(e,["classes","className","component","square","elevation","variant"]);return t.createElement(s,(0,bN.Z)({className:(0,kN.default)(r.root,i,"outlined"===h?r.outlined:r["elevation".concat(u)],!l&&r.rounded),ref:n},f))}));const TU=(0,EN.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,bN.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(IU);function RU(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function PU(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function NU(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function AU(e){return"function"===typeof e?e():e}var DU=t.forwardRef((function(e,n){var r=e.action,i=e.anchorEl,o=e.anchorOrigin,s=void 0===o?{vertical:"top",horizontal:"left"}:o,a=e.anchorPosition,l=e.anchorReference,c=void 0===l?"anchorEl":l,u=e.children,d=e.classes,h=e.className,f=e.container,p=e.elevation,m=void 0===p?8:p,g=e.getContentAnchorEl,v=e.marginThreshold,y=void 0===v?16:v,b=e.onEnter,w=e.onEntered,_=e.onEntering,x=e.onExit,S=e.onExited,k=e.onExiting,E=e.open,C=e.PaperProps,I=void 0===C?{}:C,T=e.transformOrigin,R=void 0===T?{vertical:"top",horizontal:"left"}:T,P=e.TransitionComponent,N=void 0===P?CU:P,A=e.transitionDuration,D=void 0===A?"auto":A,O=e.TransitionProps,M=void 0===O?{}:O,L=(0,SN.Z)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),F=t.useRef(),z=t.useCallback((function(e){if("anchorPosition"===c)return a;var t=AU(i),n=(t&&1===t.nodeType?t:(0,QZ.Z)(F.current).body).getBoundingClientRect(),r=0===e?s.vertical:"center";return{top:n.top+RU(n,r),left:n.left+PU(n,s.horizontal)}}),[i,s.horizontal,s.vertical,a,c]),j=t.useCallback((function(e){var t=0;if(g&&"anchorEl"===c){var n=g(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[s.vertical,c,g]),Z=t.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:RU(e,R.vertical)+t,horizontal:PU(e,R.horizontal)}}),[R.horizontal,R.vertical]),U=t.useCallback((function(e){var t=j(e),n={width:e.offsetWidth,height:e.offsetHeight},r=Z(n,t);if("none"===c)return{top:null,left:null,transformOrigin:NU(r)};var o=z(t),s=o.top-r.vertical,a=o.left-r.horizontal,l=s+n.height,u=a+n.width,d=(0,YZ.Z)(AU(i)),h=d.innerHeight-y,f=d.innerWidth-y;if(s<y){var p=s-y;s-=p,r.vertical+=p}else if(l>h){var m=l-h;s-=m,r.vertical+=m}if(a<y){var g=a-y;a-=g,r.horizontal+=g}else if(u>f){var v=u-f;a-=v,r.horizontal+=v}return{top:"".concat(Math.round(s),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:NU(r)}}),[i,c,z,j,Z,y]),B=t.useCallback((function(){var e=F.current;if(e){var t=U(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[U]),V=t.useCallback((function(e){F.current=IN.findDOMNode(e)}),[]);t.useEffect((function(){E&&B()})),t.useImperativeHandle(r,(function(){return E?{updatePosition:function(){B()}}:null}),[E,B]),t.useEffect((function(){if(E){var e=(0,$Z.Z)((function(){B()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[E,B]);var q=D;"auto"!==D||N.muiSupportAuto||(q=void 0);var W=f||(i?(0,QZ.Z)(AU(i)).body:void 0);return t.createElement(wU,(0,bN.Z)({container:W,open:E,ref:n,BackdropProps:{invisible:!0},className:(0,kN.default)(d.root,h)},L),t.createElement(N,(0,bN.Z)({appear:!0,in:E,onEnter:b,onEntered:w,onExit:x,onExited:S,onExiting:k,timeout:q},M,{onEntering:(0,XZ.Z)((function(e,t){_&&_(e,t),B()}),M.onEntering)}),t.createElement(TU,(0,bN.Z)({elevation:m,ref:V},I,{className:(0,kN.default)(d.paper,I.className)}),u)))}));const OU=(0,EN.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(DU);const MU=t.createContext({});var LU=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.component,a=void 0===s?"ul":s,l=e.dense,c=void 0!==l&&l,u=e.disablePadding,d=void 0!==u&&u,h=e.subheader,f=(0,SN.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),p=t.useMemo((function(){return{dense:c}}),[c]);return t.createElement(MU.Provider,{value:p},t.createElement(a,(0,bN.Z)({className:(0,kN.default)(i.root,o,c&&i.dense,!d&&i.padding,h&&i.subheader),ref:n},f),h,r))}));const FU=(0,EN.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(LU);function zU(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function jU(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ZU(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function UU(e,t,n,r,i,o){for(var s=!1,a=i(e,t,!!t&&n);a;){if(a===e.firstChild){if(s)return;s=!0}var l=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&ZU(a,o)&&!l)return void a.focus();a=i(e,a,n)}}var BU="undefined"===typeof window?t.useEffect:t.useLayoutEffect,VU=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,o=void 0!==i&&i,s=e.autoFocusItem,a=void 0!==s&&s,l=e.children,c=e.className,u=e.disabledItemsFocusable,d=void 0!==u&&u,h=e.disableListWrap,f=void 0!==h&&h,p=e.onKeyDown,m=e.variant,g=void 0===m?"selectedMenu":m,v=(0,SN.Z)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),y=t.useRef(null),b=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});BU((function(){o&&y.current.focus()}),[o]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(aU(),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var w=t.useCallback((function(e){y.current=IN.findDOMNode(e)}),[]),_=(0,RN.Z)(w,n),x=-1;t.Children.forEach(l,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===x)&&(x=n))}));var S=t.Children.map(l,(function(e,n){if(n===x){var r={};return a&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return t.createElement(FU,(0,bN.Z)({role:"menu",ref:_,className:c,onKeyDown:function(e){var t=y.current,n=e.key,r=(0,QZ.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),UU(t,r,f,d,zU);else if("ArrowUp"===n)e.preventDefault(),UU(t,r,f,d,jU);else if("Home"===n)e.preventDefault(),UU(t,null,f,d,zU);else if("End"===n)e.preventDefault(),UU(t,null,f,d,jU);else if(1===n.length){var i=b.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);var a=r&&!i.repeating&&ZU(r,i);i.previousKeyMatched&&(a||UU(t,r,!1,d,zU,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:o?0:-1},v),S)}));const qU=VU;var WU={vertical:"top",horizontal:"right"},HU={vertical:"top",horizontal:"left"},GU=t.forwardRef((function(e,n){var r=e.autoFocus,i=void 0===r||r,o=e.children,s=e.classes,a=e.disableAutoFocusItem,l=void 0!==a&&a,c=e.MenuListProps,u=void 0===c?{}:c,d=e.onClose,h=e.onEntering,f=e.open,p=e.PaperProps,m=void 0===p?{}:p,g=e.PopoverClasses,v=e.transitionDuration,y=void 0===v?"auto":v,b=e.TransitionProps,w=(b=void 0===b?{}:b).onEntering,_=(0,SN.Z)(b,["onEntering"]),x=e.variant,S=void 0===x?"selectedMenu":x,k=(0,SN.Z)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),E=_U(),C=i&&!l&&f,I=t.useRef(null),T=t.useRef(null),R=-1;t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("menu"!==S&&e.props.selected||-1===R)&&(R=n))}));var P=t.Children.map(o,(function(e,n){return n===R?t.cloneElement(e,{ref:function(t){T.current=IN.findDOMNode(t),(0,tU.Z)(e.ref,t)}}):e}));return t.createElement(OU,(0,bN.Z)({getContentAnchorEl:function(){return T.current},classes:g,onClose:d,TransitionProps:(0,bN.Z)({onEntering:function(e,t){I.current&&I.current.adjustStyleForScrollbar(e,E),h&&h(e,t),w&&w(e,t)}},_),anchorOrigin:"rtl"===E.direction?WU:HU,transformOrigin:"rtl"===E.direction?WU:HU,PaperProps:(0,bN.Z)({},m,{classes:(0,bN.Z)({},m.classes,{root:s.paper})}),open:f,ref:n,transitionDuration:y},k),t.createElement(qU,(0,bN.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:I,autoFocus:i&&(-1===R||l),autoFocusItem:C,variant:S},u,{className:(0,kN.default)(s.list,u.className)}),P))}));const KU=(0,EN.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(GU);var QU=n(2497);function $U(e,t){return"object"===(0,GZ.Z)(t)&&null!==t?e===t:String(e)===String(t)}var YU=t.forwardRef((function(e,n){var r=e["aria-label"],i=e.autoFocus,o=e.autoWidth,s=e.children,a=e.classes,l=e.className,c=e.defaultValue,u=e.disabled,d=e.displayEmpty,h=e.IconComponent,f=e.inputRef,p=e.labelId,m=e.MenuProps,g=void 0===m?{}:m,v=e.multiple,y=e.name,b=e.onBlur,w=e.onChange,_=e.onClose,x=e.onFocus,S=e.onOpen,k=e.open,E=e.readOnly,C=e.renderValue,I=e.SelectDisplayProps,T=void 0===I?{}:I,R=e.tabIndex,P=(e.type,e.value),N=e.variant,A=void 0===N?"standard":N,D=(0,SN.Z)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),O=(0,QU.Z)({controlled:P,default:c,name:"Select"}),M=(0,HZ.Z)(O,2),L=M[0],F=M[1],z=t.useRef(null),j=t.useState(null),Z=j[0],U=j[1],B=t.useRef(null!=k).current,V=t.useState(),q=V[0],W=V[1],H=t.useState(!1),G=H[0],K=H[1],Q=(0,RN.Z)(n,f);t.useImperativeHandle(Q,(function(){return{focus:function(){Z.focus()},node:z.current,value:L}}),[Z,L]),t.useEffect((function(){i&&Z&&Z.focus()}),[i,Z]),t.useEffect((function(){if(Z){var e=(0,QZ.Z)(Z).getElementById(p);if(e){var t=function(){getSelection().isCollapsed&&Z.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[p,Z]);var $,Y,X=function(e,t){e?S&&S(t):_&&_(t),B||(W(o?null:Z.clientWidth),K(e))},J=t.Children.toArray(s),ee=function(e){return function(t){var n;if(v||X(!1,t),v){n=Array.isArray(L)?L.slice():[];var r=L.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),L!==n&&(F(n),w&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:y}}),w(t,e)))}},te=null!==Z&&(B?k:G);delete D["aria-invalid"];var ne=[],re=!1;(DZ({value:L})||d)&&(C?$=C(L):re=!0);var ie=J.map((function(e){if(!t.isValidElement(e))return null;var n;if(v){if(!Array.isArray(L))throw new Error((0,KZ.Z)(2));n=L.some((function(t){return $U(t,e.props.value)})),n&&re&&ne.push(e.props.children)}else(n=$U(L,e.props.value))&&re&&(Y=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":void 0,onClick:ee(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));re&&($=v?ne.join(", "):Y);var oe,se=q;!o&&B&&Z&&(se=Z.clientWidth),oe="undefined"!==typeof R?R:u?null:0;var ae=T.id||(y?"mui-component-select-".concat(y):void 0);return t.createElement(t.Fragment,null,t.createElement("div",(0,bN.Z)({className:(0,kN.default)(a.root,a.select,a.selectMenu,a[A],l,u&&a.disabled),ref:U,tabIndex:oe,role:"button","aria-disabled":u?"true":void 0,"aria-expanded":te?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[p,ae].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!E){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),X(!0,e))}},onMouseDown:u||E?null:function(e){0===e.button&&(e.preventDefault(),Z.focus(),X(!0,e))},onBlur:function(e){!te&&b&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:L,name:y}}),b(e))},onFocus:x},T,{id:ae}),function(e){return null==e||"string"===typeof e&&!e.trim()}($)?t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):$),t.createElement("input",(0,bN.Z)({value:Array.isArray(L)?L.join(","):L,name:y,ref:z,"aria-hidden":!0,onChange:function(e){var t=J.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=J[t];F(n.props.value),w&&w(e,n)}},tabIndex:-1,className:a.nativeInput,autoFocus:i},D)),t.createElement(h,{className:(0,kN.default)(a.icon,a["icon".concat((0,QN.Z)(A))],te&&a.iconOpen,u&&a.disabled)}),t.createElement(KU,(0,bN.Z)({id:"menu-".concat(y||""),anchorEl:Z,open:te,onClose:function(e){X(!1,e)}},g,{MenuListProps:(0,bN.Z)({"aria-labelledby":p,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:(0,bN.Z)({},g.PaperProps,{style:(0,bN.Z)({minWidth:se},null!=g.PaperProps?g.PaperProps.style:null)})}),ie))}));const XU=YU;const JU=(0,n(8499).Z)(t.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function eB(e,t){return parseInt(e[t],10)||0}var tB="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,nB={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},rB=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,o=e.rowsMax,s=e.rowsMin,a=e.maxRows,l=e.minRows,c=void 0===l?1:l,u=e.style,d=e.value,h=(0,SN.Z)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),f=a||o,p=i||s||c,m=t.useRef(null!=d).current,g=t.useRef(null),v=(0,RN.Z)(n,g),y=t.useRef(null),b=t.useRef(0),w=t.useState({}),_=w[0],x=w[1],S=t.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=y.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=eB(n,"padding-bottom")+eB(n,"padding-top"),s=eB(n,"border-bottom-width")+eB(n,"border-top-width"),a=r.scrollHeight-o;r.value="x";var l=r.scrollHeight-o,c=a;p&&(c=Math.max(Number(p)*l,c)),f&&(c=Math.min(Number(f)*l,c));var u=(c=Math.max(c,l))+("border-box"===i?o+s:0),d=Math.abs(c-a)<=1;x((function(e){return b.current<20&&(u>0&&Math.abs((e.outerHeightStyle||0)-u)>1||e.overflow!==d)?(b.current+=1,{overflow:d,outerHeightStyle:u}):e}))}),[f,p,e.placeholder]);t.useEffect((function(){var e=(0,$Z.Z)((function(){b.current=0,S()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[S]),tB((function(){S()})),t.useEffect((function(){b.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",(0,bN.Z)({value:d,onChange:function(e){b.current=0,m||S(),r&&r(e)},ref:v,rows:p,style:(0,bN.Z)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},u)},h)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:(0,bN.Z)({},nB,u)}))}));const iB=rB;var oB="undefined"===typeof window?t.useEffect:t.useLayoutEffect,sB=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,s=e.classes,a=e.className,l=(e.color,e.defaultValue),c=e.disabled,u=e.endAdornment,d=(e.error,e.fullWidth),h=void 0!==d&&d,f=e.id,p=e.inputComponent,m=void 0===p?"input":p,g=e.inputProps,v=void 0===g?{}:g,y=e.inputRef,b=(e.margin,e.multiline),w=void 0!==b&&b,_=e.name,x=e.onBlur,S=e.onChange,k=e.onClick,E=e.onFocus,C=e.onKeyDown,I=e.onKeyUp,T=e.placeholder,R=e.readOnly,P=e.renderSuffix,N=e.rows,A=e.rowsMax,D=e.rowsMin,O=e.maxRows,M=e.minRows,L=e.startAdornment,F=e.type,z=void 0===F?"text":F,j=e.value,Z=(0,SN.Z)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),U=null!=v.value?v.value:j,B=t.useRef(null!=U).current,V=t.useRef(),q=t.useCallback((function(e){0}),[]),W=(0,RN.Z)(v.ref,q),H=(0,RN.Z)(y,W),G=(0,RN.Z)(V,H),K=t.useState(!1),Q=K[0],$=K[1],Y=t.useContext(MZ);var X=jZ({props:e,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});X.focused=Y?Y.focused:Q,t.useEffect((function(){!Y&&c&&Q&&($(!1),x&&x())}),[Y,c,Q,x]);var J=Y&&Y.onFilled,ee=Y&&Y.onEmpty,te=t.useCallback((function(e){DZ(e)?J&&J():ee&&ee()}),[J,ee]);oB((function(){B&&te({value:U})}),[U,te,B]);t.useEffect((function(){te(V.current)}),[]);var ne=m,re=(0,bN.Z)({},v,{ref:G});"string"!==typeof ne?re=(0,bN.Z)({inputRef:G,type:z},re,{ref:null}):w?!N||O||M||A||D?(re=(0,bN.Z)({minRows:N||M,rowsMax:A,maxRows:O},re),ne=iB):ne="textarea":re=(0,bN.Z)({type:z},re);return t.useEffect((function(){Y&&Y.setAdornedStart(Boolean(L))}),[Y,L]),t.createElement("div",(0,bN.Z)({className:(0,kN.default)(s.root,s["color".concat((0,QN.Z)(X.color||"primary"))],a,X.disabled&&s.disabled,X.error&&s.error,h&&s.fullWidth,X.focused&&s.focused,Y&&s.formControl,w&&s.multiline,L&&s.adornedStart,u&&s.adornedEnd,"dense"===X.margin&&s.marginDense),onClick:function(e){V.current&&e.currentTarget===e.target&&V.current.focus(),k&&k(e)},ref:n},Z),L,t.createElement(LZ.Provider,{value:null},t.createElement(ne,(0,bN.Z)({"aria-invalid":X.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:l,disabled:X.disabled,id:f,onAnimationStart:function(e){te("mui-auto-fill-cancel"===e.animationName?V.current:{value:"x"})},name:_,placeholder:T,readOnly:R,required:X.required,rows:N,value:U,onKeyDown:C,onKeyUp:I},re,{className:(0,kN.default)(s.input,v.className,X.disabled&&s.disabled,w&&s.inputMultiline,X.hiddenLabel&&s.inputHiddenLabel,L&&s.inputAdornedStart,u&&s.inputAdornedEnd,"search"===z&&s.inputTypeSearch,"dense"===X.margin&&s.inputMarginDense),onBlur:function(e){x&&x(e),v.onBlur&&v.onBlur(e),Y&&Y.onBlur?Y.onBlur(e):$(!1)},onChange:function(e){if(!B){var t=e.target||V.current;if(null==t)throw new Error((0,KZ.Z)(1));te({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];v.onChange&&v.onChange.apply(v,[e].concat(r)),S&&S.apply(void 0,[e].concat(r))},onFocus:function(e){X.disabled?e.stopPropagation():(E&&E(e),v.onFocus&&v.onFocus(e),Y&&Y.onFocus?Y.onFocus(e):$(!0))}}))),u,P?P((0,bN.Z)({},X,{startAdornment:L})):null)}));const aB=(0,EN.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,bN.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(sB);var lB=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,s=void 0!==o&&o,a=e.inputComponent,l=void 0===a?"input":a,c=e.multiline,u=void 0!==c&&c,d=e.type,h=void 0===d?"text":d,f=(0,SN.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(aB,(0,bN.Z)({classes:(0,bN.Z)({},i,{root:(0,kN.default)(i.root,!r&&i.underline),underline:null}),fullWidth:s,inputComponent:l,multiline:u,ref:n,type:h},f))}));lB.muiName="Input";const cB=(0,EN.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(lB);var uB=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.disabled,s=e.IconComponent,a=e.inputRef,l=e.variant,c=void 0===l?"standard":l,u=(0,SN.Z)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return t.createElement(t.Fragment,null,t.createElement("select",(0,bN.Z)({className:(0,kN.default)(r.root,r.select,r[c],i,o&&r.disabled),disabled:o,ref:a||n},u)),e.multiple?null:t.createElement(s,{className:(0,kN.default)(r.icon,r["icon".concat((0,QN.Z)(c))],o&&r.disabled)}))}));const dB=uB;var hB=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},fB=t.createElement(cB,null),pB=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.IconComponent,s=void 0===o?JU:o,a=e.input,l=void 0===a?fB:a,c=e.inputProps,u=(e.variant,(0,SN.Z)(e,["children","classes","IconComponent","input","inputProps","variant"])),d=jZ({props:e,muiFormControl:ZZ(),states:["variant"]});return t.cloneElement(l,(0,bN.Z)({inputComponent:dB,inputProps:(0,bN.Z)({children:r,classes:i,IconComponent:s,variant:d.variant,type:void 0},c,l?l.props.inputProps:{}),ref:n},u))}));pB.muiName="Select";(0,EN.Z)(hB,{name:"MuiNativeSelect"})(pB);var mB=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,s=void 0!==o&&o,a=e.inputComponent,l=void 0===a?"input":a,c=e.multiline,u=void 0!==c&&c,d=e.type,h=void 0===d?"text":d,f=(0,SN.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(aB,(0,bN.Z)({classes:(0,bN.Z)({},i,{root:(0,kN.default)(i.root,!r&&i.underline),underline:null}),fullWidth:s,inputComponent:l,multiline:u,ref:n,type:h},f))}));mB.muiName="Input";const gB=(0,EN.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(mB);var vB=t.forwardRef((function(e,n){e.children;var r=e.classes,i=e.className,o=e.label,s=e.labelWidth,a=e.notched,l=e.style,c=(0,SN.Z)(e,["children","classes","className","label","labelWidth","notched","style"]),u="rtl"===_U().direction?"right":"left";if(void 0!==o)return t.createElement("fieldset",(0,bN.Z)({"aria-hidden":!0,className:(0,kN.default)(r.root,i),ref:n,style:l},c),t.createElement("legend",{className:(0,kN.default)(r.legendLabelled,a&&r.legendNotched)},o?t.createElement("span",null,o):t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var d=s>0?.75*s+8:.01;return t.createElement("fieldset",(0,bN.Z)({"aria-hidden":!0,style:(0,bN.Z)((0,rZ.Z)({},"padding".concat((0,QN.Z)(u)),8),l),className:(0,kN.default)(r.root,i),ref:n},c),t.createElement("legend",{className:r.legend,style:{width:a?d:.01}},t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const yB=(0,EN.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(vB);var bB=t.forwardRef((function(e,n){var r=e.classes,i=e.fullWidth,o=void 0!==i&&i,s=e.inputComponent,a=void 0===s?"input":s,l=e.label,c=e.labelWidth,u=void 0===c?0:c,d=e.multiline,h=void 0!==d&&d,f=e.notched,p=e.type,m=void 0===p?"text":p,g=(0,SN.Z)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return t.createElement(aB,(0,bN.Z)({renderSuffix:function(e){return t.createElement(yB,{className:r.notchedOutline,label:l,labelWidth:u,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,bN.Z)({},r,{root:(0,kN.default)(r.root,r.underline),notchedOutline:null}),fullWidth:o,inputComponent:a,multiline:h,ref:n,type:m},g))}));bB.muiName="Input";const wB=(0,EN.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(bB);var _B=hB,xB=t.createElement(cB,null),SB=t.createElement(gB,null),kB=t.forwardRef((function e(n,r){var i=n.autoWidth,o=void 0!==i&&i,s=n.children,a=n.classes,l=n.displayEmpty,c=void 0!==l&&l,u=n.IconComponent,d=void 0===u?JU:u,h=n.id,f=n.input,p=n.inputProps,m=n.label,g=n.labelId,v=n.labelWidth,y=void 0===v?0:v,b=n.MenuProps,w=n.multiple,_=void 0!==w&&w,x=n.native,S=void 0!==x&&x,k=n.onClose,E=n.onOpen,C=n.open,I=n.renderValue,T=n.SelectDisplayProps,R=n.variant,P=void 0===R?"standard":R,N=(0,SN.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),A=S?dB:XU,D=jZ({props:n,muiFormControl:ZZ(),states:["variant"]}).variant||P,O=f||{standard:xB,outlined:t.createElement(wB,{label:m,labelWidth:y}),filled:SB}[D];return t.cloneElement(O,(0,bN.Z)({inputComponent:A,inputProps:(0,bN.Z)({children:s,IconComponent:d,variant:D,type:void 0,multiple:_},S?{id:h}:{autoWidth:o,displayEmpty:c,labelId:g,MenuProps:b,onClose:k,onOpen:E,open:C,renderValue:I,SelectDisplayProps:(0,bN.Z)({id:h},T)},p,{classes:p?(0,WZ.Z)({baseClasses:a,newClasses:p.classes,Component:e}):a},f?f.props.inputProps:{}),ref:r},N))}));kB.muiName="Select";const EB=(0,EN.Z)(_B,{name:"MuiSelect"})(kB);var CB="undefined"===typeof window?t.useEffect:t.useLayoutEffect,IB=t.forwardRef((function(e,n){var r=e.alignItems,i=void 0===r?"center":r,o=e.autoFocus,s=void 0!==o&&o,a=e.button,l=void 0!==a&&a,c=e.children,u=e.classes,d=e.className,h=e.component,f=e.ContainerComponent,p=void 0===f?"li":f,m=e.ContainerProps,g=(m=void 0===m?{}:m).className,v=(0,SN.Z)(m,["className"]),y=e.dense,b=void 0!==y&&y,w=e.disabled,_=void 0!==w&&w,x=e.disableGutters,S=void 0!==x&&x,k=e.divider,E=void 0!==k&&k,C=e.focusVisibleClassName,I=e.selected,T=void 0!==I&&I,R=(0,SN.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),P=t.useContext(MU),N={dense:b||P.dense||!1,alignItems:i},A=t.useRef(null);CB((function(){s&&A.current&&A.current.focus()}),[s]);var D=t.Children.toArray(c),O=D.length&&(0,OZ.Z)(D[D.length-1],["ListItemSecondaryAction"]),M=t.useCallback((function(e){A.current=IN.findDOMNode(e)}),[]),L=(0,RN.Z)(M,n),F=(0,bN.Z)({className:(0,kN.default)(u.root,d,N.dense&&u.dense,!S&&u.gutters,E&&u.divider,_&&u.disabled,l&&u.button,"center"!==i&&u.alignItemsFlexStart,O&&u.secondaryAction,T&&u.selected),disabled:_},R),z=h||"li";return l&&(F.component=h||"div",F.focusVisibleClassName=(0,kN.default)(u.focusVisible,C),z=KN),O?(z=F.component||h?z:"div","li"===p&&("li"===z?z="div":"li"===F.component&&(F.component="div")),t.createElement(MU.Provider,{value:N},t.createElement(p,(0,bN.Z)({className:(0,kN.default)(u.container,g),ref:L},v),t.createElement(z,F,D),D.pop()))):t.createElement(MU.Provider,{value:N},t.createElement(z,(0,bN.Z)({ref:L},F),D))}));const TB=(0,EN.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(IB);var RB=t.forwardRef((function(e,n){var r,i=e.classes,o=e.className,s=e.component,a=void 0===s?"li":s,l=e.disableGutters,c=void 0!==l&&l,u=e.ListItemClasses,d=e.role,h=void 0===d?"menuitem":d,f=e.selected,p=e.tabIndex,m=(0,SN.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(r=void 0!==p?p:-1),t.createElement(TB,(0,bN.Z)({button:!0,role:h,tabIndex:r,component:a,selected:f,disableGutters:c,classes:(0,bN.Z)({dense:i.dense},u),className:(0,kN.default)(i.root,o,f&&i.selected,!c&&i.gutters),ref:n},m))}));const PB=(0,EN.Z)((function(e){return{root:(0,bN.Z)({},e.typography.body1,(0,rZ.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,bN.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(RB),NB=xN((e=>({formControl:{},selectEmpty:{marginTop:e.spacing(2)},selectItem:{}}))),AB=e=>{let{locations:t,selectedLocation:n,handleLocationChange:r}=e;const i=NB(nA);return(0,rA.jsxs)(zZ,{variant:"outlined",className:i.formControl,size:"medium",fullWidth:!0,children:[(0,rA.jsx)(qZ,{id:"location-select-label",children:"Your locations"}),(0,rA.jsx)(EB,{labelId:"location-select-label",id:"location-select",value:n,onChange:r,label:"Select a location",MenuProps:{getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},children:t.length?t.map((e=>(0,rA.jsx)(PB,{className:i.selectItem,value:e.id,children:e.name},e.id))):(0,rA.jsxs)(PB,{children:[(0,rA.jsx)(eA,{size:16,color:"primary"}),(0,rA.jsx)("div",{style:{marginLeft:"10px",color:nA.palette.grey[700]},children:"Loading..."})]})})]})};function DB(e){let{locations:t,selectedLocation:n,setSelectedLocation:r,fetchZonesWrapper:i}=e;return(0,rA.jsx)(TZ,{width:500,children:(0,rA.jsx)(AB,{locations:t,selectedLocation:n,handleLocationChange:e=>{const t=e.target.value;r(""===t?null:t),i(t)}})})}const OB=e=>{let{zone:t,onDragStart:n,onDragEnd:r,isDragged:i}=e;return(0,rA.jsx)("div",{className:"draggable-zone",draggable:!i,onDragStart:e=>n(e,t),onDragEnd:r,style:{border:"1px solid ".concat(i?nA.palette.grey[300]:nA.palette.secondary.main),borderRadius:"5px",padding:"5px",marginBottom:"10px",cursor:i?"not-allowed":"grab",backgroundColor:i?nA.palette.grey[200]:nA.palette.secondary.main,color:i?nA.palette.grey[500]:"white"},children:t.name})},MB=e=>{let{zones:t,handleDragStart:n,handleDragEnd:r}=e;return(0,rA.jsxs)("div",{className:"zone-panel",style:{overflowX:"scroll",overflowY:"hidden",whiteSpace:"nowrap"},children:[(0,rA.jsx)("div",{mb:2,style:{fontSize:"11px",color:nA.palette.grey[700]},children:"Drag & drop zone on map"}),t.map((e=>(0,rA.jsx)(OB,{zone:e,onDragStart:n,onDragEnd:r,isDragged:e.isDragged},e.name)))]})};function LB(e){let{selectedLocation:t,zones:n,handleDragStart:r,handleDragEnd:i,draggedZones:o}=e;return(0,rA.jsx)(eO,{sx:{p:1,display:"flex",flexDirection:"column",overflowX:"auto",borderRadius:"8px"},children:t&&(0,rA.jsx)(MB,{zones:n,handleDragStart:r,handleDragEnd:i,draggedZones:o})})}var FB=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.component,a=void 0===s?"p":s,l=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,SN.Z)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),c=jZ({props:e,muiFormControl:ZZ(),states:["variant","margin","disabled","error","filled","focused","required"]});return t.createElement(a,(0,bN.Z)({className:(0,kN.default)(i.root,("filled"===c.variant||"outlined"===c.variant)&&i.contained,o,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required,"dense"===c.margin&&i.marginDense),ref:n},l)," "===r?t.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)}));const zB=(0,EN.Z)((function(e){return{root:(0,bN.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(FB);var jB={standard:cB,filled:gB,outlined:wB},ZB=t.forwardRef((function(e,n){var r=e.autoComplete,i=e.autoFocus,o=void 0!==i&&i,s=e.children,a=e.classes,l=e.className,c=e.color,u=void 0===c?"primary":c,d=e.defaultValue,h=e.disabled,f=void 0!==h&&h,p=e.error,m=void 0!==p&&p,g=e.FormHelperTextProps,v=e.fullWidth,y=void 0!==v&&v,b=e.helperText,w=e.hiddenLabel,_=e.id,x=e.InputLabelProps,S=e.inputProps,k=e.InputProps,E=e.inputRef,C=e.label,I=e.multiline,T=void 0!==I&&I,R=e.name,P=e.onBlur,N=e.onChange,A=e.onFocus,D=e.placeholder,O=e.required,M=void 0!==O&&O,L=e.rows,F=e.rowsMax,z=e.maxRows,j=e.minRows,Z=e.select,U=void 0!==Z&&Z,B=e.SelectProps,V=e.type,q=e.value,W=e.variant,H=void 0===W?"standard":W,G=(0,SN.Z)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var K={};if("outlined"===H&&(x&&"undefined"!==typeof x.shrink&&(K.notched=x.shrink),C)){var Q,$=null!==(Q=null===x||void 0===x?void 0:x.required)&&void 0!==Q?Q:M;K.label=t.createElement(t.Fragment,null,C,$&&"\xa0*")}U&&(B&&B.native||(K.id=void 0),K["aria-describedby"]=void 0);var Y=b&&_?"".concat(_,"-helper-text"):void 0,X=C&&_?"".concat(_,"-label"):void 0,J=jB[H],ee=t.createElement(J,(0,bN.Z)({"aria-describedby":Y,autoComplete:r,autoFocus:o,defaultValue:d,fullWidth:y,multiline:T,name:R,rows:L,rowsMax:F,maxRows:z,minRows:j,type:V,value:q,id:_,inputRef:E,onBlur:P,onChange:N,onFocus:A,placeholder:D,inputProps:S},K,k));return t.createElement(zZ,(0,bN.Z)({className:(0,kN.default)(a.root,l),disabled:f,error:m,fullWidth:y,hiddenLabel:w,ref:n,required:M,color:u,variant:H},G),C&&t.createElement(qZ,(0,bN.Z)({htmlFor:_,id:X},x),C),U?t.createElement(EB,(0,bN.Z)({"aria-describedby":Y,id:_,labelId:X,value:q,input:ee},B),s):ee,b&&t.createElement(zB,(0,bN.Z)({id:Y},g),b))}));const UB=(0,EN.Z)({root:{}},{name:"MuiTextField"})(ZB),BB=e=>{let{label:t,value:n,onChange:r}=e;return(0,rA.jsx)(UB,{style:{minWidth:"400px"},label:t,value:n||"",onChange:r,variant:"outlined",margin:"normal"})};var VB=n(5735);function qB(e){return(0,PD.Z)("MuiButton",e)}const WB=(0,RD.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const HB=t.createContext({});const GB=t.createContext(void 0),KB=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],QB=e=>(0,bN.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),$B=(0,aA.ZP)(vM,{shouldForwardProp:e=>(0,aA.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,tO.Z)(n.color))],t["size".concat((0,tO.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,tO.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,bN.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,bN.Z)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,KD.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,KD.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,KD.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,bN.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(WB.focusVisible)]:(0,bN.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(WB.disabled)]:(0,bN.Z)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,KD.Fq)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(WB.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(WB.disabled)]:{boxShadow:"none"}}})),YB=(0,aA.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,tO.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},QB(t))})),XB=(0,aA.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,tO.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,bN.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},QB(t))})),JB=t.forwardRef((function(e,n){const r=t.useContext(HB),i=t.useContext(GB),o=(0,VB.Z)(r,e),s=(0,wA.Z)({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=s,_=(0,DN.Z)(s,KB),x=(0,bN.Z)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:b,variant:w}),S=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,"".concat(o).concat((0,tO.Z)(t)),"size".concat((0,tO.Z)(i)),"".concat(o,"Size").concat((0,tO.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,tO.Z)(i))],endIcon:["endIcon","iconSize".concat((0,tO.Z)(i))]},l=(0,zA.Z)(a,qB,s);return(0,bN.Z)({},s,l)})(x),k=y&&(0,rA.jsx)(YB,{className:S.startIcon,ownerState:x,children:y}),E=p&&(0,rA.jsx)(XB,{className:S.endIcon,ownerState:x,children:p}),C=i||"";return(0,rA.jsxs)($B,(0,bN.Z)({ownerState:x,className:(0,FA.Z)(r.className,S.root,u,C),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:(0,FA.Z)(S.focusVisible,m),ref:n,type:b},_,{classes:S,children:[k,a,E]}))})),eV=JB;function tV(e){let{locationAddress:t,setLocationAddress:n,locationName:r,setLocationName:i,saveZoneMappingDetails:o}=e;return(0,rA.jsxs)(jM,{direction:"row",spacing:4,alignItems:"center",justifyContent:"flex-start",children:[(0,rA.jsx)(BB,{label:"Site Address",value:t,onChange:e=>n(e.target.value)}),(0,rA.jsx)(BB,{label:"Site Name",value:r,onChange:e=>i(e.target.value)}),(0,rA.jsx)("div",{className:"zone-mapping-form",children:(0,rA.jsx)(eV,{variant:"contained",color:"primary",size:"large",onClick:o,children:"Save Zones"})})]})}const nV=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{const e=await dN();n(e)})(),(async()=>{const e=await fN();s(e)})(),(async()=>{const e=await pN();l(e)})()}),[]);return console.log("fetchedZonesData in fetchZonesWrapper ",r),{locations:e,fetchedZones:r,assets:o,categories:a,fetchZonesWrapper:async e=>{if(!e)return void i([]);const t=await hN(e);i(t)}}},rV=()=>{const{locations:e,fetchedZones:n,assets:r,categories:i,fetchZonesWrapper:o}=nV(),[s,a]=(0,t.useState)("");return{locations:e,fetchedZones:n,selectedLocation:s,setSelectedLocation:a,fetchZonesWrapper:o}},iV=()=>{const[e,n]=(0,t.useState)(null),r=(0,t.useRef)(null),[i,o]=(0,t.useState)({width:0,height:0}),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(null);return{image:e,setImage:n,imgRef:r,imageDimensions:i,setImageDimensions:o,imageFile:s,setImageFile:a,handleImageUpload:e=>{const t=new FileReader,r=e.target.files[0];t.onload=()=>{n(t.result),c(t.result)},t.readAsDataURL(r),a(r)}}},oV=(e,n)=>{const[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)([]);return console.log("zones in useZoneInteractions ",e),console.log("draggedZone in useZoneInteractions ",r),{draggedZone:r,setDraggedZone:i,draggedZones:o,setDraggedZones:s,handleDragStart:(e,t)=>{i(t)},handleDragEnd:()=>{if(!r)return;const t=e.map((e=>e.name===r.name?{...e,isDragged:!0}:e));n(t),i(null)},deleteZone:t=>{const r=e.map((e=>e.name===t.name?{...e,isDragged:!1}:e));n(r)}}};const sV=function(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),{locations:d,fetchedZones:h,selectedLocation:f,setSelectedLocation:p,fetchZonesWrapper:m}=rV(),{image:g,setImage:v,imgRef:y,imageDimensions:b,setImageDimensions:w,imageFile:_,setImageFile:x,handleImageUpload:S}=iV(),{zones:k,setZones:E,selectedZone:C,setSelectedZone:I,removeRectFromSelectedZone:T,editSelectedZone:R}=sA(h),[P,N]=(0,t.useState)(k.map((e=>({...e,isDragged:!0})))),{draggedZone:A,setDraggedZone:D,draggedZones:O,setDraggedZones:M,handleDragStart:L,handleDragEnd:F,deleteZone:z}=oV(P,N);(0,t.useEffect)((()=>{y.current&&w({width:y.current.clientWidth,height:y.current.clientHeight})}),[g]),(0,t.useEffect)((()=>{s(null)}),[r]),(0,t.useEffect)((()=>{v(o)}),[o]);const j=()=>{v(null),l(""),u(""),n([])};(0,t.useEffect)((()=>{(async()=>{if(!f)return void j();const e=await mN(f);e&&"imageUrl"in e?(e=>{v(e.imageUrl),s(e.imageUrl),y.current&&(y.current.src=e.imageUrl),l(e.address||""),u(e.locationName||"")})(e):(j(),y.current&&(y.current.src="")),(async()=>{const e=(await pv(Vg(Wm(MR,"bridge-mapping-details-boutique")))).docs.map((e=>{const t=e.data();return{name:t.name,x:t.x,y:t.y,width:t.width,height:t.height,id:t.id,isDragged:t.isDragged}}));e.length>0&&Z(e)})()})()}),[f]);const Z=e=>{const t=e.map((e=>({...e,rect:{x:e.x,y:e.y,width:e.width,height:e.height},isDragged:e.isDragged})));N(t)},U=async(e,t)=>{const n=(Jm(r=Fm(r=MR,Xm)),new kv(r,(e=>_v(r,e))));var r;for(const i of e){const e=t.get(i.id);if(e)n.update(Hm(MR,"bridge-mapping-details-boutique",e.id),{x:parseFloat(parseFloat(i.rect.x).toFixed(2))||30,y:parseFloat(parseFloat(i.rect.y).toFixed(2))||30,height:parseFloat(parseFloat(i.rect.height).toFixed(2))||30,width:parseFloat(parseFloat(i.rect.width).toFixed(2))||30,isDragged:i.isDragged,lastModifiedTimestamp:Iv()});else{const e={locationId:f,ownerId:"607737204301",name:i.name,x:i.rect?i.rect.x:30,y:i.rect?i.rect.y:30,height:i.rect?i.rect.height:30,width:i.rect?i.rect.width:30,lastModifiedTimestamp:Iv(),id:i.id,isDragged:i.isDragged},t=Hm(Wm(MR,"bridge-mapping-details-boutique"));n.set(t,e)}}await n.commit()},B=async()=>{if(f&&o)try{const e=_?await gN(_):o;await(async e=>{const t={ownerId:"607737204301",locationId:"b95ceecd-1749-4396-a4a0-54525ce3ace8",imageUrl:e,address:a,locationName:c,lastModifiedTimestamp:Iv()},n=await pv(Vg(Wm(MR,"zone-mapping-boutique"),Wg("locationId","==",f)));if(n.empty)await yv(Wm(MR,"zone-mapping-boutique"),t);else{const e=n.docs[0];await vv(Hm(MR,"zone-mapping-boutique",e.id),t)}alert("Zone mapping data saved successfully!")})(e),await(async()=>{const e=await pv(Vg(Wm(MR,"bridge-mapping-details-boutique"))),t=new Map(e.docs.map((e=>[e.data().id,e]))),n=[];for(let r=0;r<P.length;r+=500)n.push(P.slice(r,r+500));for(const r of n)await U(r,t);alert("Zone mapping details saved successfully!")})()}catch(wS){console.error("Error saving zone mapping data: ",wS)}else alert("Please select a location and upload an image before saving.")};return _||f?(0,rA.jsx)(ij,{children:(0,rA.jsxs)(Sj,{maxWidth:"false",sx:{mt:3,mb:2},children:[(0,rA.jsx)(gj,{container:!0,spacing:1,mb:1,children:(0,rA.jsx)(gj,{item:!0,xs:12,md:12,lg:12,p:0,children:(0,rA.jsx)(CO,{sx:{width:"100%"},children:(0,rA.jsx)(eO,{sx:{p:2,display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:(0,rA.jsx)(tV,{locationAddress:a,setLocationAddress:l,locationName:c,setLocationName:u,saveZoneMappingDetails:B})})})})}),(0,rA.jsxs)(gj,{container:!0,spacing:1,children:[(0,rA.jsx)(gj,{item:!0,xs:10,p:0,children:(0,rA.jsx)(eO,{sx:{p:1,display:"flex",flexDirection:"column",overflow:"auto",borderRadius:"8px"},children:(0,rA.jsx)(NZ,{image:g,imgRef:y,setImageDimensions:w,zones:P,selectedZone:C,setZones:N,draggedZones:O,setDraggedZones:M,deleteZone:z})})}),(0,rA.jsx)(gj,{item:!0,xs:2,p:0,children:(0,rA.jsx)(LB,{selectedLocation:f,zones:P,handleDragStart:L,handleDragEnd:F,draggedZones:O})})]})]})}):(0,rA.jsx)(ij,{children:(0,rA.jsx)(Sj,{maxWidth:"lg",children:(0,rA.jsxs)(gj,{container:!0,spacing:3,direction:"column",alignItems:"center",justifyContent:"center",children:[(0,rA.jsxs)(gj,{item:!0,xs:12,md:12,lg:12,children:[(0,rA.jsx)(CO,{mb:3,mt:"30vh",children:(0,rA.jsx)(EL,{align:"center",variant:"h6",color:nA.palette.grey[600],children:"Choose Location or Upload New Map"})}),(0,rA.jsx)(DB,{locations:d,selectedLocation:f,setSelectedLocation:p,fetchZonesWrapper:m})]}),(0,rA.jsx)(gj,{item:!0,xs:12,md:12,lg:12,children:(0,rA.jsx)(EL,{align:"center",variant:"paragraph",sx:{fontWeight:"bold"},color:nA.palette.grey[400],children:"OR"})}),(0,rA.jsx)(gj,{item:!0,xs:12,md:12,lg:12,children:(0,rA.jsx)(oA,{handleImageUpload:S})})]})})})},aV=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{const e=await dN();n(e)})(),(async()=>{const e=await fN();s(e)})(),(async()=>{const e=await pN();l(e)})(),(async()=>{const e=await(async()=>(await pv(Wm(MR,"zone-category-mapping-boutique"))).docs.map((e=>e.data())))();u(e)})()}),[]);return{locations:e,fetchedZones:r,assets:o,setAssets:s,categories:a,fetchZonesWrapper:async e=>{if(!e)return void i([]);const t=await hN(e);i(t)},zoneCategory:c}},lV=e=>{const[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(null);(0,t.useEffect)((()=>{e&&r(e)}),[e]);return{zones:n,setZones:r,selectedZone:i,setSelectedZone:o,removeRectFromSelectedZone:()=>{if(!i)return;const e={...i,rect:null},t=n.findIndex((e=>e.name===i.name)),s=[...n];s[t]=e,r(s),o(e)},editSelectedZone:e=>{if(!i||!e)return;const t={...i,name:e},s=n.findIndex((e=>e.name===i.name)),a=[...n];a[s]=t,r(a),o(t)}}};var cV=t.forwardRef((function(e,n){var r=e.edge,i=void 0!==r&&r,o=e.children,s=e.classes,a=e.className,l=e.color,c=void 0===l?"default":l,u=e.disabled,d=void 0!==u&&u,h=e.disableFocusRipple,f=void 0!==h&&h,p=e.size,m=void 0===p?"medium":p,g=(0,SN.Z)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return t.createElement(KN,(0,bN.Z)({className:(0,kN.default)(s.root,a,"default"!==c&&s["color".concat((0,QN.Z)(c))],d&&s.disabled,"small"===m&&s["size".concat((0,QN.Z)(m))],{start:s.edgeStart,end:s.edgeEnd}[i]),centerRipple:!0,focusRipple:!f,disabled:d,ref:n},g),t.createElement("span",{className:s.label},o))}));const uV=(0,EN.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,CN.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,CN.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,CN.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(cV);var dV=n(4241);const hV=xN((e=>({input:{padding:e.spacing(2),backgroundColor:"white",fontSize:20,borderRadius:"2px"},inputExpanded:{padding:e.spacing(2),backgroundColor:"white",fontSize:20,borderBottomLeftRadius:0,borderBottomRightRadius:0},clearButton:{position:"absolute",top:"50%",right:10,transform:"translateY(-50%)",zIndex:1},suggestionsList:{position:"absolute",width:"calc(100% - 32px)",zIndex:2,maxHeight:400,borderTopLeftRadius:0,borderTopRightRadius:0,backgroundColor:"#fff"},suggestionItem:{padding:e.spacing(2),fontSize:20,cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"calc(100% - 32px)","&:hover":{backgroundColor:e.palette.grey[200]}},highlighted:{fontWeight:"bold",color:e.palette.primary.main}}))),fV=e=>{let{placeholder:t,value:n,suggestions:r,onChange:i,onSelect:o,searchInputRef:s}=e;const a=hV(),l=(e,t)=>{const n=e.name.toLowerCase().indexOf(t.toLowerCase()),r=e.name.slice(0,n),i=e.name.slice(n,n+t.length),s=e.name.slice(n+t.length);return(0,rA.jsxs)("div",{onClick:t=>((e,t)=>{o&&o(t,t.zones)})(0,e),className:a.suggestionItem,children:[(0,rA.jsx)("span",{children:r}),(0,rA.jsx)("span",{className:a.highlighted,children:i}),(0,rA.jsx)("span",{children:s})]},e.id)};return(0,rA.jsxs)(CO,{className:a.root,sx:{position:"relative",px:2,pt:4,pb:2},children:[(0,rA.jsx)(UB,{autoFocus:!0,fullWidth:!0,value:n,placeholder:t,onChange:i,ref:s,InputProps:{classes:{input:r.length>0?a.inputExpanded:a.input},endAdornment:(0,rA.jsx)(rA.Fragment,{children:n&&(0,rA.jsx)(uV,{className:a.clearButton,onClick:()=>{i({target:{value:""}})},children:(0,rA.jsx)(dV.Z,{})})})}}),(0,rA.jsx)(CO,{children:r.length>0&&(0,rA.jsx)("div",{className:a.suggestionsList,children:r.map((e=>l(e,n)))})})]})},pV=e=>{let{assets:n,filteredAssets:r,setFilteredAssets:i,highlightedAssets:o,setHighlightedAssets:s,searchText:a,setSearchText:l,searchInputRef:c}=e;const[u,d]=(0,t.useState)([]);(0,t.useEffect)((()=>{if(a){const e=a.toLowerCase(),t=n.filter((t=>t.id&&t.id.toLowerCase().includes(e)));i(t)}else i(n)}),[n,a]),(0,t.useEffect)((()=>{if(o&&void 0!==o.id){const e=n.find((e=>e&&e.id===o.id));s(e)}}),[n,o]);return(0,t.useEffect)((()=>{a&&""!==a||s(null)}),[a,n]),(0,rA.jsx)(fV,{placeholder:"Search (Asset ID, UPC)",value:a,suggestions:u,onChange:e=>{const t=e.target.value;if(l(t),t.length>0){const e=t.toLowerCase();d(n.filter((t=>{if(t&&t.id){return t.id.toLowerCase().includes(e)}return!1})))}else d([])},onSelect:(e,t)=>{if(!e||!e.id)return void console.error("Selected category or its name is null or undefined!");if(!n)return;l(e.id),d([]);const i=r.filter((t=>t&&t.id&&t.id===e.id));i&&i.length>0&&n.includes(i[0])?s(i[0]):o&&s(n[0])},searchInputRef:c})},mV=((0,aA.ZP)(AO,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}}})),(0,aA.ZP)(dO,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{"& .MuiDrawer-paper":{position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box",...!n&&{overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7),[t.breakpoints.up("sm")]:{width:t.spacing(9)}}}}})),(0,tA.Z)(),e=>{let{children:n}=e;const[r,i]=t.useState(!0);return(0,rA.jsx)(bA,{theme:nA,children:(0,rA.jsx)(CO,{sx:{display:"flex"},children:(0,rA.jsx)(CO,{component:"main",sx:{backgroundColor:e=>"light"===e.palette.mode?"#fafafa":e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},children:n})})})});n(7441);var gV=n(8301);const vV=YA,yV=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function bV(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function wV(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function _V(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function xV(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&_V(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const SV=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,DN.Z)(e,yV),f=t.useRef(null),p=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,GM.Z)((()=>{i&&f.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n="".concat(vV((0,gV.Z)(e)),"px");f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width="calc(100% + ".concat(n,")")}return f.current}})),[]);const m=(0,kD.Z)(f,n);let g=-1;t.Children.forEach(s,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===n&&(g+=1,g>=s.length&&(g=-1))}));const v=t.Children.map(s,((e,n)=>{if(n===g){const n={};return o&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,rA.jsx)(WM,(0,bN.Z)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,gV.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),xV(t,r,c,l,bV);else if("ArrowUp"===n)e.preventDefault(),xV(t,r,c,l,wV);else if("Home"===n)e.preventDefault(),xV(t,null,c,l,bV);else if("End"===n)e.preventDefault(),xV(t,null,c,l,wV);else if(1===n.length){const i=p.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&_V(r,i);i.previousKeyMatched&&(a||xV(t,r,!1,l,bV,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:i?0:-1},h,{children:v}))})),kV=SV,EV=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function CV(e){return"scale(".concat(e,", ").concat(e**2,")")}const IV={entering:{opacity:1,transform:CV(1)},entered:{opacity:1,transform:"none"}},TV="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),RV=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=wD}=e,v=(0,DN.Z)(e,EV),y=t.useRef(),b=t.useRef(),w=_D(),_=t.useRef(null),x=(0,kD.Z)(_,o.ref,n),S=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},k=S(u),E=S(((e,t)=>{xD(e);const{duration:n,delay:r,easing:i}=SD({style:p,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:TV?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),C=S(c),I=S(f),T=S((e=>{const{duration:t,delay:n,easing:r}=SD({style:p,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:TV?i:.666*i,delay:TV?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=CV(.75),d&&d(e)})),R=S(h);return t.useEffect((()=>()=>{clearTimeout(y.current)}),[]),(0,rA.jsx)(g,(0,bN.Z)({appear:i,in:a,nodeRef:_,onEnter:E,onEntered:C,onEntering:k,onExit:T,onExited:R,onExiting:I,addEndListener:e=>{"auto"===m&&(y.current=setTimeout(e,b.current||0)),r&&r(_.current,e)},timeout:"auto"===m?null:m},v,{children:(e,n)=>t.cloneElement(o,(0,bN.Z)({style:(0,bN.Z)({opacity:0,transform:CV(.75),visibility:"exited"!==e||a?void 0:"hidden"},IV[e],p,o.props.style),ref:x},n))}))}));RV.muiSupportAuto=!0;const PV=RV;function NV(e){return(0,PD.Z)("MuiPopover",e)}(0,RD.Z)("MuiPopover",["root","paper"]);const AV=["onEntering"],DV=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],OV=["slotProps"];function MV(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function LV(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function FV(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function zV(e){return"function"===typeof e?e():e}const jV=(0,aA.ZP)(UD,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ZV=(0,aA.ZP)(eO,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),UV=t.forwardRef((function(e,n){var r,i,o;const s=(0,wA.Z)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:x=PV,transitionDuration:S="auto",TransitionProps:{onEntering:k}={},disableScrollLock:E=!1}=s,C=(0,DN.Z)(s.TransitionProps,AV),I=(0,DN.Z)(s,DV),T=null!=(r=null==w?void 0:w.paper)?r:y,R=t.useRef(),P=(0,kD.Z)(R,T.ref),N=(0,bN.Z)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:T,transformOrigin:_,TransitionComponent:x,transitionDuration:S,TransitionProps:C}),A=(e=>{const{classes:t}=e;return(0,zA.Z)({root:["root"],paper:["paper"]},NV,t)})(N),D=t.useCallback((()=>{if("anchorPosition"===d)return u;const e=zV(l),t=(e&&1===e.nodeType?e:(0,gV.Z)(R.current).body).getBoundingClientRect();return{top:t.top+MV(t,c.vertical),left:t.left+LV(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),O=t.useCallback((e=>({vertical:MV(e,_.vertical),horizontal:LV(e,_.horizontal)})),[_.horizontal,_.vertical]),M=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=O(t);if("none"===d)return{top:null,left:null,transformOrigin:FV(n)};const r=D();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,c=(0,VD.Z)(zV(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(a>h){const e=a-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:FV(n)}}),[l,d,D,O,g]),[L,F]=t.useState(v),z=t.useCallback((()=>{const e=R.current;if(!e)return;const t=M(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,F(!0)}),[M]);t.useEffect((()=>(E&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z))),[l,E,z]);t.useEffect((()=>{v&&z()})),t.useImperativeHandle(a,(()=>v?{updatePosition:()=>{z()}}:null),[v,z]),t.useEffect((()=>{if(!v)return;const e=(0,BD.Z)((()=>{z()})),t=(0,VD.Z)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,z]);let j=S;"auto"!==S||x.muiSupportAuto||(j=void 0);const Z=p||(l?(0,gV.Z)(zV(l)).body:void 0),U=null!=(i=null==b?void 0:b.root)?i:jV,B=null!=(o=null==b?void 0:b.paper)?o:ZV,V=HA({elementType:B,externalSlotProps:(0,bN.Z)({},T,{style:L?T.style:(0,bN.Z)({},T.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:N,className:(0,FA.Z)(A.paper,null==T?void 0:T.className)}),q=HA({elementType:U,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:I,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:Z,open:v},ownerState:N,className:(0,FA.Z)(A.root,f)}),{slotProps:W}=q,H=(0,DN.Z)(q,OV);return(0,rA.jsx)(U,(0,bN.Z)({},H,!ZA(U)&&{slotProps:W,disableScrollLock:E},{children:(0,rA.jsx)(x,(0,bN.Z)({appear:!0,in:v,onEntering:(e,t)=>{k&&k(e,t),z()},onExited:()=>{F(!1)},timeout:j},C,{children:(0,rA.jsx)(B,(0,bN.Z)({},V,{children:h}))}))}))})),BV=UV;function VV(e){return(0,PD.Z)("MuiMenu",e)}(0,RD.Z)("MuiMenu",["root","paper","list"]);const qV=["onEntering"],WV=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],HV={vertical:"top",horizontal:"right"},GV={vertical:"top",horizontal:"left"},KV=(0,aA.ZP)(BV,{shouldForwardProp:e=>(0,aA.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),QV=(0,aA.ZP)(ZV,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),$V=(0,aA.ZP)(kV,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),YV=t.forwardRef((function(e,n){var r,i;const o=(0,wA.Z)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=o,w=(0,DN.Z)(o.TransitionProps,qV),_=(0,DN.Z)(o,WV),x=_D(),S="rtl"===x.direction,k=(0,bN.Z)({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:v}),E=(e=>{const{classes:t}=e;return(0,zA.Z)({root:["root"],paper:["paper"],list:["list"]},VV,t)})(k),C=s&&!c&&h,I=t.useRef(null);let T=-1;t.Children.map(a,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=n))}));const R=null!=(r=y.paper)?r:QV,P=null!=(i=b.paper)?i:f,N=HA({elementType:y.root,externalSlotProps:b.root,ownerState:k,className:[E.root,l]}),A=HA({elementType:R,externalSlotProps:P,ownerState:k,className:E.paper});return(0,rA.jsx)(KV,(0,bN.Z)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?HV:GV,slots:{paper:R,root:y.root},slotProps:{root:N,paper:A},open:h,ref:n,transitionDuration:m,TransitionProps:(0,bN.Z)({onEntering:(e,t)=>{I.current&&I.current.adjustStyleForScrollbar(e,x),g&&g(e,t)}},w),ownerState:k},_,{classes:p,children:(0,rA.jsx)($V,(0,bN.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:I,autoFocus:s&&(-1===T||c),autoFocusItem:C,variant:v},u,{className:(0,FA.Z)(E.list,u.className),children:a}))}))})),XV=YV;function JV(e){return(0,PD.Z)("MuiMenuItem",e)}const eq=(0,RD.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),tq=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],nq=(0,aA.ZP)(vM,{shouldForwardProp:e=>(0,aA.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,bN.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(eq.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(eq.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(eq.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,KD.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(eq.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(eq.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(jO.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(jO.inset)]:{marginLeft:52},["& .".concat(IL.root)]:{marginTop:0,marginBottom:0},["& .".concat(IL.inset)]:{paddingLeft:36},["& .".concat(pL.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,bN.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(pL.root," svg")]:{fontSize:"1.25rem"}}))})),rq=t.forwardRef((function(e,n){const r=(0,wA.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,f=(0,DN.Z)(r,tq),p=t.useContext(ZM),m=t.useMemo((()=>({dense:s||p.dense||!1,disableGutters:l})),[p.dense,s,l]),g=t.useRef(null);(0,GM.Z)((()=>{i&&g.current&&g.current.focus()}),[i]);const v=(0,bN.Z)({},r,{dense:m.dense,divider:a,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},l=(0,zA.Z)(a,JV,s);return(0,bN.Z)({},s,l)})(r),b=(0,kD.Z)(g,n);let w;return r.disabled||(w=void 0!==d?d:-1),(0,rA.jsx)(ZM.Provider,{value:m,children:(0,rA.jsx)(nq,(0,bN.Z)({ref:b,role:u,tabIndex:w,component:o,focusVisibleClassName:(0,FA.Z)(y.focusVisible,c),className:(0,FA.Z)(y.root,h)},f,{ownerState:v,classes:y}))})})),iq=rq;var oq=n(8008);const sq=xN((e=>({menuButton:{padding:6},menuList:{display:"flex",flexDirection:"column"},menuItem:{display:"block",padding:"6px 24px 6px 16px","& span":{marginLeft:"12px"},"& svg":{opacity:.7}}})));function aq(){const[e,n]=t.useState(null),r=Boolean(e),i=sq();return(0,rA.jsxs)(CO,{style:{backgroundColor:nA.palette.grey[200],borderRadius:nA.spacing(1)},children:[(0,rA.jsx)(SM,{className:i.menuButton,onClick:e=>{n(e.currentTarget)},children:(0,rA.jsx)(oq.Z,{})}),(0,rA.jsxs)(XV,{className:i.menuList,anchorEl:e,open:r,onClose:()=>{n(null)},children:[(0,rA.jsxs)(iq,{className:i.menuItem,component:Gz,to:"/admin/view",disableRipple:!0,children:[(0,rA.jsx)($z.Z,{}),(0,rA.jsx)("span",{children:"Admin View"})]}),(0,rA.jsxs)(iq,{className:i.menuItem,component:Gz,to:"/user/view",disableRipple:!0,children:[(0,rA.jsx)(Yz.Z,{}),(0,rA.jsx)("span",{children:"User View"})]})]})]})}function lq(e){return(0,PD.Z)("MuiCircularProgress",e)}(0,RD.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var cq,uq,dq,hq;const fq=["className","color","disableShrink","size","style","thickness","value","variant"];let pq,mq,gq,vq;const yq=44,bq=TA(pq||(pq=cq||(cq=GO(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),wq=TA(mq||(mq=uq||(uq=GO(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),_q=(0,aA.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,tO.Z)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,bN.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&IA(gq||(gq=dq||(dq=GO(["\n      animation: "," 1.4s linear infinite;\n    "]))),bq)})),xq=(0,aA.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Sq=(0,aA.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,tO.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,bN.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&IA(vq||(vq=hq||(hq=GO(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),wq)})),kq=t.forwardRef((function(e,t){const n=(0,wA.Z)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,DN.Z)(n,fq),h=(0,bN.Z)({},n,{color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u}),f=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,"color".concat((0,tO.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,tO.Z)(n)),i&&"circleDisableShrink"]};return(0,zA.Z)(o,lq,t)})(h),p={},m={},g={};if("determinate"===u){const e=2*Math.PI*((yq-l)/2);p.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),p.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),m.transform="rotate(-90deg)"}return(0,rA.jsx)(_q,(0,bN.Z)({className:(0,FA.Z)(f.root,r),style:(0,bN.Z)({width:s,height:s},m,a),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,rA.jsx)(xq,{className:f.svg,ownerState:h,viewBox:"".concat(22," ").concat(22," ").concat(yq," ").concat(yq),children:(0,rA.jsx)(Sq,{className:f.circle,style:p,ownerState:h,cx:yq,cy:yq,r:(yq-l)/2,fill:"none",strokeWidth:l})})}))})),Eq=kq,Cq=()=>{const[e,n]=t.useState(0);return t.useEffect((()=>{const e=new ResizeObserver((e=>{let[{target:t}]=e;t&&n(t.clientHeight)}));e.observe(document.querySelector("header.MuiAppBar-root"))}),[]),e};function Iq(e,t){let n;return Number.isInteger(t)||(console.warn("Called debounce without a valid number"),t=300),function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];clearTimeout(n);const a=this;n=window.setTimeout((function(){e.apply(a,o)}),t)}}const{log:Tq,group:Rq,groupEnd:Pq}=console,Nq=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)},Aq=.01,Dq=(e,n,r)=>{const[i,o]=(0,t.useState)(1),s=e=>o(Math.min(e,1)),a=()=>{var t,r;Nq(Tq,"\n\n"),Nq(Rq,"Sizes");const{offsetHeight:i=0,offsetWidth:o=0}=null!==(t=e.current)&&void 0!==t?t:{};Nq(Tq,"Parent size:",{parentH:i,parentW:o});const{offsetHeight:a=0,offsetWidth:l=0}=null!==(r=n.current)&&void 0!==r?r:{};Nq(Tq,"Child size:",{childH:a,childW:l}),Nq(Pq);const c=i>o,u=a>l;if(Nq(Tq,{isPPortrait:c,isCPortrait:u}),c&&!u){const e=o/l-Aq;Nq(Tq,{wRatio:e}),s(e)}if(c&&u){const e=o/l-Aq;s(a*(e+Aq)>=i?i/a-Aq:e)}else if(!c&&u){const e=i/a-Aq;Nq(Tq,{hRatio:e}),s(e)}else if(!c&&!u){const e=i/a-Aq;s(l*(e+Aq)>=o?o/l-Aq:e)}Nq(Tq,"\n\n")};(0,t.useLayoutEffect)((()=>(a(),window.addEventListener("resize",Iq(a,500)),()=>window.removeEventListener("resize",Iq(a,500)))),[r]);return{scale:i,recalculateScaleCallback:()=>{a()}}},Oq=e=>{const t={bridgeToZone:{},zoneRefBridge:{}},n={};return e.forEach((e=>{e.name.includes("-N-")&&(n[e.zoneId]=e)})),e.forEach((e=>{t.bridgeToZone[e.id]=e.zoneId,e.name.includes("DOCK_DOOR")?t.zoneRefBridge[e.zoneId]||(t.zoneRefBridge[e.zoneId]={refBridgeId:e.id,x:e.x,y:e.y,name:e.name,zoneId:e.zoneId}):n[e.zoneId]?t.zoneRefBridge[e.zoneId]={refBridgeId:n[e.zoneId].id,x:n[e.zoneId].x,y:n[e.zoneId].y,name:n[e.zoneId].name,zoneId:e.zoneId}:t.zoneRefBridge[e.zoneId]||(t.zoneRefBridge[e.zoneId]={refBridgeId:e.id,x:e.x,y:e.y,name:e.name,zoneId:e.zoneId})})),t},Mq=e=>{const t=e.split("-");if(t.length>=3){const e=t[1].replace(/_/g," ").split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ");return t[2]&&/^\d+$/.test(t[2])?"".concat(e," ").concat(t[2]):e}return e},Lq=e=>{let{zone:t,width:n,height:r,assetCount:i}=e;const o=t.rect.x+t.rect.width/2,s=t.rect.y+t.rect.height/2,a="blue";return(0,rA.jsxs)("svg",{width:n,height:r,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:[(0,rA.jsx)("circle",{cx:o,cy:s,r:"100",fill:"grey",fillOpacity:.4,strokeWidth:2,style:{pointerEvents:"all"}}),(0,rA.jsx)("text",{x:o,y:s-25,fill:a,fontSize:"20",fontWeight:"500",textAnchor:"middle",alignmentBaseline:"middle",style:{fontFamily:"Arial, sans-serif",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"},children:Mq(t.name)}),(0,rA.jsx)("text",{x:o,y:s,fill:a,fontSize:"30",fontWeight:"500",textAnchor:"middle",alignmentBaseline:"middle",style:{fontFamily:"Arial, sans-serif",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"},children:i}),(0,rA.jsx)("text",{x:o,y:s+25,fill:a,fontSize:"30",fontWeight:"500",textAnchor:"middle",alignmentBaseline:"middle",style:{fontFamily:"Arial, sans-serif",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.5)"},children:"Assets"})]})},Fq=e=>e.reduce(((e,t)=>((e[t.poiIdEvent]||(e[t.poiIdEvent]=[])).push(t),e)),{}),zq=(e,t,n)=>Object.keys(t.zoneRefBridge).reduce(((e,t)=>(e[t]=n[t]||[],e)),{}),jq=e=>e.reduce(((e,t)=>(t.dockDoorGroup&&(e[t.dockDoorGroup]||(e[t.dockDoorGroup]=[])).push(t),e)),{}),Zq=(e,t)=>{const n=e.length,r=e.reduce(((e,n)=>{const r=t.zoneRefBridge[n.zoneId];return e.x+=r.x,e.y+=r.y,e}),{x:0,y:0});return{x:r.x/n,y:r.y/n}},Uq=(e,t)=>e.reduce(((e,n)=>e+t[n.zoneId].length),0),Bq=(e,t)=>e.dockDoorGroup?t[e.dockDoorGroup]:null,Vq=(e,t)=>e.some((e=>t.has(e.zoneId))),qq=(e,t,n,r,i,o,s)=>{const a=n.zoneRefBridge[e.zoneId],l=Bq(e,r);let c;if(t.has(e.zoneId))return null;if(t.add(e.zoneId),l){var u,d;const r=Zq(l,n),a=Uq(l,s);c={key:e.id+"-group",zone:{...e,name:"Dock ".concat(e.dockDoorGroup),rect:{x:r.x-40,y:r.y-5,width:null===(u=e.rect)||void 0===u?void 0:u.width,height:null===(d=e.rect)||void 0===d?void 0:d.height}},width:i,height:o},a&&(c.assetCount=a),l.forEach((e=>t.add(e.zoneId)))}else{var h,f;c={key:e.id,zone:{...e,rect:{x:a.x,y:a.y,width:null===(h=e.rect)||void 0===h?void 0:h.width,height:null===(f=e.rect)||void 0===f?void 0:f.height}},width:i,height:o}}return c},Wq=e=>{let{assets:n,zones:r,width:i,height:o}=e;const s=(0,t.useMemo)((()=>Oq(r)),[r]),a=Fq(n),l=zq(0,s,a),c=jq(r);return console.log("ZoneSVGRenderer rendered"),(0,rA.jsx)("div",{style:{position:"relative"},children:r.map((e=>{const t=qq(e,new Set,s,c,i,o,l);return(0,rA.jsx)(Lq,{...t,assetCount:l[t.zone.zoneId].length})}))})};var Hq=n(3073);function Gq(e,n,r,i,o){const[s,a]=t.useState((()=>o&&r?r(e).matches:i?i(e).matches:n));return(0,GM.Z)((()=>{let t=!0;if(!r)return;const n=r(e),i=()=>{t&&a(n.matches)};return i(),n.addListener(i),()=>{t=!1,n.removeListener(i)}}),[e,r]),s}const Kq=r.useSyncExternalStore;function Qq(e,n,r,i,o){const s=t.useCallback((()=>n),[n]),a=t.useMemo((()=>{if(o&&r)return()=>r(e).matches;if(null!==i){const{matches:t}=i(e);return()=>t}return s}),[s,e,i,o,r]),[l,c]=t.useMemo((()=>{if(null===r)return[s,()=>()=>{}];const t=r(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,r,e]);return Kq(c,l,a)}var $q=[0,1,2,3,4,5,6,7,8,9,10],Yq=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Xq(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Jq=t.forwardRef((function(e,n){var r=e.alignContent,i=void 0===r?"stretch":r,o=e.alignItems,s=void 0===o?"stretch":o,a=e.classes,l=e.className,c=e.component,u=void 0===c?"div":c,d=e.container,h=void 0!==d&&d,f=e.direction,p=void 0===f?"row":f,m=e.item,g=void 0!==m&&m,v=e.justify,y=e.justifyContent,b=void 0===y?"flex-start":y,w=e.lg,_=void 0!==w&&w,x=e.md,S=void 0!==x&&x,k=e.sm,E=void 0!==k&&k,C=e.spacing,I=void 0===C?0:C,T=e.wrap,R=void 0===T?"wrap":T,P=e.xl,N=void 0!==P&&P,A=e.xs,D=void 0!==A&&A,O=e.zeroMinWidth,M=void 0!==O&&O,L=(0,SN.Z)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),F=(0,kN.default)(a.root,l,h&&[a.container,0!==I&&a["spacing-xs-".concat(String(I))]],g&&a.item,M&&a.zeroMinWidth,"row"!==p&&a["direction-xs-".concat(String(p))],"wrap"!==R&&a["wrap-xs-".concat(String(R))],"stretch"!==s&&a["align-items-xs-".concat(String(s))],"stretch"!==i&&a["align-content-xs-".concat(String(i))],"flex-start"!==(v||b)&&a["justify-content-xs-".concat(String(v||b))],!1!==D&&a["grid-xs-".concat(String(D))],!1!==E&&a["grid-sm-".concat(String(E))],!1!==S&&a["grid-md-".concat(String(S))],!1!==_&&a["grid-lg-".concat(String(_))],!1!==N&&a["grid-xl-".concat(String(N))]);return t.createElement(u,(0,bN.Z)({className:F,ref:n},L))})),eW=(0,EN.Z)((function(e){return(0,bN.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return $q.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Xq(i,2)),width:"calc(100% + ".concat(Xq(i),")"),"& > $item":{padding:Xq(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Yq.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,bN.Z)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Jq);const tW=eW;var nW=n(812),rW=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.collapsedHeight,a=e.collapsedSize,l=void 0===a?"0px":a,c=e.component,u=void 0===c?"div":c,d=e.disableStrictModeCompat,h=void 0!==d&&d,f=e.in,p=e.onEnter,m=e.onEntered,g=e.onEntering,v=e.onExit,y=e.onExited,b=e.onExiting,w=e.style,_=e.timeout,x=void 0===_?nW.x9.standard:_,S=e.TransitionComponent,k=void 0===S?wD:S,E=(0,SN.Z)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),C=_U(),I=t.useRef(),T=t.useRef(null),R=t.useRef(),P="number"===typeof(s||l)?"".concat(s||l,"px"):s||l;t.useEffect((function(){return function(){clearTimeout(I.current)}}),[]);var N=C.unstable_strictMode&&!h,A=t.useRef(null),D=(0,RN.Z)(n,N?A:void 0),O=function(e){return function(t,n){if(e){var r=N?[A.current,t]:[t,n],i=(0,HZ.Z)(r,2),o=i[0],s=i[1];void 0===s?e(o):e(o,s)}}},M=O((function(e,t){e.style.height=P,p&&p(e,t)})),L=O((function(e,t){var n=T.current?T.current.clientHeight:0,r=xU({style:w,timeout:x},{mode:"enter"}).duration;if("auto"===x){var i=C.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),R.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),g&&g(e,t)})),F=O((function(e,t){e.style.height="auto",m&&m(e,t)})),z=O((function(e){var t=T.current?T.current.clientHeight:0;e.style.height="".concat(t,"px"),v&&v(e)})),j=O(y),Z=O((function(e){var t=T.current?T.current.clientHeight:0,n=xU({style:w,timeout:x},{mode:"exit"}).duration;if("auto"===x){var r=C.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),R.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=P,b&&b(e)}));return t.createElement(k,(0,bN.Z)({in:f,onEnter:M,onEntered:F,onEntering:L,onExit:z,onExited:j,onExiting:Z,addEndListener:function(e,t){var n=N?e:t;"auto"===x&&(I.current=setTimeout(n,R.current||0))},nodeRef:N?A:void 0,timeout:"auto"===x?null:x},E),(function(e,n){return t.createElement(u,(0,bN.Z)({className:(0,kN.default)(i.root,i.container,o,{entered:i.entered,exited:!f&&"0px"===P&&i.hidden}[e]),style:(0,bN.Z)({minHeight:P},w),ref:D},n),t.createElement("div",{className:i.wrapper,ref:T},t.createElement("div",{className:i.wrapperInner},r)))}))}));rW.muiSupportAuto=!0;const iW=(0,EN.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(rW),oW=xN((e=>({assetButton:{margin:e.spacing(1),padding:e.spacing(1,2),[e.breakpoints.down("xs")]:{minWidth:"80px",minHeight:"40px"},[e.breakpoints.up("sm")]:{minWidth:"100px",minHeight:"50px"},transition:e.transitions.create(["background-color","box-shadow"])},selected:{"&$assetButton":{backgroundColor:"#2196F3",color:"white","&:hover":{backgroundColor:"#1976D2"}}},assetContainer:{border:"1px solid #d4d4d4",borderRadius:"8px",padding:e.spacing(2),marginBottom:e.spacing(2),boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},buttonContainer:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(2)},controlButton:{color:"#fff",backgroundColor:"#3f51b5","&:hover":{backgroundColor:"#303f9f"}},darkGreyButton:{backgroundColor:"rgba(128,128,128,0.56)","&:hover":{backgroundColor:"grey"}}}))),sW=e=>{let{asset:t,isSelected:n,onClick:r}=e;const i=oW(),o=Boolean(t.bridgeId);return(0,rA.jsx)(YN,{variant:"contained",className:"".concat(i.assetButton,"\n                 ").concat(n?i.selected:"","\n                 ").concat(o?i.darkGreyButton:""),onClick:()=>r(t),children:t.name})},aW=e=>{let{assets:n,onAssetSelection:r}=e;const[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)(!1),l=oW(),c=e=>{i.includes(e.id)?o((t=>t.filter((t=>t!==e.id)))):o((t=>[...t,e.id]))};(0,t.useEffect)((()=>{const e=n.filter((e=>i.includes(e.id)));r(e)}),[i,n]);const u=[...n].sort(((e,t)=>(e.name||"").localeCompare(t.name||"")));return(0,rA.jsxs)("div",{className:l.assetContainer,children:[(0,rA.jsxs)(TZ,{className:l.buttonContainer,children:[(0,rA.jsx)(YN,{variant:"contained",className:l.controlButton,onClick:()=>a(!s),children:s?"Hide Assets":"Show Assets"}),(0,rA.jsx)(YN,{variant:"contained",className:l.controlButton,onClick:()=>o([]),children:"Clear Selection"})]}),(0,rA.jsx)(iW,{in:s,children:(0,rA.jsx)(tW,{container:!0,spacing:2,children:u.map((e=>!1!==e.isVisible?(0,rA.jsx)(tW,{item:!0,children:(0,rA.jsx)(sW,{asset:e,isSelected:i.includes(e.id),onClick:c})},e.id):null))})})]})},lW=e=>{let{zones:n,width:r,height:i}=e;const[o,s]=(0,t.useState)([]),a=(0,t.useRef)(new Set),l=((0,t.useRef)(null),(0,t.useMemo)((()=>n.reduce(((e,t)=>(e[t.id]=t,e)),{})),[n]));return(0,t.useEffect)((()=>{const e=MR.collection("wavelet-boutique").doc("selectedAsset"),t=[],n=e.onSnapshot((e=>{const n=e.data().assetIds||[];t.forEach((e=>e())),n.forEach((e=>{const n=MR.collection("wavelet-boutique").doc("selectedAsset").collection(e).where("rendered","==",!1).onSnapshot((t=>{if(!t.empty){let n=[],r=MR.batch();t.docs.slice(0,500).forEach((t=>{const i=t.data();if(a.current.has(i.uuid))console.log("Found duplicate UUID:",i.uuid);else{a.current.add(i.uuid),n.push(i);const o=MR.collection("wavelet-boutique").doc("selectedAsset").collection(e).doc(t.id);r.update(o,{rendered:!0})}})),r.commit().then((()=>{s((e=>[...e,...n]))})).catch((e=>{console.error("Error committing batch:",e)}))}}));t.push(n)}))}));return()=>{t.forEach((e=>e())),n()}}),[]),(0,t.useEffect)((()=>{if(o.length>0){const e=setTimeout((()=>{s([])}),2e3);return()=>{clearTimeout(e)}}}),[o]),console.log("Wavelet Rendered",o),(0,rA.jsx)("div",{style:{position:"absolute",width:"".concat(r,"px"),height:"".concat(i,"px"),overflow:"hidden"},children:o.map((e=>{const t=l[e.bridgeId];if(t){const{posX:n,posY:o}=((e,t,n,r)=>({posX:Math.min(Math.max(e,7),n-7),posY:Math.min(Math.max(t,9),r-9)}))(t.x,t.y,r,i),s=Math.pow(700/e.rssi,2),a=e.rssi/5,l=200,c=100;return(0,rA.jsxs)("svg",{width:"14px",height:"18px",style:{position:"absolute",top:o,left:n,zIndex:2,overflow:"visible"},children:[(0,rA.jsx)("circle",{className:"wave",cx:"20",cy:"20",r:s,fill:"none",stroke:"blue",strokeWidth:"1"}),(0,rA.jsx)("rect",{x:130,y:20-c/2,width:l,height:c,fill:"white",stroke:"black",className:"fadeWithWave"}),(0,rA.jsxs)("text",{x:130+l/2,y:20-a/2,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"".concat(a,"px")},className:"fadeWithWave",children:[(0,rA.jsx)("tspan",{x:130+l/2,dy:"0",children:"BridgeId: ".concat(e.bridgeId)}),(0,rA.jsx)("tspan",{x:130+l/2,dy:a,children:"RSSI: -".concat(e.rssi)})]})]},"packet-".concat(e.uuid))}return null}))})};var cW=n(119),uW=n.n(cW);const dW={".1":"rgba(41,0,190,0.1)",".3":"rgba(41,0,190,0.3)",".7":"rgba(41,0,190,0.7)",1:"rgba(41,0,190,1)"},hW={".1":"rgba(111,0,175,0.1)",".3":"rgba(111,0,175,0.3)",".7":"rgba(111,0,175,0.7)",1:"rgba(111,0,175,1)"},fW={".1":"rgba(165,0,154,0.1)",".3":"rgba(165,0,154,0.3)",".7":"rgba(165,0,154,0.7)",1:"rgba(165,0,154,1)"},pW={".1":"rgba(221,1,107,0.1)",".3":"rgba(221,1,107,0.3)",".7":"rgba(221,1,107,0.7)",1:"rgba(221,1,107,1)"},mW={".1":"rgba(225,0,0,0.1)",".3":"rgba(225,0,0,0.3)",".7":"rgba(225,0,0,0.7)",1:"rgba(225,0,0,1)"},gW=e=>e<=23?dW:e<=24?hW:e<=25?fW:e<=26?pW:mW;let vW=20;vN((e=>{vW=e}));const yW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e.toFixed(t))},bW=t.memo((e=>{var n;let{data:r,zones:i,imgUrl:o}=e;const s=o||"https://firebasestorage.googleapis.com/v0/b/wiliot-asset-tracking.appspot.com/o/kisspng-jack-o-lantern-halloween-pumpkin-clip-art-cute-pumpkin-transparent-background-5a7962a124d2b7.7872577415179045451508%20(1).png?alt=media&token=decad649-c213-4daa-bb96-e5217a8a7c45&_gl=1*lriw00*_ga*NjU4MTkwMzQ5LjE2ODk3NjQwNDg.*_ga_CW55HF8NVT*MTY5NzgzMTM3MS4xNjEuMS4xNjk3ODMxMzg4LjQzLjAuMA..",[a,l]=(0,t.useState)(0),c=(0,t.useRef)(null),u=(0,t.useRef)(null),d=gW(Number((null===r||void 0===r||null===(n=r[19])||void 0===n?void 0:n.temperature)||22));console.log(d);const h=(0,t.useMemo)((()=>Oq(i)),[i]),[f,p]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if(!c.current||!r)return;const e=((e,t)=>{const n={};return e.forEach((e=>{const r=t.bridgeToZone[e.bridgeId],i=t.zoneRefBridge[r];r?n[r]?(n[r].value+=yW(e.value),n[r].value=yW(n[r].value)):n[r]={x:i.x,y:i.y,value:yW(e.value),name:i.name}:console.error("No zoneId found for bridgeId:",e.bridgeId)})),console.log("data for this welch",n),Object.values(n)})(r,h),{highestAggregateZone:t,threshold:n}=((e,t)=>{const n={};e.forEach((e=>{const r=t.bridgeToZone[e.bridgeId],i=t.zoneRefBridge[r],o=i.name;n[r]?(n[r].value+=e.value,n[r].count+=1):n[r]={x:i.x,y:i.y,value:e.value,count:1,name:o}}));const r=Object.values(n);let i;return i=r.length>0?r.reduce(((e,t)=>e.value>t.value?e:t)):{value:0},{highestAggregateZone:i,threshold:r.reduce(((e,t)=>e+t.value),0)/r.length*1.2}})(r,h);t.value>n?c.current.configure({gradient:d}):c.current.configure({}),t.value/=t.count;const i={x:t.x,y:t.y,value:2*t.value,name:t.name};p({x:i.x,y:i.y}),c.current.setData({data:[]});const o=e.findIndex((e=>e.x===i.x&&e.y===i.y&&e.name===i.name));-1!==o?e[o].value+=i.value:e.push(i);let s=-1/0,a=1/0;return e.forEach((e=>{s=Math.max(s,e.value),a=Math.min(a,e.value)})),console.log("aggregatedData before",e),e.forEach((e=>{e.value=(e.value-a)/(s-a)*100,isNaN(e.value)&&(e.value=100)})),console.log("aggregatedData",e),e.forEach((e=>{c.current.addData(e)})),()=>{c.current.setData({data:[]})}}),[r,a]),(0,t.useEffect)((()=>{var e;console.log("select gradient data",null===(e=r[0])||void 0===e?void 0:e.temperature),c.current||(c.current=uW().create({container:u.current,radius:160,gradient:d,max:100}))}),[d]),(0,rA.jsxs)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[f&&(0,rA.jsx)("img",{src:s,alt:"Jack-O'-Lantern",style:{position:"absolute",top:"".concat(f.y,"px"),left:"".concat(f.x,"px"),width:"100px",height:"100px",transform:"translate(-50%, -50%)",zIndex:1e3}}),(0,rA.jsx)("div",{ref:u,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})]})})),wW=bW,_W=(e,n,r)=>{const[i,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{const t=n.find((e=>e.id===r.id));if(!t)return;const i=e.rect.x+e.rect.width/2,s=e.rect.y+e.rect.height/2,a=Math.pow(100/t.rssi,7),l={x:Math.round(i),y:Math.round(s),value:a,bridgeId:t.bridgeId,timeStamp:new Date(Date.now()),temperature:t.temperature};o((e=>[l,...e].slice(0,20)))}),[e,n,r]),i},xW=e=>{let{asset:n,zone:r,assets:i,zones:o}=e;const s=_W(r,i,n),a=(0,t.useMemo)((()=>i.find((e=>n.id===e.id&&e.bridgeId===r.id))),[i,n,r]);return a&&r.rect?(console.log("img for highlightedAsset",a),(0,rA.jsx)(wW,{data:s,zones:o,imgUrl:a.imgUrl})):null},SW=e=>{let{zone:t,highlightedAssetsArray:n,assets:r,zones:i}=e;return(0,rA.jsx)(rA.Fragment,{children:n.map((e=>(0,rA.jsx)(xW,{asset:e,zone:t,assets:r,zones:i},e.id)))})},kW=e=>{let{width:t,height:n,zone:r,assetNamesForZone:i,assetTempForZone:o}=e;const s=r.rect.x+r.rect.width/2+10,a=r.rect.y+r.rect.height/2;gW(o[0]);return(0,rA.jsxs)("svg",{width:t,height:n,style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:[(0,rA.jsx)("circle",{cx:s,cy:a-50,r:"45",fill:"red",fillOpacity:"0.8"}),(0,rA.jsx)("path",{d:"M".concat(s-40," ").concat(a-25," L").concat(s," ").concat(a+25," L").concat(s+40," ").concat(a-25," Z"),fill:"red",fillOpacity:"0.8"}),(0,rA.jsx)("text",{x:s,y:a-70,fill:"black",fontSize:"12",fontWeight:"bold",textAnchor:"middle",alignmentBaseline:"middle"}),"'",(0,rA.jsx)("text",{x:s,y:a-30,fill:"black",fontSize:"20",fontWeight:"bold",textAnchor:"middle",alignmentBaseline:"middle",children:i.join(", ")})]})};const EW=function(){const e=_D(),[n,r]=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,fA.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:o=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=(0,Hq.Z)({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,""),(void 0!==Kq?Qq:Gq)(l,i,o,s,a)}(e.breakpoints.down("sm")),(0,t.useState)(null)),[i,o]=(0,t.useState)([]),s=(0,t.useRef)(null),[a,l]=(0,t.useState)({width:0,height:0}),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)([]),b=(0,t.useRef)(null),[w,_]=(0,t.useState)(null),[x,S]=(0,t.useState)(""),[k,E]=(0,t.useState)(null),[C,I]=(0,t.useState)([]),[T,R]=(0,t.useState)([]),[P,N]=(0,t.useState)([]),[A,D]=(0,t.useState)(!1),{locations:O,fetchedZones:M,categories:L,fetchZonesWrapper:F,zoneCategory:z}=aV(),{zones:j,setZones:Z,selectedZone:U}=lV(M),B=Cq(),V=("calc(100vh - ".concat(B,"px - ").concat(e.spacing(4),")"),"calc(100vh - ".concat(B,"px - ").concat(e.spacing(2),")"),(0,t.useRef)(null)),q=(0,t.useRef)(null),[W,H]=(0,t.useState)(!1),{scale:G,recalculateScaleCallback:K}=Dq(V,s,W),Q=((0,t.useRef)(),(0,t.useMemo)((()=>Oq(j)),[j])),$=(0,t.useRef)([]);(0,t.useEffect)((()=>{const e=$.current;if($.current=P,JSON.stringify(e)!==JSON.stringify(P)){console.warn("selectedAssets changed to",P);(async()=>{const e=P.map((e=>e.id));await(async e=>{const t=Hm(MR,"wavelet","selectedAsset");if(!((e,t)=>{if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every(((e,t)=>e===r[t]))})((await dv(t)).data().assetIds,e))return console.log("updating assetIds in wavelet: ",e),await vv(t,{assetIds:e});console.log("assetIds are the same, not updating.")})(e)})()}}),[P]),(0,t.useEffect)((()=>{const e=(e=>bv(Wm(MR,"assets-boutique"),(t=>{const n=t.docs.map((e=>e.data()));e(n)})))((e=>{R(e)}));return()=>e()}),[]),(0,t.useEffect)((()=>{s.current&&l({width:s.current.clientWidth,height:s.current.clientHeight})}),[n]),(0,t.useEffect)((()=>{(async()=>{if(!c)return r(null),p(""),g(""),void o([]);const e=await mN(c);e&&"imageUrl"in e?(r(e.imageUrl),h(e.imageUrl),s.current&&(s.current.src=e.imageUrl),p(e.address||""),g(e.locationName||"")):(r(null),h(null),s.current&&(s.current.src=""),p(""),g(""));const t=(await pv(Vg(Wm(MR,"bridge-mapping-details-boutique")))).docs.map((e=>{const t=e.data();return{name:t.name,x:t.x,y:t.y,width:t.width,height:t.height,id:t.id,isDragged:t.isDragged,zoneId:t.zoneId,zoneName:t.zoneName,dockDoorGroup:t.dockDoorGroup}}));t.length>0&&Y(t)})()}),[c]);const Y=e=>{const t=e.map((e=>({...e,rect:{x:e.x,y:e.y,width:e.width,height:e.height},isDragged:e.isDragged})));Z(t)},X=(0,t.useRef)(),J=Fq(T),ee=zq(0,Q,J),te=jq(j);return new Set(P.map((e=>e.poiIdEvent))),(0,rA.jsxs)(mV,{children:[(0,rA.jsxs)(AO,{position:"static",sx:{background:"#fafafa",boxShadow:"none",borderBottom:"1px solid #e0e0e0"},elevation:0,children:[c&&(0,rA.jsx)(aq,{}),(0,rA.jsx)(pV,{assets:T,filteredAssets:v,setFilteredAssets:y,highlightedAssets:C,setHighlightedAssets:I,searchText:x,setSearchText:S,searchInputRef:X})]}),(0,rA.jsxs)(Sj,{maxWidth:"xl",sx:{mt:5},children:[c&&n?(0,rA.jsx)(CO,{sx:{mb:3},children:(0,rA.jsxs)(eO,{elevation:2,sx:{p:2,borderRadius:"8px"},children:[(0,rA.jsx)(EL,{variant:"h6",gutterBottom:!0,children:"Assets Selection Panel"}),(0,rA.jsx)(aW,{assets:T,onAssetSelection:N})]})}):null,c?n?(0,rA.jsx)(CO,{sx:{width:"100%",height:"calc(100vh - 240px)",position:"relative"},children:(0,rA.jsx)(eO,{elevation:3,sx:{borderRadius:"8px",overflow:"hidden",height:"100%",width:"100%"},ref:V,children:(0,rA.jsxs)("div",{style:{position:"absolute",width:"100%",height:"100%",transform:"scale(".concat(G,")"),transformOrigin:"left top"},ref:q,children:[(0,rA.jsx)("img",{ref:s,src:n,alt:"Floor Plan",onLoad:()=>{l({width:s.current.clientWidth,height:s.current.clientHeight}),K()}}),(0,rA.jsxs)("div",{ref:b,style:{position:"absolute",top:0,left:0,overflow:"visible",width:a.width,height:a.height},children:[(0,rA.jsx)(lW,{zones:j,width:a.width,height:a.height}),j.map(((e,n)=>{const r=((e,t,n,r,i)=>{const o=Bq(e.zone,t);if(o&&Vq(o,n)){const t=r.filter((e=>o.some((t=>t.zoneId===e.poiIdEvent)))).map((e=>e.name)),n=r.filter((e=>o.some((t=>t.zoneId===e.poiIdEvent)))).map((e=>e.temperature));return(0,rA.jsx)(kW,{...e,assetNamesForZone:t,assetTempForZone:n})}if(n.has(e.zone.zoneId)){const t=r.filter((t=>t.poiIdEvent===e.zone.zoneId)).map((e=>e.name)),n=r.filter((t=>t.poiIdEvent===e.zone.zoneId)).map((e=>e.temperature));return(0,rA.jsx)(kW,{...e,assetNamesForZone:t,assetTempForZone:n})}})(qq(e,new Set,Q,te,a.width,a.height,ee),jq(j),new Set(P.map((e=>e.poiIdEvent))),P);return(0,rA.jsxs)(t.Fragment,{children:[(0,rA.jsx)(SW,{zone:e,highlightedAssetsArray:P,assets:T,zones:j}),r]},"zone-".concat(n))})),!C&&P&&0===P.length&&(0,rA.jsx)(Wq,{assets:T,zones:j,width:a.width,height:a.height,selectedAssets:P})]})]})})}):(0,rA.jsx)(gj,{container:!0,justifyContent:"center",alignItems:"center",style:{height:"50vh"},children:(0,rA.jsx)(Eq,{})}):(0,rA.jsxs)(eO,{elevation:1,sx:{borderRadius:"8px",p:3},children:[(0,rA.jsx)(EL,{variant:"h6",gutterBottom:!0,children:"Select a Location"}),(0,rA.jsx)(AB,{locations:O,selectedLocation:c,handleLocationChange:e=>{const t=e.target.value;u(""===t?null:t),F(t)}})]})]})]})};var CW=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,s=void 0===o?"div":o,a=(0,SN.Z)(e,["classes","className","component"]);return t.createElement(s,(0,bN.Z)({ref:n,className:(0,kN.default)(r.root,i)},a))}));const IW=(0,EN.Z)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(CW);const TW=t.createContext();var RW="table",PW=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,s=void 0===o?RW:o,a=e.padding,l=void 0===a?"normal":a,c=e.size,u=void 0===c?"medium":c,d=e.stickyHeader,h=void 0!==d&&d,f=(0,SN.Z)(e,["classes","className","component","padding","size","stickyHeader"]),p=t.useMemo((function(){return{padding:l,size:u,stickyHeader:h}}),[l,u,h]);return t.createElement(TW.Provider,{value:p},t.createElement(s,(0,bN.Z)({role:s===RW?null:"table",ref:n,className:(0,kN.default)(r.root,i,h&&r.stickyHeader)},f)))}));const NW=(0,EN.Z)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,bN.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(PW);const AW=t.createContext();var DW={variant:"head"},OW="thead",MW=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,s=void 0===o?OW:o,a=(0,SN.Z)(e,["classes","className","component"]);return t.createElement(AW.Provider,{value:DW},t.createElement(s,(0,bN.Z)({className:(0,kN.default)(r.root,i),ref:n,role:s===OW?null:"rowgroup"},a)))}));const LW=(0,EN.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(MW);var FW=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,s=void 0===o?"tr":o,a=e.hover,l=void 0!==a&&a,c=e.selected,u=void 0!==c&&c,d=(0,SN.Z)(e,["classes","className","component","hover","selected"]),h=t.useContext(AW);return t.createElement(s,(0,bN.Z)({ref:n,className:(0,kN.default)(r.root,i,h&&{head:r.head,footer:r.footer}[h.variant],l&&r.hover,u&&r.selected),role:"tr"===s?null:"row"},d))}));const zW=(0,EN.Z)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,CN.Fq)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(FW);var jW=t.forwardRef((function(e,n){var r,i,o=e.align,s=void 0===o?"inherit":o,a=e.classes,l=e.className,c=e.component,u=e.padding,d=e.scope,h=e.size,f=e.sortDirection,p=e.variant,m=(0,SN.Z)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),g=t.useContext(TW),v=t.useContext(AW),y=v&&"head"===v.variant;c?(i=c,r=y?"columnheader":"cell"):i=y?"th":"td";var b=d;!b&&y&&(b="col");var w=u||(g&&g.padding?g.padding:"normal"),_=h||(g&&g.size?g.size:"medium"),x=p||v&&v.variant,S=null;return f&&(S="asc"===f?"ascending":"descending"),t.createElement(i,(0,bN.Z)({ref:n,className:(0,kN.default)(a.root,a[x],l,"inherit"!==s&&a["align".concat((0,QN.Z)(s))],"normal"!==w&&a["padding".concat((0,QN.Z)(w))],"medium"!==_&&a["size".concat((0,QN.Z)(_))],"head"===x&&g&&g.stickyHeader&&a.stickyHeader),"aria-sort":S,role:r,scope:b},m))}));const ZW=(0,EN.Z)((function(e){return{root:(0,bN.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,CN.$n)((0,CN.Fq)(e.palette.divider,1),.88):(0,CN._j)((0,CN.Fq)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(jW);var UW={variant:"body"},BW="tbody",VW=t.forwardRef((function(e,n){var r=e.classes,i=e.className,o=e.component,s=void 0===o?BW:o,a=(0,SN.Z)(e,["classes","className","component"]);return t.createElement(AW.Provider,{value:UW},t.createElement(s,(0,bN.Z)({className:(0,kN.default)(r.root,i),ref:n,role:s===BW?null:"rowgroup"},a)))}));const qW=(0,EN.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(VW),WW=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{const e=await fN(),t=await pN();n(e),i(t)})()}),[]);return(0,rA.jsx)(ij,{children:(0,rA.jsx)(Sj,{maxWidth:"false",sx:{mt:3,mb:2},children:(0,rA.jsx)(gj,{container:!0,spacing:1,mb:1,children:(0,rA.jsx)(gj,{item:!0,xs:12,md:12,lg:12,p:0,children:(0,rA.jsxs)(eO,{sx:{p:3,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[(0,rA.jsxs)(jM,{direction:"row",justifyContent:"space-between",children:[(0,rA.jsx)(CO,{children:(0,rA.jsxs)("h2",{className:"assets-heading",children:["Assets (",e.length,")"]})}),(0,rA.jsx)(CO,{children:(0,rA.jsxs)(zZ,{className:"assets-category-filter",style:{minWidth:"300px"},children:[(0,rA.jsx)(qZ,{id:"category-filter-label",children:"Filter by category"}),(0,rA.jsxs)(EB,{labelId:"category-filter-label",value:o,onChange:e=>{s(e.target.value)},children:[(0,rA.jsx)(PB,{value:"",children:"All"}),r.map((e=>(0,rA.jsxs)(PB,{value:e.id,children:[e.name," (",e.id,")"]},e.id)))]})]})})]}),(()=>{const t=e.filter((e=>""===o||e.categoryId===o));return 0===t.length?(0,rA.jsxs)(rA.Fragment,{children:[(0,rA.jsx)("p",{children:"No assets found"})," ",(0,rA.jsx)(Eq,{})]}):(0,rA.jsx)(IW,{children:(0,rA.jsxs)(NW,{children:[(0,rA.jsx)(LW,{children:(0,rA.jsxs)(zW,{children:[(0,rA.jsx)(ZW,{children:"Asset ID"}),(0,rA.jsx)(ZW,{children:"Category ID"}),(0,rA.jsx)(ZW,{children:"Status"})]})}),(0,rA.jsx)(qW,{children:t.map((e=>(0,rA.jsxs)(zW,{children:[(0,rA.jsx)(ZW,{children:e.id}),(0,rA.jsx)(ZW,{children:e.categoryId}),(0,rA.jsx)(ZW,{children:e.status})]},e.id)))})]})})})()]})})})})})};const HW=function(){const[e,n]=(0,t.useState)(localStorage.getItem("edgeApiKey")||""),[r,i]=(0,t.useState)(localStorage.getItem("platformApiKey")||""),[o,s]=(0,t.useState)(localStorage.getItem("ownerId")||""),a=(e,t)=>{fetch("https://api.wiliot.com/v1/auth/token/api",{method:"POST",headers:{Authorization:t}}).then((e=>e.json())).then((n=>{localStorage.setItem("".concat(e,"_TOKEN"),n.access_token),setTimeout((()=>{a(e,t)}),1e3*(n.expires_in-60))}))};return(0,rA.jsx)(ij,{children:(0,rA.jsx)(Sj,{maxWidth:"false",sx:{mt:3,mb:2},children:(0,rA.jsx)(gj,{container:!0,spacing:1,mb:1,direction:"column",alignItems:"center",justifyContent:"center",children:(0,rA.jsx)(gj,{item:!0,xs:12,md:12,lg:12,p:0,children:(0,rA.jsxs)(eO,{sx:{p:3,display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[(0,rA.jsx)("h2",{children:"Configuration"}),(0,rA.jsxs)("div",{className:"form-group",children:[(0,rA.jsx)("label",{htmlFor:"edgeApiKey",children:"EDGE API KEY:"}),(0,rA.jsx)("input",{type:"text",id:"edgeApiKey",value:e,onChange:e=>n(e.target.value)})]}),(0,rA.jsxs)("div",{className:"form-group",children:[(0,rA.jsx)("label",{htmlFor:"platformApiKey",children:"PLATFORM API KEY:"}),(0,rA.jsx)("input",{type:"text",id:"platformApiKey",value:r,onChange:e=>i(e.target.value)})]}),(0,rA.jsxs)("div",{className:"form-group",children:[(0,rA.jsx)("label",{htmlFor:"ownerId",children:"OWNER ID:"}),(0,rA.jsx)("input",{type:"text",id:"ownerId",value:o,onChange:e=>s(e.target.value)})]}),(0,rA.jsx)("button",{className:"save-button",onClick:()=>{localStorage.setItem("edgeApiKey",e),localStorage.setItem("platformApiKey",r),localStorage.setItem("ownerId",o)},children:"Save"}),(0,rA.jsx)("button",{className:"save-button",onClick:()=>{const e=localStorage.getItem("edgeApiKey"),t=localStorage.getItem("platformApiKey");console.warn("handleRenewTokens",e),e&&a("EDGE",e),t&&a("PLATFORM",t)},children:"Renew Tokens"})]})})})})})},GW=function(e,t){return IF({basename:null==t?void 0:t.basename,future:Az({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),UL((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return zL("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:jL(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||Mz(),routes:e,mapRouteProperties:Nz,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,rA.jsx)(sV,{})},{path:"/admin/view",element:(0,rA.jsx)(sV,{})},{path:"/user/view",element:(0,rA.jsx)(EW,{})},{path:"/assets",element:(0,rA.jsx)(WW,{})},{path:"/configuration",element:(0,rA.jsx)(HW,{})}]),KW=GW;i.createRoot(document.getElementById("root")).render((0,rA.jsx)(Vz,{router:KW}))})()})();
//# sourceMappingURL=main.3c46f374.js.map